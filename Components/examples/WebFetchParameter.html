<!DOCTYPE html>
<html>
<head>
<title>Blank Web - created by Flowcode V10.0</title>

<!--ID=5d976b5cd998e1d-->
<!----------------------------------------------------------------------------------

Source name:   C:\Users\BenR\Desktop\Fetch.fcsx
Title:         Blank Web
Description:   A blank Web App Developer project suitable for creating apps that run in a browser
Device:        Web Export

Generated by:  Flowcode v10.0.4.38
Date:          Friday, December 01, 2023 15:17:29
Users:         10
Registered to: BenR (BenR)
Licence key: C9TN1M


   NOT FOR COMMERCIAL USE

https://www.flowcode.co.uk

<---------------------------------------------------------------------------------->



<!-- WEBEXP: add any includes, etc, at the start of the file here-->
      <script>
    function sin(a)                 { return Math.sin(a); }
    function cos(a)                 { return Math.cos(a); }
    function tan(a)                 { return Math.tan(a); }
    function asin(a)                { return Math.asin(a); }
    function acos(a)                { return Math.acos(a); }
    function atan(a)                { return Math.atan(a); }
    function atan2(y,x)             { return Math.atan2(y,x); }
    function sinh(a)                { return Math.sinh(a); }
    function cosh(a)                { return Math.cosh(a); }
    function tanh(a)                { return Math.tanh(a); }
    function asinh(a)               { return Math.asinh(a); }
    function acosh(a)               { return Math.acosh(a); }
    function atanh(a)               { return Math.atanh(a); }
    function fact(a)                { TODO; }
    function log(a)                 { return Math.log(a); }
    function log10(a)               { return Math.log10(a); }
    function float32_sqrt(a)        { return Math.sqrt(a); }  //same as float32_sqrt
    function sqrt(a)                { return Math.sqrt(a); }
    function cbrt(a)                { return Math.cbrt(a); }
    function exp(a)                 { return Math.exp(a); }
    function flt_rem(a)             { TODO; }
    function fmod(a)                { TODO; }  //same as flt_rem
    function fabs(a)                { return Math.abs(a); }
    function rand(a)                { return Math.round(65535 * Math.random(a)); }
    function random(a)              { return Math.round(65535 * Math.random(a)); }  //same as rand
    function fround(a)              { return Math.round(a); }
    function pow(x,y)               { return Math.pow(x,y); }
    function ceil(a)                { return Math.ceil(a); }
    function floor(a)               { return Math.floor(a); }
    function round(a)               { return Math.round(a); }
    function flt_add(a,b)           { return (a+b); }
    function flt_sub(a,b)           { return (a-b); }
    function flt_mul(a,b)           { return (a*b); }
    function flt_div(a,b)           { return (a/b); }
    function flt_le(a,b)            { return (a <= b); }
    function flt_lt(a,b)            { return (a < b); }
    function flt_eq(a,b)            { return (a == b); }
    function flt_ge(a,b)            { return (a >= b); }
    function flt_gt(a,b)            { return (a > b); }
    function flt_toi(a)             { return Math.round(a); }
    function flt_fromi(a)           { return (a); }
    function FCI_ARRAYDIMS(a)       { return (a); }
    function FCI_ARRAYSIZE(a)       { return (a); }

    function FCI_GETCHAR(a,b)       { return a.charCodeAt(b); }
    function FCI_GETLENGTH(a)       { return a.length; }
    function FCI_GETUTF8LEN(a)      { return a.length; }
    function FCI_LEFTSTRING(a,b)    { return a.slice(0,b); }
    function FCI_RIGHTSTRING(a,b)   { return a.slice(0-b); }
    function FCI_MIDSTRING(a,b,c)   { return a.slice(b,b+c); }
    function FCI_TOUPPER(a)         { return a.toUpperCase(); }
    function FCI_TOLOWER(a)         { return a.toLowerCase(); }
    
    function FCI_STRING_TO_INT(a)   { return parseInt(a); }
    function FCI_STRING_TO_FLOAT(a) { return parseFloat(a); }
    function FCI_TOSTRING(a)        { return a.toString(10); }
    function FCI_FLOAT2STR(a)       { return a.toString(); }
    function FCI_FLOAT2STR(a,b)     { return a.toPrecision(b).toString(); }
    function FCI_NUMBER_TO_HEX(a)   { return "0x" + a.toString(16); }
    
    function FCI_COMPARE(a,b,c)
    {
      if (c)
      {
        if (a.toUpperCase() == b.toUpperCase())
          return 0;
        else
          if (a.toUpperCase() > b.toUpperCase())
            return 1;
          else
            return -1;
      } else {
        if (a == b)
          return 0;
        else
          if (a > b)
            return 1;
          else
            return -1;
      }
    }

    function FCI_CONTAINS(a,b,c)    { return a.indexOf(b,c); }
    function FCI_SPLITSTRING(a,b,c) { const SSarray = a.split(b); return SSarray[c]; }
    
    function FCI_EXPLODETOINTARRAY(a,b,c)        { return a.split(b).map(Number); }
    function FCI_EXPLODETOFLOATARRAY(a,b,c)      { return a.split(b).map(Number); }
    function FCI_IMPLODEFROMINTARRAY(a,b,c)    	 { let sRetval = ""; for (i=0;i<c;i++) {sRetval = sRetval + a[i].toString(10); if(i<(c - 1)) {sRetval = sRetval + b;} } return sRetval; }
    function FCI_IMPLODEFROMFLOATARRAY(a,b,c,d)  { let sRetval = ""; for (i=0;i<c;i++) {sRetval = sRetval + a[i].toPrecision(d).toString(); if(i<(c - 1)) {sRetval = sRetval + b;} } return sRetval; }
    function FCI_INTTOFORMATTEDSTRING(a,b,c)     { TODO ; }
    function FCI_FLOATTOFORMATTEDSTRING(a,b,c)   { TODO ; }
    function FCI_INSERTSTRING(a,b,c)             { return a.slice(0,c)+b+a.slice(c); }
    function FCI_REMOVEFROMSTRING(a,b,c)         { return a.slice(0,b)+a.slice(b+c); }
    function FCI_SEARCHANDREPLACE(a,b,c)         { let count = a.split(b).length-1; a.replace(b,c); return count;}
   
    
    function resolveAfterMs(val)          { return new Promise((resolve) => { setTimeout(() => { resolve("milli"); }, val); }); }
    async function FCI_DELAYBYTE_US(a)    { await resolveAfterMs(a/1000); }
    async function FCI_DELAYBYTE_MS(a)    { await resolveAfterMs(a); }
    async function FCI_DELAYBYTE_S(a)     { await resolveAfterMs(1000*a); }
    async function FCI_DELAYINT_US(a)     { await resolveAfterMs(a/1000); }
    async function FCI_DELAYINT_MS(a)     { await resolveAfterMs(a); }
    async function FCI_DELAYINT_S(a)      { await resolveAfterMs(1000*a); }

    const MxDelayedObjects = [ ];

   </script>


<!--Script headers for components-->
<script>
//Script header for <035e1_rdoFruit>
</script>
<style>
.lbl_035e1_rdoFruit {
  font-size:16px;
  font-family:Arial, sans-serif;
  background-color:transparent;
  color:#000000;
  text-decoration-line: none;
  /*width:inherit;
  height:inherit;/*
}
</style>
<script>


//Script header for <035e2_rdoPets>
</script>
<style>
.lbl_035e2_rdoPets {
  font-size:16px;
  font-family:Arial, sans-serif;
  background-color:transparent;
  color:#000000;
  text-decoration-line: none;
  /*width:inherit;
  height:inherit;/*
}
</style>
<script>


//Script header for <035e3_rdoSine>
</script>
<style>
.lbl_035e3_rdoSine {
  font-size:16px;
  font-family:Arial, sans-serif;
  background-color:transparent;
  color:#000000;
  text-decoration-line: none;
  /*width:inherit;
  height:inherit;/*
}
</style>
<script>


//Script header for <035e4_rdoTemp>
</script>
<style>
.lbl_035e4_rdoTemp {
  font-size:16px;
  font-family:Arial, sans-serif;
  background-color:transparent;
  color:#000000;
  text-decoration-line: none;
  /*width:inherit;
  height:inherit;/*
}
</style>
<script>


//Script header for <07b91_WebButton1>
</script>
<style>
.btn07b91_WebButton1 {
  width: 130px;
  height: 30px;
  font-size: 16px;
  font-family: Calibri, sans-serif;
  cursor: pointer;
  font-weight: normal;
  font-style: normal;
  text-decoration: none;
  text-align: center;
  color: #000000;
  background-color: #d2d2d2;
  border: none;
  border-radius: 4px;
  box-shadow: 4px 4px #787878;
}
.btn07b91_WebButton1:hover {
  background-color: #b2b2b2;
}
.btn07b91_WebButton1:active {
  background-color: #d2d2d2;
  box-shadow: 2px 2px #787878;
  transform: translateX(2px) translateY(2px);
}
</style>
<script>


//Script header for <052d1_txtResponse>
</script>
<style>
.obj052d1_txtResponse {
  font-size: 12px;
  text-align: left;
  font-family: Arial, sans-serif;
  background-color: transparent;
  color: #000000;
  word-wrap: break-word;
  /*width:inherit;
  height:inherit;/*
}
</style>
<script>


//Script header for <03271_WebChartLine1>
</script>
<script  type='text/javascript' src='https://www.gstatic.com/charts/loader.js'></script>
<script>
  var FCDATA_03271_WebChartLine1;
  MxDelayedObjects.push('FCDATA_03271_WebChartLine1');
  const FCCOLS_03271_WebChartLine1 = 1;

  google.charts.load('current', {'packages':['corechart']}).then(function()
  {
    FCDATA_03271_WebChartLine1 = new google.visualization.DataTable();
    FCDATA_03271_WebChartLine1.addColumn('number', 'X-axis');
    FCDATA_03271_WebChartLine1.addColumn('number', 'Series 1');
    FCDATA_03271_WebChartLine1.addRows([
      [0,180.000000],
      [1,190.000000],
      [2,158.000000],
      [3,194.000000],
      [4,174.000000],
      [5,210.000000],
      [6,192.000000],
      [7,214.000000],
      [8,220.000000],
      [9,154.000000],
    ]);
    FC_03271_WebChartLine1_DrawChart();
    StartupCheck('FCDATA_03271_WebChartLine1');
  });

  function FC_03271_WebChartLine1_DrawChart()
  {
    var options = 
    {
      title: 'Response',
      width: 484.878387,
      height: 516.413452,
      titleTextStyle: { color: '#000000' },
      legend: { position: 'bottom', textStyle: { color: '#000000' } },
      hAxis: { title: 'X-axis', baselineColor: '#000000', gridlines: { color: '#000000' }, textStyle: { color: '#000000' }, titleTextStyle: { color: '#000000' }},
      vAxis: { title: 'Y-axis', baselineColor: '#000000', gridlines: { color: '#000000' }, textStyle: { color: '#000000' }, titleTextStyle: { color: '#000000' }},
      backgroundColor: { fill: '#ffffff', stroke: '#000000', strokeWidth: '4' },
      chartArea: { backgroundColor: '#ffffff' },
      colors: ['#3366cc', '#dc3912', '#ff9900', '#109618', '#990099'],
    };

    var chart = new google.visualization.LineChart(document.getElementById('03271_WebChartLine1'));
    chart.draw(FCDATA_03271_WebChartLine1, options);

  }


//Script header for <09881_WebFetch1>
  var FCURL_09881_WebFetch1 = 'https://flowcode.co.uk/example/get_data.php';
  var FCMAC_09881_WebFetch1 = 'FCM_ProcessResponse';



//Script header for <00011_WebDevLibraryComponent1>


//Script header for <007e1_WebObject1>


//Script header for <00012_WebDevLibraryComponent1>


//Script header for <035e5_rdoUnknown>
</script>
<style>
.lbl_035e5_rdoUnknown {
  font-size:16px;
  font-family:Arial, sans-serif;
  background-color:transparent;
  color:#000000;
  text-decoration-line: none;
  /*width:inherit;
  height:inherit;/*
}
</style>
<script>


//Script header for <0a601_Array1>
  function FCMACARR_0a601_Array1(value, index, array)
  {
    FCM_ParseArray(value, index, array);
  }


//Script header for <00013_WebDevLibraryComponent1>


</script>

</head>



<body style='background-color:#f5f5f5;'>

<!--HTML body info for components-->
<div class = 'container minheight'>
  <div style='position:absolute; left:30px; top:20px; width:230px; height:20px; line-height:20px;'>
    <input id='035e1_rdoFruit' name='GroupName' type='radio' checked>
    <label id='lbl_035e1_rdoFruit' for='035e1_rdoFruit' class='lbl_035e1_rdoFruit'>Fruit</label>
  </div>
  <div style='position:absolute; left:30px; top:50px; width:230px; height:20px; line-height:20px;'>
    <input id='035e2_rdoPets' name='GroupName' type='radio'>
    <label id='lbl_035e2_rdoPets' for='035e2_rdoPets' class='lbl_035e2_rdoPets'>Pets</label>
  </div>
  <div style='position:absolute; left:30px; top:80px; width:230px; height:20px; line-height:20px;'>
    <input id='035e3_rdoSine' name='GroupName' type='radio'>
    <label id='lbl_035e3_rdoSine' for='035e3_rdoSine' class='lbl_035e3_rdoSine'>Sine graph</label>
  </div>
  <div style='position:absolute; left:30px; top:110px; width:230px; height:20px; line-height:20px;'>
    <input id='035e4_rdoTemp' name='GroupName' type='radio'>
    <label id='lbl_035e4_rdoTemp' for='035e4_rdoTemp' class='lbl_035e4_rdoTemp'>Temperature in Halifax, UK</label>
  </div>
  <div style='position: absolute; left: 41px; top: 181px; width: 130px; height: 30px; line-height: 30px; white-space: nowrap;' >
    <button id='07b91_WebButton1' class='btn07b91_WebButton1' onclick='FCM_OnClickGo()' onclickFCRef='FCM_OnClickGo()'>Go</button>
  </div>
  <div style='position: absolute; left: 10px; top: 230px; width: 400px; height: 450px; white-space: normal; overflow: visible;'>
    <div id='052d1_txtResponse' class='obj052d1_txtResponse' name='txtResponse' style='word-wrap:break-word;'>Choose an option and press "Go"
    </div>
  </div>
  <div style='position: absolute; left: 316px; top: -14px; width: 484.878387px; height: 516.413452px; line-height: 516.413452px;' >
    <div id = '03271_WebChartLine1'></div>
  </div>




  <div style='position:absolute; left:30px; top:140px; width:230px; height:20px; line-height:20px;'>
    <input id='035e5_rdoUnknown' name='GroupName' type='radio'>
    <label id='lbl_035e5_rdoUnknown' for='035e5_rdoUnknown' class='lbl_035e5_rdoUnknown'>Unknown parameter</label>
  </div>


</div>

<script>
  //NOTE: we can add fixed functions here from within the Flowcode exe if we want.
  var MX_NOP = function() {}; //no operation equivalent
  function FCAPI_GetHtmlElement(id) { return document.getElementById(id); }
</script>

<script>

/*=----------------------------------------------------------------------=*\
   Use :Array1
       :GUID: a1612734-3758-43e9-b5f1-2b1a35304d19
       :Location: D:\Dev\Flowcode V10\Components\temprelease\WebArray.fcpx
       :Version: 1.0 (0x11e)*
       :Timestamp: 0
       :Variable declarations
       :Macro implementations
\*=----------------------------------------------------------------------=*/
/*=----------------------------------------------------------------------=*\
   Use :Parse a JavaScript array object by calling the macro for each element in the array.
       :
       :Parameters for macro ArrayParse:
       :  Object : The JavaScript object
\*=----------------------------------------------------------------------=*/
function FCD_0a601_Array1__ArrayParse(FCL_OBJECT)
{
  const FC_THIS = '0a601_Array1';

  let macForEach = window['FCMACARR_' + FC_THIS];
  FCL_OBJECT.forEach(macForEach);

}

/*=----------------------------------------------------------------------=*\
   Use :Returns true if the JavaScript object is an array
       :
       :Parameters for macro IsArray:
       :  Object : The JavaScript object
       :
       :Returns : MX_BOOL
\*=----------------------------------------------------------------------=*/
function FCD_0a601_Array1__IsArray(FCL_OBJECT)
{
  const FC_THIS = '0a601_Array1';
  //Local variable definitions
  let FCR_RETVAL = false;  // 


  FCR_RETVAL = Array.isArray(FCL_OBJECT);

  return (FCR_RETVAL);

}

/*=----------------------------------------------------------------------=*\
   Use :Removes elements from a JavaScript array object.  Returns the new size of the array.
       :
       :Parameters for macro ArrayRemoveValues:
       :  Object : The JavaScript object
       :  Index : The element index
       :  Count : The number of values to remove from the array
       :
       :Returns : MX_SINT32
\*=----------------------------------------------------------------------=*/
function FCD_0a601_Array1__ArrayRemoveValues(FCL_OBJECT, FCL_INDEX, FCL_COUNT)
{
  const FC_THIS = '0a601_Array1';
  //Local variable definitions
  let FCR_RETVAL = 0;  // 


  FCL_OBJECT.splice(FCL_INDEX, FCL_COUNT);
  FCR_RETVAL = FCL_OBJECT.length;

  return (FCR_RETVAL);

}

/*=----------------------------------------------------------------------=*\
   Use :Gets the length of a JavaScript array object
       :
       :Parameters for macro ArrayGetLength:
       :  Object : The JavaScript object
       :
       :Returns : MX_SINT32
\*=----------------------------------------------------------------------=*/
function FCD_0a601_Array1__ArrayGetLength(FCL_OBJECT)
{
  const FC_THIS = '0a601_Array1';
  //Local variable definitions
  let FCR_RETVAL = 0;  // 


  FCR_RETVAL = FCL_OBJECT.length;

  return (FCR_RETVAL);

}

/*=----------------------------------------------------------------------=*\
   Use :Gets the value of an element in a JavaScript array object
       :
       :Parameters for macro ArrayGetValue:
       :  Object : The JavaScript object
       :  Index : The element index
       :
       :Returns : MX_UINT32
\*=----------------------------------------------------------------------=*/
function FCD_0a601_Array1__ArrayGetValue(FCL_OBJECT, FCL_INDEX)
{
  const FC_THIS = '0a601_Array1';
  //Local variable definitions
  let FCR_RETVAL = {};  // 


  FCR_RETVAL = FCL_OBJECT.at(FCL_INDEX);

  return (FCR_RETVAL);

}

/*=----------------------------------------------------------------------=*\
   Use :Gets the index of a value within a JavaScript array object
       :
       :Parameters for macro ArrayIndexOf:
       :  Object : The JavaScript object
       :  Value : The value to look for within the array
       :  Start : The index to start the search (use negative numbers to search backwards)
       :
       :Returns : MX_SINT32
\*=----------------------------------------------------------------------=*/
function FCD_0a601_Array1__ArrayIndexOf(FCL_OBJECT, FCL_VALUE, FCL_START)
{
  const FC_THIS = '0a601_Array1';
  //Local variable definitions
  let FCR_RETVAL = 0;  // 


  FCR_RETVAL = FCL_OBJECT.indexOf(FCL_VALUE, FCL_START);

  return (FCR_RETVAL);

}

/*=----------------------------------------------------------------------=*\
   Use :Adds an element to a JavaScript array object.  Returns the new size of the array.
       :
       :Parameters for macro ArrayAddValue:
       :  Object : The JavaScript object
       :  Index : The element index
       :  Element : The new element to add to the array
       :
       :Returns : MX_SINT32
\*=----------------------------------------------------------------------=*/
function FCD_0a601_Array1__ArrayAddValue(FCL_OBJECT, FCL_INDEX, FCL_ELEMENT)
{
  const FC_THIS = '0a601_Array1';
  //Local variable definitions
  let FCR_RETVAL = 0;  // 


  FCL_OBJECT.splice(FCL_INDEX, 0, FCL_ELEMENT);
  FCR_RETVAL = FCL_OBJECT.length;

  return (FCR_RETVAL);

}

/*=----------------------------------------------------------------------=*\
   Use :Sets the value of an element in a JavaScript array object
       :
       :Parameters for macro ArraySetValue:
       :  Object : The JavaScript object
       :  Index : The element index
       :  Value : The new value for the array element
\*=----------------------------------------------------------------------=*/
function FCD_0a601_Array1__ArraySetValue(FCL_OBJECT, FCL_INDEX, FCL_VALUE)
{
  const FC_THIS = '0a601_Array1';

  FCL_OBJECT[FCL_INDEX] = FCL_VALUE;

}


/*=----------------------------------------------------------------------=*\
   Use :rdoUnknown
       :GUID: 1aadf780-b159-4970-8c1a-6af1ec49335b
       :Location: D:\Dev\Flowcode V10\Components\temprelease\WebRadio.fcpx
       :Version: 1.0 (0x11e)*
       :Timestamp: 0
       :Variable declarations
       :Macro implementations
\*=----------------------------------------------------------------------=*/
/*=----------------------------------------------------------------------=*\
   Use :Returns true if this radio button is currently selected
       :
       :Returns : MX_BOOL
\*=----------------------------------------------------------------------=*/
function FCD_035e5_rdoUnknown__GetState()
{
  const FC_THIS = '035e5_rdoUnknown';
  //Local variable definitions
  let FCR_RETVAL = false;  // 

  FCR_RETVAL = (document.getElementById(FC_THIS).checked == true);


  return (FCR_RETVAL);

}

/*=----------------------------------------------------------------------=*\
   Use :Sets this radio button to be selected or unselected
       :
       :Parameters for macro SetState:
       :  bState : The state to set this radio button to
\*=----------------------------------------------------------------------=*/
function FCD_035e5_rdoUnknown__SetState(FCL_BSTATE)
{
  const FC_THIS = '035e5_rdoUnknown';

  if (FCL_BSTATE)
  {
    document.getElementById(FC_THIS).checked = true;

  } else {
    document.getElementById(FC_THIS).checked = false;

  }

}


/*=----------------------------------------------------------------------=*\
   Use :WebObject1
       :GUID: 2e5d477d-7e43-4691-95e1-becf96fed02d
       :Location: D:\Dev\Flowcode V10\Components\temprelease\WebObject.fcpx
       :Version: 1.0 (0x11e)*
       :Timestamp: 0
       :Variable declarations
       :Macro implementations
\*=----------------------------------------------------------------------=*/
/*=----------------------------------------------------------------------=*\
   Use :Converts an object to a JSON string
       :
       :Parameters for macro ObjectToJSON:
       :  Object : The JavaScript object
       :
       :Returns : MX_CHAR*
\*=----------------------------------------------------------------------=*/
function FCD_007e1_WebObject1__ObjectToJSON(FCL_OBJECT)
{
  const FC_THIS = '007e1_WebObject1';
  //Local variable definitions

  FCR_RETVAL = JSON.stringify(FCL_OBJECT);

  return (FCR_RETVAL);

}

/*=----------------------------------------------------------------------=*\
   Use :Converts a JSON string to a JavaScript object
       :
       :Parameters for macro JSONToObject:
       :  Text : The JSON string to convert to a JavaScript object
       :
       :Returns : MX_UINT32
\*=----------------------------------------------------------------------=*/
function FCD_007e1_WebObject1__JSONToObject(FCL_TEXT)
{
  const FC_THIS = '007e1_WebObject1';
  //Local variable definitions
  let FCR_RETVAL = {};  // 


  FCR_RETVAL = JSON.parse(FCL_TEXT);

  return (FCR_RETVAL);

}

/*=----------------------------------------------------------------------=*\
   Use :Converts an object to a string
       :
       :Parameters for macro ObjectToString:
       :  Object : The JavaScript object
       :
       :Returns : MX_CHAR*
\*=----------------------------------------------------------------------=*/
function FCD_007e1_WebObject1__ObjectToString(FCL_OBJECT)
{
  const FC_THIS = '007e1_WebObject1';
  //Local variable definitions

  FCR_RETVAL = FCL_OBJECT;

  return (FCR_RETVAL);

}

/*=----------------------------------------------------------------------=*\
   Use :Gets the value for a key in a JavaScript object
       :
       :Parameters for macro GetValue:
       :  Object : The JavaScript object
       :  sKey : The key name
       :
       :Returns : MX_UINT32
\*=----------------------------------------------------------------------=*/
function FCD_007e1_WebObject1__GetValue(FCL_OBJECT, FCL_SKEY)
{
  const FC_THIS = '007e1_WebObject1';
  //Local variable definitions
  let FCR_RETVAL = {};  // 


  FCR_RETVAL = FCL_OBJECT[FCL_SKEY];

  return (FCR_RETVAL);

}

/*=----------------------------------------------------------------------=*\
   Use :Converts an object to a number
       :
       :Parameters for macro ObjectToNumber:
       :  Object : The JavaScript object
       :
       :Returns : MX_SINT32
\*=----------------------------------------------------------------------=*/
function FCD_007e1_WebObject1__ObjectToNumber(FCL_OBJECT)
{
  const FC_THIS = '007e1_WebObject1';
  //Local variable definitions
  let FCR_RETVAL = 0;  // 


  FCR_RETVAL = FCL_OBJECT;

  return (FCR_RETVAL);

}

/*=----------------------------------------------------------------------=*\
   Use :Converts a string to a JavaScript object
       :
       :Parameters for macro StringToObject:
       :  Var : The string to convert to a JavaScript object
       :
       :Returns : MX_UINT32
\*=----------------------------------------------------------------------=*/
function FCD_007e1_WebObject1__StringToObject(FCL_VAR)
{
  const FC_THIS = '007e1_WebObject1';
  //Local variable definitions
  let FCR_RETVAL = {};  // 


  FCR_RETVAL = FCL_VAR;

  return (FCR_RETVAL);

}

/*=----------------------------------------------------------------------=*\
   Use :Sets the value of a key in a JavaScript object.  Returns true if the key already exists.
       :
       :Parameters for macro SetValue:
       :  Object : The JavaScript object
       :  sKey : The key name
       :  Value : The value for the key
       :
       :Returns : MX_BOOL
\*=----------------------------------------------------------------------=*/
function FCD_007e1_WebObject1__SetValue(FCL_OBJECT, FCL_SKEY, FCL_VALUE)
{
  const FC_THIS = '007e1_WebObject1';
  //Local variable definitions
  let FCR_RETVAL = false;  // 


  FCR_RETVAL = (FCL_SKEY in FCL_OBJECT);
  FCL_OBJECT[FCL_SKEY] = FCL_VALUE;

  return (FCR_RETVAL);

}

/*=----------------------------------------------------------------------=*\
   Use :Converts a number to a JavaScript object
       :
       :Parameters for macro NumberToObject:
       :  Var : The number to convert to a JavaSctipt object
       :
       :Returns : MX_UINT32
\*=----------------------------------------------------------------------=*/
function FCD_007e1_WebObject1__NumberToObject(FCL_VAR)
{
  const FC_THIS = '007e1_WebObject1';
  //Local variable definitions
  let FCR_RETVAL = {};  // 


  FCR_RETVAL = FCL_VAR;

  return (FCR_RETVAL);

}


/*=----------------------------------------------------------------------=*\
   Use :WebFetch1
       :GUID: 209c214a-3fdf-4a09-9354-e2f146dbdedc
       :Location: D:\Dev\Flowcode V10\Components\temprelease\WebFetch.fcpx
       :Version: 1.0 (0x11e)*
       :Timestamp: 0
       :Variable declarations
       :Macro implementations
\*=----------------------------------------------------------------------=*/
let FCV_09881_WebFetch1__DTYPE = 0;

/*=----------------------------------------------------------------------=*\
   Use :Parameters for macro SetMacro:
       :  sMacro : MX_CHAR
\*=----------------------------------------------------------------------=*/
function FCD_09881_WebFetch1__SetMacro(FCL_SMACRO)
{
  const FC_THIS = '09881_WebFetch1';

  window['FCMAC_' + FC_THIS] = "FCM_" + FCL_SMACRO;

}

/*=----------------------------------------------------------------------=*\
   Use :Start the process of fetching a resource from a web server
       :
       :Parameters for macro Fetch:
       :  sParams : Parameters for the Fetch call
\*=----------------------------------------------------------------------=*/
function FCD_09881_WebFetch1__Fetch(FCL_SPARAMS)
{
  const FC_THIS = '09881_WebFetch1';
  //Local variable definitions
  let FCL_URL = "";  // 


  let url = window['FCURL_' + FC_THIS];
  let mac = window['FCMAC_' + FC_THIS];

  if (FCI_GETLENGTH(FCL_SPARAMS) > 0)
  {
    url = url + "?" + FCL_SPARAMS;

  // } else {
  }

  if (FCV_09881_WebFetch1__DTYPE)
  {
    fetch(url).then(r=> r.text().then(j=> window[mac](j)));

  } else {
    fetch(url).then(r=> r.json().then(j=> window[mac](j)));

  }

}

/*=----------------------------------------------------------------------=*\
   Use :Override the DataType property
       :
       :Parameters for macro SetDataType:
       :  Type : 0=JSON Encoded. 1=Raw Text
\*=----------------------------------------------------------------------=*/
function FCD_09881_WebFetch1__SetDataType(FCL_TYPE)
{
  const FC_THIS = '09881_WebFetch1';

  // DType = .Type
  FCV_09881_WebFetch1__DTYPE = FCL_TYPE;

}

/*=----------------------------------------------------------------------=*\
   Use :Sets the URL for the Fetch call
       :
       :Parameters for macro SetURL:
       :  sURL : MX_CHAR
\*=----------------------------------------------------------------------=*/
function FCD_09881_WebFetch1__SetURL(FCL_SURL)
{
  const FC_THIS = '09881_WebFetch1';

  window['FCURL_' + FC_THIS] = FCL_SURL;

}


/*=----------------------------------------------------------------------=*\
   Use :WebChartLine1
       :GUID: 724dc5b4-8519-41ff-a96d-413275961305
       :Location: C:\ProgramData\MatrixTSL\FlowcodeV10\Components\WebChartLine.fcpx
       :Version: 1.0 (0x11e)*
       :Timestamp: 0
       :Variable declarations
       :Macro implementations
\*=----------------------------------------------------------------------=*/
/*=----------------------------------------------------------------------=*\
   Use :Sets the names for each series
       :
       :Parameters for macro SetSeriesNames:
       :  SeriesCount : The number of series to plot (1-8)
       :  SeriesNames : Comma-separated list of series names
\*=----------------------------------------------------------------------=*/
function FCD_03271_WebChartLine1__SetSeriesNames(FCL_SERIESCOUNT, FCL_SERIESNAMES)
{
  const FC_THIS = '03271_WebChartLine1';
  //Local variable definitions
  let FCL_ITEMP = 0;  // 
  let FCL_STEMP = "";  // 


  //Comment:
  //NOTE: arrays are not currently supported, so we pass 
  //in a comma-demlimited string

  if ((FCL_SERIESCOUNT < 1) || (FCL_SERIESCOUNT > 5))
  {
    const newError = new RangeError("SeriesCount needs to be between 1 and 5. Value=" + FCL_SERIESCOUNT.toString());
    self.reportError(newError);
    return;
  }

  const array = FCL_SERIESNAMES.split(',');

  let data = window['FCDATA_' + FC_THIS];

  let iOldSeriesCount = data.getNumberOfColumns() - 1;

  //remove unwanted columns
  if (FCL_SERIESCOUNT < iOldSeriesCount)
  {
    for (let i = iOldSeriesCount; i > FCL_SERIESCOUNT; i--)
    {
      data.removeColumn(i);
    }
  }

  for (let i = 1; i <= FCL_SERIESCOUNT; i++)
  {
    if (i <= iOldSeriesCount)
    {
      data.setColumnLabel(i, array[i-1]);
    }
    else
    {
      data.addColumn('number', array[i-1]);
    }
  }



}

/*=----------------------------------------------------------------------=*\
   Use :Remove all data from the chart
\*=----------------------------------------------------------------------=*/
function FCD_03271_WebChartLine1__ClearData()
{
  const FC_THIS = '03271_WebChartLine1';
  //Local variable definitions
  let FCL_ITEMP = 0;  // 
  let FCL_STEMP = "";  // 

  //clear the data
  data = window['FCDATA_' + FC_THIS];
  rows = data.getNumberOfRows();
  data.removeRows(0, rows);


/*
  FCD_03271_WebChartLine1__Redraw();

*/

}

/*=----------------------------------------------------------------------=*\
   Use :Redraw the chart
\*=----------------------------------------------------------------------=*/
function FCD_03271_WebChartLine1__Redraw()
{
  const FC_THIS = '03271_WebChartLine1';
  //redraw the chart
  window['FC_' + FC_THIS + '_DrawChart']();


}

/*=----------------------------------------------------------------------=*\
   Use :Add to the chart
       :
       :Parameters for macro AddPoint:
       :  x : X value to plot
       :  y : Y value to plot
       :  index : Series index (1-8)
\*=----------------------------------------------------------------------=*/
function FCD_03271_WebChartLine1__AddPoint(FCL_X, FCL_Y, FCL_INDEX)
{
  const FC_THIS = '03271_WebChartLine1';

  data = window['FCDATA_' + FC_THIS];

  colcount = data.getNumberOfColumns();
  if ((FCL_INDEX > 0) && (FCL_INDEX < colcount))
  {
    rows = data.getFilteredRows([{column: 0, value: FCL_X}]);
    if (rows.length == 1)
    {
      rowIdx = rows[0];
      data.setCell(rowIdx, FCL_INDEX, FCL_Y);
    }
    else
    {
      //add the data
      data.addRow();
      rowcount = data.getNumberOfRows() - 1;
      data.setCell(rowcount, 0, FCL_X);
      data.setCell(rowcount, FCL_INDEX, Number(FCL_Y));
    }
  }
  else
  {
    const newError = new RangeError("Index out of range in call to AddPoint. Value=" + FCL_INDEX.toString() + "; ColCount=" + colcount.toString() + ";");
    self.reportError(newError);
  }

}


/*=----------------------------------------------------------------------=*\
   Use :txtResponse
       :GUID: 3bd55a33-d9ed-44a0-80d9-76a8d954a335
       :Location: D:\Dev\Flowcode V10\Components\temprelease\WebTextBlock.fcpx
       :Version: 1.0 (0x11e)*
       :Timestamp: 0
       :Variable declarations
       :Macro implementations
\*=----------------------------------------------------------------------=*/
/*=----------------------------------------------------------------------=*\
   Use :Returns a JavaScript reference for a Flowcode component
       :
       :Parameters for macro SetText:
       :  text : MX_CHAR
\*=----------------------------------------------------------------------=*/
function FCD_052d1_txtResponse__SetText(FCL_TEXT)
{
  const FC_THIS = '052d1_txtResponse';

  document.getElementById(FC_THIS).innerHTML = FCL_TEXT;

}


/*=----------------------------------------------------------------------=*\
   Use :rdoTemp
       :GUID: 1aadf780-b159-4970-8c1a-6af1ec49335b
       :Location: D:\Dev\Flowcode V10\Components\temprelease\WebRadio.fcpx
       :Version: 1.0 (0x11e)*
       :Timestamp: 0
       :Variable declarations
       :Macro implementations
\*=----------------------------------------------------------------------=*/
/*=----------------------------------------------------------------------=*\
   Use :Returns true if this radio button is currently selected
       :
       :Returns : MX_BOOL
\*=----------------------------------------------------------------------=*/
function FCD_035e4_rdoTemp__GetState()
{
  const FC_THIS = '035e4_rdoTemp';
  //Local variable definitions
  let FCR_RETVAL = false;  // 

  FCR_RETVAL = (document.getElementById(FC_THIS).checked == true);


  return (FCR_RETVAL);

}

/*=----------------------------------------------------------------------=*\
   Use :Sets this radio button to be selected or unselected
       :
       :Parameters for macro SetState:
       :  bState : The state to set this radio button to
\*=----------------------------------------------------------------------=*/
function FCD_035e4_rdoTemp__SetState(FCL_BSTATE)
{
  const FC_THIS = '035e4_rdoTemp';

  if (FCL_BSTATE)
  {
    document.getElementById(FC_THIS).checked = true;

  } else {
    document.getElementById(FC_THIS).checked = false;

  }

}


/*=----------------------------------------------------------------------=*\
   Use :rdoSine
       :GUID: 1aadf780-b159-4970-8c1a-6af1ec49335b
       :Location: D:\Dev\Flowcode V10\Components\temprelease\WebRadio.fcpx
       :Version: 1.0 (0x11e)*
       :Timestamp: 0
       :Variable declarations
       :Macro implementations
\*=----------------------------------------------------------------------=*/
/*=----------------------------------------------------------------------=*\
   Use :Returns true if this radio button is currently selected
       :
       :Returns : MX_BOOL
\*=----------------------------------------------------------------------=*/
function FCD_035e3_rdoSine__GetState()
{
  const FC_THIS = '035e3_rdoSine';
  //Local variable definitions
  let FCR_RETVAL = false;  // 

  FCR_RETVAL = (document.getElementById(FC_THIS).checked == true);


  return (FCR_RETVAL);

}

/*=----------------------------------------------------------------------=*\
   Use :Sets this radio button to be selected or unselected
       :
       :Parameters for macro SetState:
       :  bState : The state to set this radio button to
\*=----------------------------------------------------------------------=*/
function FCD_035e3_rdoSine__SetState(FCL_BSTATE)
{
  const FC_THIS = '035e3_rdoSine';

  if (FCL_BSTATE)
  {
    document.getElementById(FC_THIS).checked = true;

  } else {
    document.getElementById(FC_THIS).checked = false;

  }

}


/*=----------------------------------------------------------------------=*\
   Use :rdoPets
       :GUID: 1aadf780-b159-4970-8c1a-6af1ec49335b
       :Location: D:\Dev\Flowcode V10\Components\temprelease\WebRadio.fcpx
       :Version: 1.0 (0x11e)*
       :Timestamp: 0
       :Variable declarations
       :Macro implementations
\*=----------------------------------------------------------------------=*/
/*=----------------------------------------------------------------------=*\
   Use :Returns true if this radio button is currently selected
       :
       :Returns : MX_BOOL
\*=----------------------------------------------------------------------=*/
function FCD_035e2_rdoPets__GetState()
{
  const FC_THIS = '035e2_rdoPets';
  //Local variable definitions
  let FCR_RETVAL = false;  // 

  FCR_RETVAL = (document.getElementById(FC_THIS).checked == true);


  return (FCR_RETVAL);

}

/*=----------------------------------------------------------------------=*\
   Use :Sets this radio button to be selected or unselected
       :
       :Parameters for macro SetState:
       :  bState : The state to set this radio button to
\*=----------------------------------------------------------------------=*/
function FCD_035e2_rdoPets__SetState(FCL_BSTATE)
{
  const FC_THIS = '035e2_rdoPets';

  if (FCL_BSTATE)
  {
    document.getElementById(FC_THIS).checked = true;

  } else {
    document.getElementById(FC_THIS).checked = false;

  }

}


/*=----------------------------------------------------------------------=*\
   Use :rdoFruit
       :GUID: 1aadf780-b159-4970-8c1a-6af1ec49335b
       :Location: D:\Dev\Flowcode V10\Components\temprelease\WebRadio.fcpx
       :Version: 1.0 (0x11e)*
       :Timestamp: 0
       :Variable declarations
       :Macro implementations
\*=----------------------------------------------------------------------=*/
/*=----------------------------------------------------------------------=*\
   Use :Returns true if this radio button is currently selected
       :
       :Returns : MX_BOOL
\*=----------------------------------------------------------------------=*/
function FCD_035e1_rdoFruit__GetState()
{
  const FC_THIS = '035e1_rdoFruit';
  //Local variable definitions
  let FCR_RETVAL = false;  // 

  FCR_RETVAL = (document.getElementById(FC_THIS).checked == true);


  return (FCR_RETVAL);

}

/*=----------------------------------------------------------------------=*\
   Use :Sets this radio button to be selected or unselected
       :
       :Parameters for macro SetState:
       :  bState : The state to set this radio button to
\*=----------------------------------------------------------------------=*/
function FCD_035e1_rdoFruit__SetState(FCL_BSTATE)
{
  const FC_THIS = '035e1_rdoFruit';

  if (FCL_BSTATE)
  {
    document.getElementById(FC_THIS).checked = true;

  } else {
    document.getElementById(FC_THIS).checked = false;

  }

}


/*=----------------------------------------------------------------------=*\
   Use :User Project
       :Variable declarations
       :Macro implementations
\*=----------------------------------------------------------------------=*/
let FCV_FALSE = false;  // 
let FCV_TRUE = true;  // 

/*=----------------------------------------------------------------------=*\
   Use :Parses all elements in the array
       :
       :Parameters for macro ParseArray:
       :  Value : The value of the array element
       :  Index : The index of the passed value
       :  Array : The array itself
\*=----------------------------------------------------------------------=*/
function FCM_ParseArray(FCL_VALUE, FCL_INDEX, FCL_ARRAY)
{
  const FC_THIS = '00000_panel';

  // Name: Component Macro, Type: Component Macro: WebChartLine1::AddPoint(.Index, .Value, 1)
  FCD_03271_WebChartLine1__AddPoint(FCL_INDEX, FCL_VALUE, 1);

}

/*=----------------------------------------------------------------------=*\
   Use :Called when a Fetch request returns with data
       :
       :Parameters for macro ProcessResponse:
       :  Data : The data object returned by the Fetch command
\*=----------------------------------------------------------------------=*/
function FCM_ProcessResponse(FCL_DATA)
{
  const FC_THIS = '00000_panel';
  //Local variable definitions
  let FCL_S = "";  // 


  //Comment:
  //Set the text of the txtResponse text block with the data retrieved from the website

  // Name: Component Macro, Type: Component Macro: .s=WebObject1::ObjectToString(.Data)
  FCL_S = FCD_007e1_WebObject1__ObjectToString(FCL_DATA);

  // Name: Component Macro, Type: Component Macro: txtResponse::SetText(.s)
  FCD_052d1_txtResponse__SetText(FCL_S);

  // Name: Decision, Type: Decision: rdoSine::GetState() || rdoTemp::GetState()?
  if (FCD_035e3_rdoSine__GetState() || FCD_035e4_rdoTemp__GetState())
  {
    //Comment:
    //The data received can be plotted on the chart

    // Name: Component Macro, Type: Component Macro: WebChartLine1::ClearData()
    FCD_03271_WebChartLine1__ClearData();

    //Comment:
    //ArrayParse uses a trick in the WebObject component to make processing an array easier.
    //This basically replicates the "ForEach" JavaScript function, where the "ParseArray"
    //property of the WebObject is called successively for each of the array values in the
    //retrieved data.

    // Name: Component Macro, Type: Component Macro: Array1::ArrayParse(.Data)
    FCD_0a601_Array1__ArrayParse(FCL_DATA);

    // Name: Component Macro, Type: Component Macro: WebChartLine1::Redraw()
    FCD_03271_WebChartLine1__Redraw();

  // } else {
  }

}

/*=----------------------------------------------------------------------=*\
   Use :Called when the button is clicked
\*=----------------------------------------------------------------------=*/
function FCM_OnClickGo()
{
  const FC_THIS = '00000_panel';
  //Local variable definitions
  let FCL_STATE = 0;  // 

  //Comment:
  //Decide which option is pressed and then launch "Fetch" with the appropriate parameter

  // Name: Decision, Type: Decision: rdoFruit::GetState()?
  if (FCD_035e1_rdoFruit__GetState())
  {
    // Name: Component Macro, Type: Component Macro: WebFetch1::Fetch("option=fruit")
    FCD_09881_WebFetch1__Fetch("option=fruit");

  } else {
    // Name: Decision, Type: Decision: rdoPets::GetState()?
    if (FCD_035e2_rdoPets__GetState())
    {
      // Name: Component Macro, Type: Component Macro: WebFetch1::Fetch("option=pets")
      FCD_09881_WebFetch1__Fetch("option=pets");

    } else {
      // Name: Decision, Type: Decision: rdoSine::GetState()?
      if (FCD_035e3_rdoSine__GetState())
      {
        // Name: Component Macro, Type: Component Macro: WebFetch1::Fetch("option=sine")
        FCD_09881_WebFetch1__Fetch("option=sine");

      } else {
        // Name: Decision, Type: Decision: rdoTemp::GetState()?
        if (FCD_035e4_rdoTemp__GetState())
        {
          // Name: Component Macro, Type: Component Macro: WebFetch1::Fetch("option=temp")
          FCD_09881_WebFetch1__Fetch("option=temp");

        } else {
          // Name: Component Macro, Type: Component Macro: WebFetch1::Fetch("option=unknown")
          FCD_09881_WebFetch1__Fetch("option=unknown");

        }

      }

    }

  }

}


</script>

<!---------------------------------------------------------------------------
   Use :Main
---------------------------------------------------------------------------->
<!-- WEBEXP: customise the <main> function here-->
<script>
async function MyMainFunction()
{
	//WEBEXP: init code within <main> can be customised here.


  //Comment:
  //This example calls an external webpage and processes the JSON response.  For]
  //info, the code below is the actual code of the webpage being accessed.
  //<?php
  //$option = isset($_GET['option']) ? trim($_GET['option']) : null;
  //switch ($option)
  //{
  //  case 'fruit':
  //    $data = [ 'apple', 'banana', 'cherry' ];
  //    break;
  //  
  //  case 'pets':
  //    $data = [ 'cats', 'dogs', 'rabbits' ];
  //    break;
  //  
  //  case 'sine':
  //    $data = array();
  //    for ($x = 0; $x <= 2*pi(); $x+=pi()/20.0)
  //    {
  //      array_push($data, sin($x));
  //    }
  //    break;
  //    
  //  case 'temp':
  //    $data = [8.4,5.9,11,11.2,10.4,10.3,10.5,6.4,5.9,11.5,7.2,10,6.6,8.3,6.1,1.4,1.6,3.4,2.7,4.4,2.1,3.2,5.5,7.1,7.6,6.2,5.6,5.8,7.9,7.5,7.8,7.3,8.8,9.5,9.1,6.4,6.2,8,6.5,6.8,8.3,9,8.3,7.8,11.8,9.2,10.2,11.1,10.5,9.2,10.6,9.3,7.4,6.6,8.7,5.5,6.5,7.1,6.8,7,6.1,6.7,6.5,5.4,6.3,4,2.5,1.3,1.7,2.1,9.7,10.6,4.5,5.7,10.8,12.8,12.3,9.2,12.2,12.2,12,11.7,11.3,9.4,6.7,7.8,8.5,11.9,12.5,9.9,8.6,8.7,9.3,11.3,8.3,10.3,12,12.3,12.8,12,11.5,7,8.8,8.2,11.5,11.8,13.5,12.8,12,11.8,10.4,11.5,10.7,7.7,9,10.6,11.3,11.5,13.6,12.4,14.2,11.6,12.6,11.9,16.4,16,17.5,13.8,15.5,14.4,14.7,12.9,15.5,16.7,12.8,13,14.3,16.7,14.5,16.1,17.4,18.4,16.6,16.6,17.3,17.2,19.3,14.8,15.4,15.5,14.9,14.6,15.7,16.9,16.8,15.9,14.7,14.6,15.1,17.7,24.6,25.3,25.9,24.4,22,22.9,23.8,21.1,22.8,21,18,20.5,21.8,21.5,23.9,25.2,17.6,18.1,20.6,17];
  //    break;
  //    
  //  default:
  //    //$data = [];
  //}
  //if (isset($data))
  //{
  //  header('Content-type: application/json');
  //  echo json_encode( $data );
  //}
  //else
  //{
  //  http_response_code(500);
  //  echo "Bad option: " . $option;
  //  echo "<br>";
  //  echo "<br>";
  //  echo "Supported options are fruit/pets/sine/temp";
  //}
  //?>

  //Comment:
  //Interesting features of the program to note:
  //  * Radio Button 'Group Name' property allows grouping
  //  * Fetch initiated using 'Fetch' macro using custom parameters send to the Fetch URL
  //  * This data is example JSON data sent from the Flowcode website
  //  * Returned data is processed using the macro identified in the Fetch component property

  //Comment:
  //The process:
  //  1) Button Click inspects Radio Buttons and initiates appropriate Fetch action
  //  2) When data is received, Fetch component's 'Call Macro' property is called
  //  3) This JSON data is converted to a string using the Object Helper component and displayed in the TextBlock component
  //  4) If appropriate graph data, this data is plotted (in this case, the data is an array of values)
  //  5) To make parsing an array of data easier,t eh Object Helper has a 'ParseArray' macro which is called for each element of the array

}
</script>



<!---------------------------------------------------------------------------
   Use :Interrupt
---------------------------------------------------------------------------->

<!-- WEBEXP: put any code at the bottom of the file here-->
<script>
  function StartupCheck(obj)
  {
    let i = MxDelayedObjects.indexOf(obj);
    MxDelayedObjects.splice(i,1);
    if (MxDelayedObjects.length == 0)
    {
      MyMainFunction();
    }
  }

  //Check delay-start objects and start immediately if there are none
  if (MxDelayedObjects.length == 0)
  {
    MyMainFunction();
  }
</script>







</body>
</html>
