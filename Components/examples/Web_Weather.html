<!DOCTYPE html>
<html>
<head>
<title>Blank Web - created by Flowcode V10.0</title>

<!--ID=3fb2ffa560e2ed58-->
<!----------------------------------------------------------------------------------

Source name:   E:\DEV\Flowcode\V10\web components\June2023\examples\Weather.fcsx
Title:         Blank Web
Description:   
Device:        Web Export

Generated by:  Flowcode v10.0.4.36
Date:          Wednesday, November 22, 2023 13:26:05
Users:         10
Registered to: Steve-Matrix (STEVET)
Licence key: X4QE0C


   NOT FOR COMMERCIAL USE

https://www.flowcode.co.uk

<---------------------------------------------------------------------------------->



<!-- WEBEXP: add any includes, etc, at the start of the file here-->
      <script>
    function sin(a)                 { return Math.sin(a); }
    function cos(a)                 { return Math.cos(a); }
    function tan(a)                 { return Math.tan(a); }
    function asin(a)                { return Math.asin(a); }
    function acos(a)                { return Math.acos(a); }
    function atan(a)                { return Math.atan(a); }
    function atan2(y,x)             { return Math.atan2(y,x); }
    function sinh(a)                { return Math.sinh(a); }
    function cosh(a)                { return Math.cosh(a); }
    function tanh(a)                { return Math.tanh(a); }
    function asinh(a)               { return Math.asinh(a); }
    function acosh(a)               { return Math.acosh(a); }
    function atanh(a)               { return Math.atanh(a); }
    function fact(a)                { TODO; }
    function log(a)                 { return Math.log(a); }
    function log10(a)               { return Math.log10(a); }
    function float32_sqrt(a)        { return Math.sqrt(a); }  //same as float32_sqrt
    function sqrt(a)                { return Math.sqrt(a); }
    function cbrt(a)                { return Math.cbrt(a); }
    function exp(a)                 { return Math.exp(a); }
    function flt_rem(a)             { TODO; }
    function fmod(a)                { TODO; }  //same as flt_rem
    function fabs(a)                { return Math.abs(a); }
    function rand(a)                { return Math.round(65535 * Math.random(a)); }
    function random(a)              { return Math.round(65535 * Math.random(a)); }  //same as rand
    function fround(a)              { return Math.round(a); }
    function pow(x,y)               { return Math.pow(x,y); }
    function ceil(a)                { return Math.ceil(a); }
    function floor(a)               { return Math.floor(a); }
    function round(a)               { return Math.round(a); }
    function flt_add(a,b)           { return (a+b); }
    function flt_sub(a,b)           { return (a-b); }
    function flt_mul(a,b)           { return (a*b); }
    function flt_div(a,b)           { return (a/b); }
    function flt_le(a,b)            { return (a <= b); }
    function flt_lt(a,b)            { return (a < b); }
    function flt_eq(a,b)            { return (a == b); }
    function flt_ge(a,b)            { return (a >= b); }
    function flt_gt(a,b)            { return (a > b); }
    function flt_toi(a)             { return Math.round(a); }
    function flt_fromi(a)           { return (a); }
    function FCI_ARRAYDIMS(a)       { return (a); }
    function FCI_ARRAYSIZE(a)       { return (a); }

    function FCI_GETCHAR(a,b)       { return a.charCodeAt(b); }
    function FCI_GETLENGTH(a)       { return a.length; }
    function FCI_GETUTF8LEN(a)      { return a.length; }
    function FCI_LEFTSTRING(a,b)    { return a.slice(0,b); }
    function FCI_RIGHTSTRING(a,b)   { return a.slice(0-b); }
    function FCI_MIDSTRING(a,b,c)   { return a.slice(b,b+c); }
    function FCI_TOUPPER(a)         { return a.toUpperCase(); }
    function FCI_TOLOWER(a)         { return a.toLowerCase(); }
    
    function FCI_STRING_TO_INT(a)   { return parseInt(a); }
    function FCI_STRING_TO_FLOAT(a) { return parseFloat(a); }
    function FCI_TOSTRING(a)        { return a.toString(10); }
    function FCI_FLOAT2STR(a)       { return a.toString(); }
    function FCI_FLOAT2STR(a,b)     { return a.toPrecision(b).toString(); }
    function FCI_NUMBER_TO_HEX(a)   { return "0x" + a.toString(16); }
    
    function FCI_COMPARE(a,b,c)
    {
      if (c)
      {
        if (a.toUpperCase() == b.toUpperCase())
          return 0;
        else
          if (a.toUpperCase() > b.toUpperCase())
            return 1;
          else
            return -1;
      } else {
        if (a == b)
          return 0;
        else
          if (a > b)
            return 1;
          else
            return -1;
      }
    }

    function FCI_CONTAINS(a,b,c)    { return a.indexOf(b,c); }
    function FCI_SPLITSTRING(a,b,c) { const SSarray = a.split(b); return SSarray[c]; }
    
    function FCI_EXPLODETOINTARRAY(a,b,c)        { return a.split(b).map(Number); }
    function FCI_EXPLODETOFLOATARRAY(a,b,c)      { return a.split(b).map(Number); }
    function FCI_IMPLODEFROMINTARRAY(a,b,c)    	 { let sRetval = ""; for (i=0;i<c;i++) {sRetval = sRetval + a[i].toString(10); if(i<(c - 1)) {sRetval = sRetval + b;} } return sRetval; }
    function FCI_IMPLODEFROMFLOATARRAY(a,b,c,d)  { let sRetval = ""; for (i=0;i<c;i++) {sRetval = sRetval + a[i].toPrecision(d).toString(); if(i<(c - 1)) {sRetval = sRetval + b;} } return sRetval; }
    function FCI_INTTOFORMATTEDSTRING(a,b,c)     { TODO ; }
    function FCI_FLOATTOFORMATTEDSTRING(a,b,c)   { TODO ; }
    function FCI_INSERTSTRING(a,b,c)             { return a.slice(0,c)+b+a.slice(c); }
    function FCI_REMOVEFROMSTRING(a,b,c)         { return a.slice(0,b)+a.slice(b+c); }
    function FCI_SEARCHANDREPLACE(a,b,c)         { let count = a.split(b).length-1; a.replace(b,c); return count;}
   
    
    function resolveAfterMs(val)          { return new Promise((resolve) => { setTimeout(() => { resolve("milli"); }, val); }); }
    async function FCI_DELAYBYTE_US(a)    { await resolveAfterMs(a/1000); }
    async function FCI_DELAYBYTE_MS(a)    { await resolveAfterMs(a); }
    async function FCI_DELAYBYTE_S(a)     { await resolveAfterMs(1000*a); }
    async function FCI_DELAYINT_US(a)     { await resolveAfterMs(a/1000); }
    async function FCI_DELAYINT_MS(a)     { await resolveAfterMs(a); }
    async function FCI_DELAYINT_S(a)      { await resolveAfterMs(1000*a); }

    const MxDelayedObjects = [ ];

   </script>


<!--Script headers for components-->
<script>
//Script header for <035d1_WebShape1>


//Script header for <035d2_WebShape2>


//Script header for <07731_cboLocation>
</script>
<style>
.obj07731_cboLocation {
  font-size: 16px;
  text-align: left;
  font-family: Arial, sans-serif;
  background-color: transparent;
  color: #000000;
  width: inherit;
  /*height: inherit;*/
}
</style>
<script>


//Script header for <0cd41_WebLabel1>
</script>
<style>
.obj0cd41_WebLabel1 {
  font-size: 16px;
  text-align: right;
  font-family: Arial, sans-serif;
  background-color: transparent;
  color: #000000;
}
</style>
<script>


//Script header for <0cd42_WebLabel2>
</script>
<style>
.obj0cd42_WebLabel2 {
  font-size: 16px;
  text-align: right;
  font-family: Arial, sans-serif;
  background-color: transparent;
  color: #000000;
}
</style>
<script>


//Script header for <0cd43_WebLabel3>
</script>
<style>
.obj0cd43_WebLabel3 {
  font-size: 16px;
  text-align: right;
  font-family: Arial, sans-serif;
  background-color: transparent;
  color: #000000;
}
</style>
<script>


//Script header for <0b5b1_txtStart>
</script>
<style>
.obj0b5b1_txtStart {
  font-size:16px;
  text-align:left;
  font-family:Arial, sans-serif;
  background-color:transparent;
  color:#000000;
  width:inherit;
  height:inherit;
  border-width:1px;
  padding:0px 0px;
}
</style>
<script>


//Script header for <0b5b2_txtEnd>
</script>
<style>
.obj0b5b2_txtEnd {
  font-size:16px;
  text-align:left;
  font-family:Arial, sans-serif;
  background-color:transparent;
  color:#000000;
  width:inherit;
  height:inherit;
  border-width:1px;
  padding:0px 0px;
}
</style>
<script>


//Script header for <035e1_rdoMax>
</script>
<style>
.lbl_035e1_rdoMax {
  font-size:16px;
  font-family:Arial, sans-serif;
  background-color:transparent;
  color:#000000;
  text-decoration-line: none;
  /*width:inherit;
  height:inherit;/*
}
</style>
<script>


//Script header for <0cd44_WebLabel4>
</script>
<style>
.obj0cd44_WebLabel4 {
  font-size: 16px;
  text-align: right;
  font-family: Arial, sans-serif;
  background-color: transparent;
  color: #000000;
}
</style>
<script>


//Script header for <035e2_rdoMin>
</script>
<style>
.lbl_035e2_rdoMin {
  font-size:16px;
  font-family:Arial, sans-serif;
  background-color:transparent;
  color:#000000;
  text-decoration-line: none;
  /*width:inherit;
  height:inherit;/*
}
</style>
<script>


//Script header for <035e3_rdoFahrenheit>
</script>
<style>
.lbl_035e3_rdoFahrenheit {
  font-size:16px;
  font-family:Arial, sans-serif;
  background-color:transparent;
  color:#000000;
  text-decoration-line: none;
  /*width:inherit;
  height:inherit;/*
}
</style>
<script>


//Script header for <035e4_rdoCelsius>
</script>
<style>
.lbl_035e4_rdoCelsius {
  font-size:16px;
  font-family:Arial, sans-serif;
  background-color:transparent;
  color:#000000;
  text-decoration-line: none;
  /*width:inherit;
  height:inherit;/*
}
</style>
<script>


//Script header for <0cd45_WebLabel5>
</script>
<style>
.obj0cd45_WebLabel5 {
  font-size: 16px;
  text-align: right;
  font-family: Arial, sans-serif;
  background-color: transparent;
  color: #000000;
}
</style>
<script>


//Script header for <03271_WebChartLine1>
</script>
<script  type='text/javascript' src='https://www.gstatic.com/charts/loader.js'></script>
<script>
  var FCDATA_03271_WebChartLine1;
  MxDelayedObjects.push('FCDATA_03271_WebChartLine1');
  const FCCOLS_03271_WebChartLine1 = 3;

  google.charts.load('current', {'packages':['corechart']}).then(function()
  {
    FCDATA_03271_WebChartLine1 = new google.visualization.DataTable();
    FCDATA_03271_WebChartLine1.addColumn('number', 'day');
    FCDATA_03271_WebChartLine1.addColumn('number', 'Halifax');
    FCDATA_03271_WebChartLine1.addColumn('number', 'Toronto');
    FCDATA_03271_WebChartLine1.addColumn('number', 'Christchurch');
    FCDATA_03271_WebChartLine1.addRows([
      [0,404.000000,416.000000,348.000000],
      [1,372.000000,264.000000,380.000000],
      [2,304.000000,264.000000,400.000000],
      [3,304.000000,360.000000,340.000000],
      [4,352.000000,348.000000,388.000000],
      [5,288.000000,284.000000,392.000000],
      [6,292.000000,364.000000,376.000000],
      [7,348.000000,300.000000,392.000000],
      [8,268.000000,308.000000,320.000000],
      [9,344.000000,308.000000,288.000000],
    ]);
    FC_03271_WebChartLine1_DrawChart();
    StartupCheck('FCDATA_03271_WebChartLine1');
  });

  function FC_03271_WebChartLine1_DrawChart()
  {
    var options = 
    {
      title: 'Temperature',
      width: 1000.000000,
      height: 470.000641,
      titleTextStyle: { color: '#000000' },
      legend: { position: 'bottom', textStyle: { color: '#000000' } },
      hAxis: { title: 'day', baselineColor: '#000000', gridlines: { color: '#000000' }, textStyle: { color: '#000000' }, titleTextStyle: { color: '#000000' }},
      vAxis: { title: 'C', baselineColor: '#000000', gridlines: { color: '#000000' }, textStyle: { color: '#000000' }, titleTextStyle: { color: '#000000' }, viewWindow: {max: -30, min: 40}},
      backgroundColor: { fill: '#ffffff', stroke: '#000000', strokeWidth: '4' },
      chartArea: { backgroundColor: '#ffffff' },
      colors: ['#3366cc', '#dc3912', '#ff9900', '#109618', '#990099'],
    };

    var chart = new google.visualization.LineChart(document.getElementById('03271_WebChartLine1'));
    chart.draw(FCDATA_03271_WebChartLine1, options);

  }


//Script header for <0e471_WebChartColumn1>
</script>
<script  type='text/javascript' src='https://www.gstatic.com/charts/loader.js'></script>
<script>
  var FCDATA_0e471_WebChartColumn1;
  MxDelayedObjects.push('FCDATA_0e471_WebChartColumn1');
  const FCCOLS_0e471_WebChartColumn1 = 1;

  google.charts.load('current', {'packages':['corechart']}).then(function()
  {
    FCDATA_0e471_WebChartColumn1 = new google.visualization.DataTable();
    FCDATA_0e471_WebChartColumn1.addColumn('string', 'Category');
    FCDATA_0e471_WebChartColumn1.addColumn('number', 'Series 1');
    FCDATA_0e471_WebChartColumn1.addRows([
      ['cats',33],
      ['dogs',28],
      ['rabbits',11]
    ]);
    FC_0e471_WebChartColumn1_DrawChart();
    StartupCheck('FCDATA_0e471_WebChartColumn1');
  });

  function FC_0e471_WebChartColumn1_DrawChart()
  {
    var options = 
    {
      title: 'Temperature',
      width: 1000.000000,
      height: 470.000641,
      isStacked: false,
      titleTextStyle: { color: '#000000' },
      legend: { position: 'none', textStyle: { color: '#000000' } },
      hAxis: { title: 'date', baselineColor: '#000000', gridlines: { color: '#000000' }, textStyle: { color: '#000000' }, titleTextStyle: { color: '#000000' }},
      vAxis: { title: 'C', baselineColor: '#000000', gridlines: { color: '#000000' }, textStyle: { color: '#000000' }, titleTextStyle: { color: '#000000' }, viewWindow: {max: -30, min: 40}},
      backgroundColor: { fill: '#ffffff', stroke: '#000000', strokeWidth: '4' },
      chartArea: { backgroundColor: '#ffffff' },
      colors: ['#3366cc', '#dc3912', '#ff9900', '#109618', '#990099'],
    };

    var chart = new google.visualization.ColumnChart(document.getElementById('0e471_WebChartColumn1'));
    chart.draw(FCDATA_0e471_WebChartColumn1, options);

  }


//Script header for <0b5b3_txtUrl>
</script>
<style>
.obj0b5b3_txtUrl {
  font-size:16px;
  text-align:left;
  font-family:Arial, sans-serif;
  background-color:transparent;
  color:#000000;
  width:inherit;
  height:inherit;
  border-width:1px;
  padding:0px 0px;
}
</style>
<script>


//Script header for <09881_WebFetch1>
  var FCURL_09881_WebFetch1 = 'https://archive-api.open-meteo.com/v1/archive';
  var FCMAC_09881_WebFetch1 = 'FCM_DrawCharts';



//Script header for <00011_WebDevLibraryComponent1>


//Script header for <09a61_WebPopup1>


//Script header for <00012_WebDevLibraryComponent1>


//Script header for <07b91_btnGo1>
</script>
<style>
.btn07b91_btnGo1 {
  width: 200px;
  height: 75px;
  font-size: 16px;
  font-family: Calibri, sans-serif;
  cursor: pointer;
  font-weight: normal;
  font-style: normal;
  text-decoration: none;
  text-align: center;
  color: #000000;
  background-color: #d2d2d2;
  border: none;
  border-radius: 4px;
  box-shadow: 4px 4px #787878;
}
.btn07b91_btnGo1:hover {
  background-color: #b2b2b2;
}
.btn07b91_btnGo1:active {
  background-color: #d2d2d2;
  box-shadow: 2px 2px #787878;
  transform: translateX(2px) translateY(2px);
}
</style>
<script>


//Script header for <007e1_WebObject1>


//Script header for <00013_WebDevLibraryComponent1>


//Script header for <0a601_Array1>
  function FCMACARR_0a601_Array1(value, index, array)
  {
    FCM_PlotPoint(value, index, array);
  }


//Script header for <00014_WebDevLibraryComponent1>


</script>

</head>



<body style='background-color:#f5f5f5;'>

<!--HTML body info for components-->
<div class = 'container minheight'>
  <div style='position: absolute; left: 220px; top: 160px; width: 200px; height: 50px; line-height: 50px; margin: 0 auto; white-space: nowrap;' >
    <svg id = '035d2_WebShape2' width='200' height='50'>
      <defs>
        <linearGradient id='grad_035d2_WebShape2' x1='100%' y1='100%' x2='100%' y2='100%'>
          <stop offset='0%' style='stop-color:#ffffff;stop-opacity:1'/>
          <stop offset='100%' style='stop-color:#ffffff;stop-opacity:0' />
        </linearGradient>
      </defs>
      <rect x='1' y='1' rx='4' ry='4' width='198' height='48' stroke=#000000 stroke-width='1' opacity='1.0' fill='url(#grad_035d2_WebShape2)'/>
      Sorry, your browser does not support inline SVG.
    </svg>
  </div>
  <div style='position: absolute; left: 220px; top: 100px; width: 200px; height: 50px; line-height: 50px; margin: 0 auto; white-space: nowrap;' >
    <svg id = '035d1_WebShape1' width='200' height='50'>
      <defs>
        <linearGradient id='grad_035d1_WebShape1' x1='100%' y1='100%' x2='100%' y2='100%'>
          <stop offset='0%' style='stop-color:#ffffff;stop-opacity:1'/>
          <stop offset='100%' style='stop-color:#ffffff;stop-opacity:0' />
        </linearGradient>
      </defs>
      <rect x='1' y='1' rx='4' ry='4' width='198' height='48' stroke=#000000 stroke-width='1' opacity='1.0' fill='url(#grad_035d1_WebShape1)'/>
      Sorry, your browser does not support inline SVG.
    </svg>
  </div>
  <div style='position: absolute; left: 220px; top: 10px;width: 200px; height: 20px; line-height: 20px; margin: 0 auto; white-space: nowrap;' >
    <select name='07731_cboLocation' id='cbo07731_cboLocation' class='obj07731_cboLocation' size='1'>
      <option>Halifax (UK)</option>
      <option>Toronto (CA)</option>
      <option>Christchurch (NZ)</option>
    </select>
  </div>
  <div style='position: absolute; left: 10px; top: 10px;width: 200px; height: 20px; line-height: 20px; margin: 0 auto; white-space: nowrap;' >
    <div id='0cd41_WebLabel1' class='obj0cd41_WebLabel1'>Choose location:</div>
  </div>
  <div style='position: absolute; left: 10px; top: 40px;width: 200px; height: 20px; line-height: 20px; margin: 0 auto; white-space: nowrap;' >
    <div id='0cd42_WebLabel2' class='obj0cd42_WebLabel2'>Start date:</div>
  </div>
  <div style='position: absolute; left: 10px; top: 70px;width: 200px; height: 20px; line-height: 20px; margin: 0 auto; white-space: nowrap;' >
    <div id='0cd43_WebLabel3' class='obj0cd43_WebLabel3'>End date:</div>
  </div>
  <div style='position: absolute; left: 220px; top: 40px;width: 200px; height: 20px; line-height: 20px;'>
    <input id = '0b5b1_txtStart' name = '0b5b1_txtStart' class='obj0b5b1_txtStart' type='text' value='2023-01-01'></input>
  </div>
  <div style='position: absolute; left: 220px; top: 70px;width: 200px; height: 20px; line-height: 20px;'>
    <input id = '0b5b2_txtEnd' name = '0b5b2_txtEnd' class='obj0b5b2_txtEnd' type='text' value='2023-06-29'></input>
  </div>
  <div style='position:absolute; left:220px; top:100px; width:230px; height:20px; line-height:20px;'>
    <input id='035e1_rdoMax' name='TempVals' type='radio' checked>
    <label id='lbl_035e1_rdoMax' for='035e1_rdoMax' class='lbl_035e1_rdoMax'>Max</label>
  </div>
  <div style='position: absolute; left: 10px; top: 100px;width: 200px; height: 20px; line-height: 20px; margin: 0 auto; white-space: nowrap;' >
    <div id='0cd44_WebLabel4' class='obj0cd44_WebLabel4'>Temp vals:</div>
  </div>
  <div style='position:absolute; left:220px; top:130px; width:230px; height:20px; line-height:20px;'>
    <input id='035e2_rdoMin' name='TempVals' type='radio'>
    <label id='lbl_035e2_rdoMin' for='035e2_rdoMin' class='lbl_035e2_rdoMin'>Min</label>
  </div>
  <div style='position:absolute; left:220px; top:190px; width:230px; height:20px; line-height:20px;'>
    <input id='035e3_rdoFahrenheit' name='TempUnits' type='radio'>
    <label id='lbl_035e3_rdoFahrenheit' for='035e3_rdoFahrenheit' class='lbl_035e3_rdoFahrenheit'>F</label>
  </div>
  <div style='position:absolute; left:220px; top:160px; width:230px; height:20px; line-height:20px;'>
    <input id='035e4_rdoCelsius' name='TempUnits' type='radio' checked>
    <label id='lbl_035e4_rdoCelsius' for='035e4_rdoCelsius' class='lbl_035e4_rdoCelsius'>C</label>
  </div>
  <div style='position: absolute; left: 10px; top: 160px;width: 200px; height: 20px; line-height: 20px; margin: 0 auto; white-space: nowrap;' >
    <div id='0cd45_WebLabel5' class='obj0cd45_WebLabel5'>Temp units:</div>
  </div>
  <div style='position: absolute; left: 20px; top: 220px; width: 1000.000000px; height: 470.000641px; line-height: 470.000641px;' >
    <div id = '03271_WebChartLine1'></div>
  </div>
  <div style='position: absolute; left: 20px; top: 700px; width: 1000.000000px; height: 470.000641px; line-height: 470.000641px;' >
    <div id = '0e471_WebChartColumn1'></div>
  </div>
  <div style='position: absolute; left: 20px; top: 1180px;width: 1000px; height: 100px; line-height: 100px;'>
    <input id = '0b5b3_txtUrl' name = '0b5b3_txtUrl' class='obj0b5b3_txtUrl' type='text' value='Input text'></input>
  </div>




  <div style='position: absolute; left: 500px; top: 52px; width: 200px; height: 75px; line-height: 75px; white-space: nowrap;' >
    <button id='07b91_btnGo1' class='btn07b91_btnGo1' onclick='FCM_OnClick()' onclickFCRef='FCM_OnClick()'>Go!</button>
  </div>




</div>

<script>
  //NOTE: we can add fixed functions here from within the Flowcode exe if we want.
  function FCAPI_GetHtmlElement(id) { return document.getElementById(id); }
</script>

<script>

/*=----------------------------------------------------------------------=*\
   Use :Array1
       :GUID: a1612734-3758-43e9-b5f1-2b1a35304d19
       :Location: E:\DEV\Flowcode\V10\web components\June2023\exported\WebArray.fcpx
       :Version: 1.0 (0x11e)*
       :Timestamp: 0
       :Variable declarations
       :Macro implementations
\*=----------------------------------------------------------------------=*/
/*=----------------------------------------------------------------------=*\
   Use :Parse a JavaScript array object by calling the macro for each element in the array.
       :
       :Parameters for macro ArrayParse:
       :  Object : The JavaScript object
\*=----------------------------------------------------------------------=*/
function FCD_0a601_Array1__ArrayParse(FCL_OBJECT)
{
  const FC_THIS = '0a601_Array1';
  let macForEach = window['FCMACARR_' + FC_THIS];
  FCL_OBJECT.forEach(macForEach);

}

/*=----------------------------------------------------------------------=*\
   Use :Returns true if the JavaScript object is an array
       :
       :Parameters for macro IsArray:
       :  Object : The JavaScript object
       :
       :Returns : MX_BOOL
\*=----------------------------------------------------------------------=*/
function FCD_0a601_Array1__IsArray(FCL_OBJECT)
{
  const FC_THIS = '0a601_Array1';
  //Local variable definitions
  let FCR_RETVAL = false;  // 

  FCR_RETVAL = Array.isArray(FCL_OBJECT);

  return (FCR_RETVAL);

}

/*=----------------------------------------------------------------------=*\
   Use :Removes elements from a JavaScript array object.  Returns the new size of the array.
       :
       :Parameters for macro ArrayRemoveValues:
       :  Object : The JavaScript object
       :  Index : The element index
       :  Count : The number of values to remove from the array
       :
       :Returns : MX_SINT32
\*=----------------------------------------------------------------------=*/
function FCD_0a601_Array1__ArrayRemoveValues(FCL_OBJECT, FCL_INDEX, FCL_COUNT)
{
  const FC_THIS = '0a601_Array1';
  //Local variable definitions
  let FCR_RETVAL = 0;  // 

  FCL_OBJECT.splice(FCL_INDEX, FCL_COUNT);
  FCR_RETVAL = FCL_OBJECT.length;

  return (FCR_RETVAL);

}

/*=----------------------------------------------------------------------=*\
   Use :Gets the length of a JavaScript array object
       :
       :Parameters for macro ArrayGetLength:
       :  Object : The JavaScript object
       :
       :Returns : MX_SINT32
\*=----------------------------------------------------------------------=*/
function FCD_0a601_Array1__ArrayGetLength(FCL_OBJECT)
{
  const FC_THIS = '0a601_Array1';
  //Local variable definitions
  let FCR_RETVAL = 0;  // 

  FCR_RETVAL = FCL_OBJECT.length;

  return (FCR_RETVAL);

}

/*=----------------------------------------------------------------------=*\
   Use :Gets the value of an element in a JavaScript array object
       :
       :Parameters for macro ArrayGetValue:
       :  Object : The JavaScript object
       :  Index : The element index
       :
       :Returns : MX_UINT32
\*=----------------------------------------------------------------------=*/
function FCD_0a601_Array1__ArrayGetValue(FCL_OBJECT, FCL_INDEX)
{
  const FC_THIS = '0a601_Array1';
  //Local variable definitions
  let FCR_RETVAL = {};  // 

  FCR_RETVAL = FCL_OBJECT.at(FCL_INDEX);

  return (FCR_RETVAL);

}

/*=----------------------------------------------------------------------=*\
   Use :Gets the index of a value within a JavaScript array object
       :
       :Parameters for macro ArrayIndexOf:
       :  Object : The JavaScript object
       :  Value : The value to look for within the array
       :  Start : The index to start the search (use negative numbers to search backwards)
       :
       :Returns : MX_SINT32
\*=----------------------------------------------------------------------=*/
function FCD_0a601_Array1__ArrayIndexOf(FCL_OBJECT, FCL_VALUE, FCL_START)
{
  const FC_THIS = '0a601_Array1';
  //Local variable definitions
  let FCR_RETVAL = 0;  // 

  FCR_RETVAL = FCL_OBJECT.indexOf(FCL_VALUE, FCL_START);

  return (FCR_RETVAL);

}

/*=----------------------------------------------------------------------=*\
   Use :Adds an element to a JavaScript array object.  Returns the new size of the array.
       :
       :Parameters for macro ArrayAddValue:
       :  Object : The JavaScript object
       :  Index : The element index
       :  Element : The new element to add to the array
       :
       :Returns : MX_SINT32
\*=----------------------------------------------------------------------=*/
function FCD_0a601_Array1__ArrayAddValue(FCL_OBJECT, FCL_INDEX, FCL_ELEMENT)
{
  const FC_THIS = '0a601_Array1';
  //Local variable definitions
  let FCR_RETVAL = 0;  // 

  FCL_OBJECT.splice(FCL_INDEX, 0, FCL_ELEMENT);
  FCR_RETVAL = FCL_OBJECT.length;

  return (FCR_RETVAL);

}

/*=----------------------------------------------------------------------=*\
   Use :Sets the value of an element in a JavaScript array object
       :
       :Parameters for macro ArraySetValue:
       :  Object : The JavaScript object
       :  Index : The element index
       :  Value : The new value for the array element
\*=----------------------------------------------------------------------=*/
function FCD_0a601_Array1__ArraySetValue(FCL_OBJECT, FCL_INDEX, FCL_VALUE)
{
  const FC_THIS = '0a601_Array1';
  FCL_OBJECT[FCL_INDEX] = FCL_VALUE;

}


/*=----------------------------------------------------------------------=*\
   Use :WebObject1
       :GUID: 2e5d477d-7e43-4691-95e1-becf96fed02d
       :Location: E:\DEV\Flowcode\V10\web components\June2023\exported\WebObject.fcpx
       :Version: 1.0 (0x11e)*
       :Timestamp: 0
       :Variable declarations
       :Macro implementations
\*=----------------------------------------------------------------------=*/
/*=----------------------------------------------------------------------=*\
   Use :Converts an object to a JSON string
       :
       :Parameters for macro ObjectToJSON:
       :  Object : The JavaScript object
       :
       :Returns : MX_CHAR*
\*=----------------------------------------------------------------------=*/
function FCD_007e1_WebObject1__ObjectToJSON(FCL_OBJECT)
{
  const FC_THIS = '007e1_WebObject1';
  //Local variable definitions
  FCR_RETVAL = JSON.stringify(FCL_OBJECT);

  return (FCR_RETVAL);

}

/*=----------------------------------------------------------------------=*\
   Use :Converts a JSON string to a JavaScript object
       :
       :Parameters for macro JSONToObject:
       :  Text : The JSON string to convert to a JavaScript object
       :
       :Returns : MX_UINT32
\*=----------------------------------------------------------------------=*/
function FCD_007e1_WebObject1__JSONToObject(FCL_TEXT)
{
  const FC_THIS = '007e1_WebObject1';
  //Local variable definitions
  let FCR_RETVAL = {};  // 

  FCR_RETVAL = JSON.parse(FCL_TEXT);

  return (FCR_RETVAL);

}

/*=----------------------------------------------------------------------=*\
   Use :Converts an object to a string
       :
       :Parameters for macro ObjectToString:
       :  Object : The JavaScript object
       :
       :Returns : MX_CHAR*
\*=----------------------------------------------------------------------=*/
function FCD_007e1_WebObject1__ObjectToString(FCL_OBJECT)
{
  const FC_THIS = '007e1_WebObject1';
  //Local variable definitions
  FCR_RETVAL = FCL_OBJECT;

  return (FCR_RETVAL);

}

/*=----------------------------------------------------------------------=*\
   Use :Gets the value for a key in a JavaScript object
       :
       :Parameters for macro GetValue:
       :  Object : The JavaScript object
       :  sKey : The key name
       :
       :Returns : MX_UINT32
\*=----------------------------------------------------------------------=*/
function FCD_007e1_WebObject1__GetValue(FCL_OBJECT, FCL_SKEY)
{
  const FC_THIS = '007e1_WebObject1';
  //Local variable definitions
  let FCR_RETVAL = {};  // 

  FCR_RETVAL = FCL_OBJECT[FCL_SKEY];

  return (FCR_RETVAL);

}

/*=----------------------------------------------------------------------=*\
   Use :Converts an object to a number
       :
       :Parameters for macro ObjectToNumber:
       :  Object : The JavaScript object
       :
       :Returns : MX_SINT32
\*=----------------------------------------------------------------------=*/
function FCD_007e1_WebObject1__ObjectToNumber(FCL_OBJECT)
{
  const FC_THIS = '007e1_WebObject1';
  //Local variable definitions
  let FCR_RETVAL = 0;  // 

  FCR_RETVAL = FCL_OBJECT;

  return (FCR_RETVAL);

}

/*=----------------------------------------------------------------------=*\
   Use :Converts a string to a JavaScript object
       :
       :Parameters for macro StringToObject:
       :  Var : The string to convert to a JavaScript object
       :
       :Returns : MX_UINT32
\*=----------------------------------------------------------------------=*/
function FCD_007e1_WebObject1__StringToObject(FCL_VAR)
{
  const FC_THIS = '007e1_WebObject1';
  //Local variable definitions
  let FCR_RETVAL = {};  // 

  FCR_RETVAL = FCL_VAR;

  return (FCR_RETVAL);

}

/*=----------------------------------------------------------------------=*\
   Use :Sets the value of a key in a JavaScript object.  Returns true if the key already exists.
       :
       :Parameters for macro SetValue:
       :  Object : The JavaScript object
       :  sKey : The key name
       :  Value : The value for the key
       :
       :Returns : MX_BOOL
\*=----------------------------------------------------------------------=*/
function FCD_007e1_WebObject1__SetValue(FCL_OBJECT, FCL_SKEY, FCL_VALUE)
{
  const FC_THIS = '007e1_WebObject1';
  //Local variable definitions
  let FCR_RETVAL = false;  // 

  FCR_RETVAL = (FCL_SKEY in FCL_OBJECT);
  FCL_OBJECT[FCL_SKEY] = FCL_VALUE;

  return (FCR_RETVAL);

}

/*=----------------------------------------------------------------------=*\
   Use :Converts a number to a JavaScript object
       :
       :Parameters for macro NumberToObject:
       :  Var : The number to convert to a JavaSctipt object
       :
       :Returns : MX_UINT32
\*=----------------------------------------------------------------------=*/
function FCD_007e1_WebObject1__NumberToObject(FCL_VAR)
{
  const FC_THIS = '007e1_WebObject1';
  //Local variable definitions
  let FCR_RETVAL = {};  // 

  FCR_RETVAL = FCL_VAR;

  return (FCR_RETVAL);

}


/*=----------------------------------------------------------------------=*\
   Use :WebFetch1
       :GUID: 209c214a-3fdf-4a09-9354-e2f146dbdedc
       :Location: E:\DEV\Flowcode\V10\web components\June2023\exported\WebFetch.fcpx
       :Version: 1.0 (0x11e)*
       :Timestamp: 0
       :Variable declarations
       :Macro implementations
\*=----------------------------------------------------------------------=*/
/*=----------------------------------------------------------------------=*\
   Use :Parameters for macro SetMacro:
       :  sMacro : MX_CHAR
\*=----------------------------------------------------------------------=*/
function FCD_09881_WebFetch1__SetMacro(FCL_SMACRO)
{
  const FC_THIS = '09881_WebFetch1';
  window['FCMAC_' + FC_THIS] = "FCM_" + FCL_SMACRO;

}

/*=----------------------------------------------------------------------=*\
   Use :Start the process of fetching a resource from a web server
       :
       :Parameters for macro Fetch:
       :  sParams : Parameters for the Fetch call
\*=----------------------------------------------------------------------=*/
function FCD_09881_WebFetch1__Fetch(FCL_SPARAMS)
{
  const FC_THIS = '09881_WebFetch1';
  //Local variable definitions
  let FCL_URL = "";  // 

  let url = window['FCURL_' + FC_THIS];
  let mac = window['FCMAC_' + FC_THIS];

  if (FCI_GETLENGTH(FCL_SPARAMS) > 0)
  {
    url = url + "?" + FCL_SPARAMS;

  // } else {
  }

  fetch(url).then(r=> r.json().then(j=> window[mac](j)));

}

/*=----------------------------------------------------------------------=*\
   Use :Sets the URL for the Fetch call
       :
       :Parameters for macro SetURL:
       :  sURL : MX_CHAR
\*=----------------------------------------------------------------------=*/
function FCD_09881_WebFetch1__SetURL(FCL_SURL)
{
  const FC_THIS = '09881_WebFetch1';
  window['FCURL_' + FC_THIS] = FCL_SURL;

}


/*=----------------------------------------------------------------------=*\
   Use :txtUrl
       :GUID: c9c426b0-29da-406a-afa3-aa4bd66f785f
       :Location: E:\DEV\Flowcode\V10\web components\June2023\exported\WebInputText.fcpx
       :Version: 1.0 (0x11e)*
       :Timestamp: 0
       :Variable declarations
       :Macro implementations
\*=----------------------------------------------------------------------=*/
/*=----------------------------------------------------------------------=*\
   Use :Parameters for macro SetText:
       :  s : Text to set
\*=----------------------------------------------------------------------=*/
function FCD_0b5b3_txtUrl__SetText(FCL_S)
{
  const FC_THIS = '0b5b3_txtUrl';
  document.getElementById(FC_THIS).value = FCL_S;

}

/*=----------------------------------------------------------------------=*\
   Use :Returns : MX_CHAR*
\*=----------------------------------------------------------------------=*/
function FCD_0b5b3_txtUrl__GetText()
{
  const FC_THIS = '0b5b3_txtUrl';
  //Local variable definitions
  FCR_RETVAL = document.getElementById(FC_THIS).value;

  return (FCR_RETVAL);

}


/*=----------------------------------------------------------------------=*\
   Use :WebChartColumn1
       :GUID: 42f80fc0-5172-44ef-850c-d42d28ef0bd8
       :Location: E:\DEV\Flowcode\V10\web components\June2023\exported\WebChartColumn.fcpx
       :Version: 1.0 (0x11e)*
       :Timestamp: 0
       :Variable declarations
       :Macro implementations
\*=----------------------------------------------------------------------=*/
/*=----------------------------------------------------------------------=*\
   Use :Sets the names for each series
       :
       :Parameters for macro SetSeriesNames:
       :  SeriesCount : The number of series to plot (1-8)
       :  SeriesNames : Comma-separated list of series names
\*=----------------------------------------------------------------------=*/
function FCD_0e471_WebChartColumn1__SetSeriesNames(FCL_SERIESCOUNT, FCL_SERIESNAMES)
{
  const FC_THIS = '0e471_WebChartColumn1';
  //Local variable definitions
  let FCL_ITEMP = 0;  // 
  let FCL_STEMP = "";  // 

  //Comment:
  //NOTE: arrays are not currently supported, so we pass 
  //in a comma-demlimited string

  if ((FCL_SERIESCOUNT < 1) || (FCL_SERIESCOUNT > 5))
  {
    const newError = new RangeError("SeriesCount needs to be between 1 and 5. Value=" + FCL_SERIESCOUNT.toString());
    self.reportError(newError);
    return;
  }

  const array = FCL_SERIESNAMES.split(',');

  let data = window['FCDATA_' + FC_THIS];

  let iOldSeriesCount = data.getNumberOfColumns() - 1;

  //remove unwanted columns
  if (FCL_SERIESCOUNT < iOldSeriesCount)
  {
    for (let i = iOldSeriesCount; i > FCL_SERIESCOUNT; i--)
    {
      data.removeColumn(i);
    }
  }

  for (let i = 1; i <= FCL_SERIESCOUNT; i++)
  {
    if (i <= iOldSeriesCount)
    {
      data.setColumnLabel(i, array[i-1]);
    }
    else
    {
      data.addColumn('number', array[i-1]);
    }
  }



}

/*=----------------------------------------------------------------------=*\
   Use :Remove all data from the chart
\*=----------------------------------------------------------------------=*/
function FCD_0e471_WebChartColumn1__ClearData()
{
  const FC_THIS = '0e471_WebChartColumn1';
  //Local variable definitions
  let FCL_ITEMP = 0;  // 
  let FCL_STEMP = "";  // 

  //clear the data
  data = window['FCDATA_' + FC_THIS];
  rows = data.getNumberOfRows();
  data.removeRows(0, rows);


/*
  FCD_0e471_WebChartColumn1__Redraw();

*/

}

/*=----------------------------------------------------------------------=*\
   Use :Redraw the chart
\*=----------------------------------------------------------------------=*/
function FCD_0e471_WebChartColumn1__Redraw()
{
  const FC_THIS = '0e471_WebChartColumn1';
  //redraw the chart
  window['FC_' + FC_THIS + '_DrawChart']();


}

/*=----------------------------------------------------------------------=*\
   Use :Add to the chart
       :
       :Parameters for macro AddPoint:
       :  name : Category name
       :  value : Plotted value
       :  index : Series index (1-8)
\*=----------------------------------------------------------------------=*/
function FCD_0e471_WebChartColumn1__AddPoint(FCL_NAME, FCL_VALUE, FCL_INDEX)
{
  const FC_THIS = '0e471_WebChartColumn1';
  data = window['FCDATA_' + FC_THIS];

  colcount = data.getNumberOfColumns();
  if ((FCL_INDEX > 0) && (FCL_INDEX < colcount))
  {
    rows = data.getFilteredRows([{column: 0, value: FCL_NAME}]);
    if (rows.length == 1)
    {
      rowIdx = rows[0];
      data.setCell(rowIdx, FCL_INDEX, FCL_VALUE);
    }
    else
    {
      //add the data
      data.addRow();
      rowcount = data.getNumberOfRows() - 1;
      data.setCell(rowcount, 0, FCL_NAME);
      data.setCell(rowcount, FCL_INDEX, Number(FCL_VALUE));
    }
  }
  else
  {
    const newError = new RangeError("Index out of range in call to AddPoint. Value=" + FCL_INDEX.toString() + "; ColCount=" + colcount.toString() + ";");
    self.reportError(newError);
  }

}


/*=----------------------------------------------------------------------=*\
   Use :WebChartLine1
       :GUID: 724dc5b4-8519-41ff-a96d-413275961305
       :Location: E:\DEV\Flowcode\V10\web components\June2023\exported\WebChartLine.fcpx
       :Version: 1.0 (0x11e)*
       :Timestamp: 0
       :Variable declarations
       :Macro implementations
\*=----------------------------------------------------------------------=*/
/*=----------------------------------------------------------------------=*\
   Use :Sets the names for each series
       :
       :Parameters for macro SetSeriesNames:
       :  SeriesCount : The number of series to plot (1-8)
       :  SeriesNames : Comma-separated list of series names
\*=----------------------------------------------------------------------=*/
function FCD_03271_WebChartLine1__SetSeriesNames(FCL_SERIESCOUNT, FCL_SERIESNAMES)
{
  const FC_THIS = '03271_WebChartLine1';
  //Local variable definitions
  let FCL_ITEMP = 0;  // 
  let FCL_STEMP = "";  // 

  //Comment:
  //NOTE: arrays are not currently supported, so we pass 
  //in a comma-demlimited string

  if ((FCL_SERIESCOUNT < 1) || (FCL_SERIESCOUNT > 5))
  {
    const newError = new RangeError("SeriesCount needs to be between 1 and 5. Value=" + FCL_SERIESCOUNT.toString());
    self.reportError(newError);
    return;
  }

  const array = FCL_SERIESNAMES.split(',');

  let data = window['FCDATA_' + FC_THIS];

  let iOldSeriesCount = data.getNumberOfColumns() - 1;

  //remove unwanted columns
  if (FCL_SERIESCOUNT < iOldSeriesCount)
  {
    for (let i = iOldSeriesCount; i > FCL_SERIESCOUNT; i--)
    {
      data.removeColumn(i);
    }
  }

  for (let i = 1; i <= FCL_SERIESCOUNT; i++)
  {
    if (i <= iOldSeriesCount)
    {
      data.setColumnLabel(i, array[i-1]);
    }
    else
    {
      data.addColumn('number', array[i-1]);
    }
  }



}

/*=----------------------------------------------------------------------=*\
   Use :Remove all data from the chart
\*=----------------------------------------------------------------------=*/
function FCD_03271_WebChartLine1__ClearData()
{
  const FC_THIS = '03271_WebChartLine1';
  //Local variable definitions
  let FCL_ITEMP = 0;  // 
  let FCL_STEMP = "";  // 

  //clear the data
  data = window['FCDATA_' + FC_THIS];
  rows = data.getNumberOfRows();
  data.removeRows(0, rows);


/*
  FCD_03271_WebChartLine1__Redraw();

*/

}

/*=----------------------------------------------------------------------=*\
   Use :Redraw the chart
\*=----------------------------------------------------------------------=*/
function FCD_03271_WebChartLine1__Redraw()
{
  const FC_THIS = '03271_WebChartLine1';
  //redraw the chart
  window['FC_' + FC_THIS + '_DrawChart']();


}

/*=----------------------------------------------------------------------=*\
   Use :Add to the chart
       :
       :Parameters for macro AddPoint:
       :  x : X value to plot
       :  y : Y value to plot
       :  index : Series index (1-8)
\*=----------------------------------------------------------------------=*/
function FCD_03271_WebChartLine1__AddPoint(FCL_X, FCL_Y, FCL_INDEX)
{
  const FC_THIS = '03271_WebChartLine1';
  data = window['FCDATA_' + FC_THIS];

  colcount = data.getNumberOfColumns();
  if ((FCL_INDEX > 0) && (FCL_INDEX < colcount))
  {
    rows = data.getFilteredRows([{column: 0, value: FCL_X}]);
    if (rows.length == 1)
    {
      rowIdx = rows[0];
      data.setCell(rowIdx, FCL_INDEX, FCL_Y);
    }
    else
    {
      //add the data
      data.addRow();
      rowcount = data.getNumberOfRows() - 1;
      data.setCell(rowcount, 0, FCL_X);
      data.setCell(rowcount, FCL_INDEX, Number(FCL_Y));
    }
  }
  else
  {
    const newError = new RangeError("Index out of range in call to AddPoint. Value=" + FCL_INDEX.toString() + "; ColCount=" + colcount.toString() + ";");
    self.reportError(newError);
  }

}


/*=----------------------------------------------------------------------=*\
   Use :WebLabel5
       :GUID: 8572e90c-bb9d-4d3c-8350-a68d412af899
       :Location: E:\DEV\Flowcode\V10\web components\June2023\exported\WebLabel.fcpx
       :Version: 1.0 (0x11e)*
       :Timestamp: 0
       :Variable declarations
       :Macro implementations
\*=----------------------------------------------------------------------=*/
/*=----------------------------------------------------------------------=*\
   Use :Parameters for macro SetText:
       :  s : Text to set
\*=----------------------------------------------------------------------=*/
function FCD_0cd45_WebLabel5__SetText(FCL_S)
{
  const FC_THIS = '0cd45_WebLabel5';
/*
  
  #error FCAPI_Component.Property.SetValue('0226c_GdiText1', "sText", FCL_S);

*/

/*
  FCD_0226c_GdiText1__SetText(FCL_S);

*/

  document.getElementById(FC_THIS).innerHTML = FCL_S;

}


/*=----------------------------------------------------------------------=*\
   Use :rdoCelsius
       :GUID: 1aadf780-b159-4970-8c1a-6af1ec49335b
       :Location: E:\DEV\Flowcode\V10\web components\June2023\exported\WebRadio.fcpx
       :Version: 1.0 (0x11e)*
       :Timestamp: 0
       :Variable declarations
       :Macro implementations
\*=----------------------------------------------------------------------=*/
/*=----------------------------------------------------------------------=*\
   Use :Returns : MX_BOOL
\*=----------------------------------------------------------------------=*/
function FCD_035e4_rdoCelsius__GetState()
{
  const FC_THIS = '035e4_rdoCelsius';
  //Local variable definitions
  let FCR_RETVAL = false;  // 

  FCR_RETVAL = (document.getElementById(FC_THIS).checked == true);


  return (FCR_RETVAL);

}

/*=----------------------------------------------------------------------=*\
   Use :Parameters for macro SetState:
       :  bState : MX_BOOL
\*=----------------------------------------------------------------------=*/
function FCD_035e4_rdoCelsius__SetState(FCL_BSTATE)
{
  const FC_THIS = '035e4_rdoCelsius';
  if (FCL_BSTATE)
  {
    document.getElementById(FC_THIS).checked = true;

  } else {
    document.getElementById(FC_THIS).checked = false;

  }

}


/*=----------------------------------------------------------------------=*\
   Use :rdoFahrenheit
       :GUID: 1aadf780-b159-4970-8c1a-6af1ec49335b
       :Location: E:\DEV\Flowcode\V10\web components\June2023\exported\WebRadio.fcpx
       :Version: 1.0 (0x11e)*
       :Timestamp: 0
       :Variable declarations
       :Macro implementations
\*=----------------------------------------------------------------------=*/
/*=----------------------------------------------------------------------=*\
   Use :Returns : MX_BOOL
\*=----------------------------------------------------------------------=*/
function FCD_035e3_rdoFahrenheit__GetState()
{
  const FC_THIS = '035e3_rdoFahrenheit';
  //Local variable definitions
  let FCR_RETVAL = false;  // 

  FCR_RETVAL = (document.getElementById(FC_THIS).checked == true);


  return (FCR_RETVAL);

}

/*=----------------------------------------------------------------------=*\
   Use :Parameters for macro SetState:
       :  bState : MX_BOOL
\*=----------------------------------------------------------------------=*/
function FCD_035e3_rdoFahrenheit__SetState(FCL_BSTATE)
{
  const FC_THIS = '035e3_rdoFahrenheit';
  if (FCL_BSTATE)
  {
    document.getElementById(FC_THIS).checked = true;

  } else {
    document.getElementById(FC_THIS).checked = false;

  }

}


/*=----------------------------------------------------------------------=*\
   Use :rdoMin
       :GUID: 1aadf780-b159-4970-8c1a-6af1ec49335b
       :Location: E:\DEV\Flowcode\V10\web components\June2023\exported\WebRadio.fcpx
       :Version: 1.0 (0x11e)*
       :Timestamp: 0
       :Variable declarations
       :Macro implementations
\*=----------------------------------------------------------------------=*/
/*=----------------------------------------------------------------------=*\
   Use :Returns : MX_BOOL
\*=----------------------------------------------------------------------=*/
function FCD_035e2_rdoMin__GetState()
{
  const FC_THIS = '035e2_rdoMin';
  //Local variable definitions
  let FCR_RETVAL = false;  // 

  FCR_RETVAL = (document.getElementById(FC_THIS).checked == true);


  return (FCR_RETVAL);

}

/*=----------------------------------------------------------------------=*\
   Use :Parameters for macro SetState:
       :  bState : MX_BOOL
\*=----------------------------------------------------------------------=*/
function FCD_035e2_rdoMin__SetState(FCL_BSTATE)
{
  const FC_THIS = '035e2_rdoMin';
  if (FCL_BSTATE)
  {
    document.getElementById(FC_THIS).checked = true;

  } else {
    document.getElementById(FC_THIS).checked = false;

  }

}


/*=----------------------------------------------------------------------=*\
   Use :WebLabel4
       :GUID: 8572e90c-bb9d-4d3c-8350-a68d412af899
       :Location: E:\DEV\Flowcode\V10\web components\June2023\exported\WebLabel.fcpx
       :Version: 1.0 (0x11e)*
       :Timestamp: 0
       :Variable declarations
       :Macro implementations
\*=----------------------------------------------------------------------=*/
/*=----------------------------------------------------------------------=*\
   Use :Parameters for macro SetText:
       :  s : Text to set
\*=----------------------------------------------------------------------=*/
function FCD_0cd44_WebLabel4__SetText(FCL_S)
{
  const FC_THIS = '0cd44_WebLabel4';
/*
  
  #error FCAPI_Component.Property.SetValue('02268_GdiText1', "sText", FCL_S);

*/

/*
  FCD_02268_GdiText1__SetText(FCL_S);

*/

  document.getElementById(FC_THIS).innerHTML = FCL_S;

}


/*=----------------------------------------------------------------------=*\
   Use :rdoMax
       :GUID: 1aadf780-b159-4970-8c1a-6af1ec49335b
       :Location: E:\DEV\Flowcode\V10\web components\June2023\exported\WebRadio.fcpx
       :Version: 1.0 (0x11e)*
       :Timestamp: 0
       :Variable declarations
       :Macro implementations
\*=----------------------------------------------------------------------=*/
/*=----------------------------------------------------------------------=*\
   Use :Returns : MX_BOOL
\*=----------------------------------------------------------------------=*/
function FCD_035e1_rdoMax__GetState()
{
  const FC_THIS = '035e1_rdoMax';
  //Local variable definitions
  let FCR_RETVAL = false;  // 

  FCR_RETVAL = (document.getElementById(FC_THIS).checked == true);


  return (FCR_RETVAL);

}

/*=----------------------------------------------------------------------=*\
   Use :Parameters for macro SetState:
       :  bState : MX_BOOL
\*=----------------------------------------------------------------------=*/
function FCD_035e1_rdoMax__SetState(FCL_BSTATE)
{
  const FC_THIS = '035e1_rdoMax';
  if (FCL_BSTATE)
  {
    document.getElementById(FC_THIS).checked = true;

  } else {
    document.getElementById(FC_THIS).checked = false;

  }

}


/*=----------------------------------------------------------------------=*\
   Use :txtEnd
       :GUID: c9c426b0-29da-406a-afa3-aa4bd66f785f
       :Location: E:\DEV\Flowcode\V10\web components\June2023\exported\WebInputText.fcpx
       :Version: 1.0 (0x11e)*
       :Timestamp: 0
       :Variable declarations
       :Macro implementations
\*=----------------------------------------------------------------------=*/
/*=----------------------------------------------------------------------=*\
   Use :Parameters for macro SetText:
       :  s : Text to set
\*=----------------------------------------------------------------------=*/
function FCD_0b5b2_txtEnd__SetText(FCL_S)
{
  const FC_THIS = '0b5b2_txtEnd';
  document.getElementById(FC_THIS).value = FCL_S;

}

/*=----------------------------------------------------------------------=*\
   Use :Returns : MX_CHAR*
\*=----------------------------------------------------------------------=*/
function FCD_0b5b2_txtEnd__GetText()
{
  const FC_THIS = '0b5b2_txtEnd';
  //Local variable definitions
  FCR_RETVAL = document.getElementById(FC_THIS).value;

  return (FCR_RETVAL);

}


/*=----------------------------------------------------------------------=*\
   Use :txtStart
       :GUID: c9c426b0-29da-406a-afa3-aa4bd66f785f
       :Location: E:\DEV\Flowcode\V10\web components\June2023\exported\WebInputText.fcpx
       :Version: 1.0 (0x11e)*
       :Timestamp: 0
       :Variable declarations
       :Macro implementations
\*=----------------------------------------------------------------------=*/
/*=----------------------------------------------------------------------=*\
   Use :Parameters for macro SetText:
       :  s : Text to set
\*=----------------------------------------------------------------------=*/
function FCD_0b5b1_txtStart__SetText(FCL_S)
{
  const FC_THIS = '0b5b1_txtStart';
  document.getElementById(FC_THIS).value = FCL_S;

}

/*=----------------------------------------------------------------------=*\
   Use :Returns : MX_CHAR*
\*=----------------------------------------------------------------------=*/
function FCD_0b5b1_txtStart__GetText()
{
  const FC_THIS = '0b5b1_txtStart';
  //Local variable definitions
  FCR_RETVAL = document.getElementById(FC_THIS).value;

  return (FCR_RETVAL);

}


/*=----------------------------------------------------------------------=*\
   Use :WebLabel3
       :GUID: 8572e90c-bb9d-4d3c-8350-a68d412af899
       :Location: E:\DEV\Flowcode\V10\web components\June2023\exported\WebLabel.fcpx
       :Version: 1.0 (0x11e)*
       :Timestamp: 0
       :Variable declarations
       :Macro implementations
\*=----------------------------------------------------------------------=*/
/*=----------------------------------------------------------------------=*\
   Use :Parameters for macro SetText:
       :  s : Text to set
\*=----------------------------------------------------------------------=*/
function FCD_0cd43_WebLabel3__SetText(FCL_S)
{
  const FC_THIS = '0cd43_WebLabel3';
/*
  
  #error FCAPI_Component.Property.SetValue('02264_GdiText1', "sText", FCL_S);

*/

/*
  FCD_02264_GdiText1__SetText(FCL_S);

*/

  document.getElementById(FC_THIS).innerHTML = FCL_S;

}


/*=----------------------------------------------------------------------=*\
   Use :WebLabel2
       :GUID: 8572e90c-bb9d-4d3c-8350-a68d412af899
       :Location: E:\DEV\Flowcode\V10\web components\June2023\exported\WebLabel.fcpx
       :Version: 1.0 (0x11e)*
       :Timestamp: 0
       :Variable declarations
       :Macro implementations
\*=----------------------------------------------------------------------=*/
/*=----------------------------------------------------------------------=*\
   Use :Parameters for macro SetText:
       :  s : Text to set
\*=----------------------------------------------------------------------=*/
function FCD_0cd42_WebLabel2__SetText(FCL_S)
{
  const FC_THIS = '0cd42_WebLabel2';
/*
  
  #error FCAPI_Component.Property.SetValue('02263_GdiText1', "sText", FCL_S);

*/

/*
  FCD_02263_GdiText1__SetText(FCL_S);

*/

  document.getElementById(FC_THIS).innerHTML = FCL_S;

}


/*=----------------------------------------------------------------------=*\
   Use :WebLabel1
       :GUID: 8572e90c-bb9d-4d3c-8350-a68d412af899
       :Location: E:\DEV\Flowcode\V10\web components\June2023\exported\WebLabel.fcpx
       :Version: 1.0 (0x11e)*
       :Timestamp: 0
       :Variable declarations
       :Macro implementations
\*=----------------------------------------------------------------------=*/
/*=----------------------------------------------------------------------=*\
   Use :Parameters for macro SetText:
       :  s : Text to set
\*=----------------------------------------------------------------------=*/
function FCD_0cd41_WebLabel1__SetText(FCL_S)
{
  const FC_THIS = '0cd41_WebLabel1';
/*
  
  #error FCAPI_Component.Property.SetValue('02262_GdiText1', "sText", FCL_S);

*/

/*
  FCD_02262_GdiText1__SetText(FCL_S);

*/

  document.getElementById(FC_THIS).innerHTML = FCL_S;

}


/*=----------------------------------------------------------------------=*\
   Use :cboLocation
       :GUID: 9d2842d2-c72d-4631-94b3-1186cb496fff
       :Location: E:\DEV\Flowcode\V10\web components\June2023\exported\WebComboBox.fcpx
       :Version: 1.0 (0x11e)*
       :Timestamp: 0
       :Variable declarations
       :Macro implementations
\*=----------------------------------------------------------------------=*/
/*=----------------------------------------------------------------------=*\
   Use :Returns : MX_SINT16
\*=----------------------------------------------------------------------=*/
function FCD_07731_cboLocation__GetSelectedIndex()
{
  const FC_THIS = '07731_cboLocation';
  //Local variable definitions
  let FCR_RETVAL = 0;  // 

  const this2 = 'cbo' + FC_THIS;
  var obj = document.getElementById(this2);
  if (obj.type == "select-one")
  {
    FCR_RETVAL = obj.selectedIndex;
  }
  else
  {
    FCR_RETVAL = -1;
    //if (obj.value != "")
    //{
      let options = document.getElementById(FC_THIS).options;
      for (var i=0; i<options.length; i++)
      {
        if (options[i].value == obj.value)
        {
          FCR_RETVAL = i;
          break;
        }
      }
    //}
  }

  return (FCR_RETVAL);

}

/*=----------------------------------------------------------------------=*\
   Use :Returns : MX_CHAR*
\*=----------------------------------------------------------------------=*/
function FCD_07731_cboLocation__GetSelectedText()
{
  const FC_THIS = '07731_cboLocation';
  //Local variable definitions
  const this2 = 'cbo' + FC_THIS;
  var obj = document.getElementById(this2);
  if (obj.type == "select-one")
  {
    var idx = obj.selectedIndex;
    if (idx >= 0)
    {
      FCR_RETVAL = obj.options[idx].text;
    }
  }
  else
  {
    FCR_RETVAL = obj.value;
  }

  return (FCR_RETVAL);

}


/*=----------------------------------------------------------------------=*\
   Use :User Project
       :Variable declarations
       :Macro implementations
\*=----------------------------------------------------------------------=*/
let FCV_FALSE = false;  // 
let FCV_TRUE = true;  // 
let FCV_SDATE2 = "";  // 
let FCV_SDATE1 = "";  // 
let FCV_SDAILY = "";  // 

/*=----------------------------------------------------------------------=*\
   Use :Called when the button is clicked
\*=----------------------------------------------------------------------=*/
function FCM_OnClick()
{
  const FC_THIS = '00000_panel';
  //Local variable definitions
  let FCL_PARAMS = "";  // 
  let FCL_S = "";  // 
  let FCL_I = 0;  // 
  let FCL_BCLEARCHART = false;  // 

  //Comment:
  //Most of the work here is to create the 
  //appropriate parameters for the url

  // Name: Calculation, Type: Calculation:
  // .params = ""
  FCL_PARAMS = "";

  // Name: Component Macro, Type: Component Macro: .i=cboLocation::GetSelectedIndex()
  FCL_I = FCD_07731_cboLocation__GetSelectedIndex();

  // Name: Switch, Type: Switch: .i?
  switch (FCL_I)
  {
    case 0:
    {
      // Name: Calculation, Type: Calculation:
      // .params = .params + "latitude=53.7167"
      FCL_PARAMS = FCL_PARAMS + "latitude=53.7167";

      // Name: Calculation, Type: Calculation:
      // .params = .params + "&longitude=-1.85"
      FCL_PARAMS = FCL_PARAMS + "&longitude=-1.85";

      break;
    }
    case 1:
    {
      // Name: Calculation, Type: Calculation:
      // .params = .params + "latitude=43.7001"
      FCL_PARAMS = FCL_PARAMS + "latitude=43.7001";

      // Name: Calculation, Type: Calculation:
      // .params = .params + "&longitude=-79.4163"
      FCL_PARAMS = FCL_PARAMS + "&longitude=-79.4163";

      break;
    }
    case 2:
    {
      // Name: Calculation, Type: Calculation:
      // .params = .params + "latitude=-43.5333"
      FCL_PARAMS = FCL_PARAMS + "latitude=-43.5333";

      // Name: Calculation, Type: Calculation:
      // .params = .params + "&longitude=172.6333"
      FCL_PARAMS = FCL_PARAMS + "&longitude=172.6333";

      break;
    }
    // default:

  }

  // Name: Component Macro, Type: Component Macro: .s=txtStart::GetText()
  FCL_S = FCD_0b5b1_txtStart__GetText();

  // Name: Calculation, Type: Calculation:
  // .params = .params + "&start_date=" + .s
  FCL_PARAMS = FCL_PARAMS + "&start_date=" + FCL_S;

  // Name: Javascript, Type: Code:
  FCL_BCLEARCHART = (FCL_S != FCV_SDATE1)


  // Name: Calculation, Type: Calculation:
  // sDate1 = .s
  FCV_SDATE1 = FCL_S;

  // Name: Component Macro, Type: Component Macro: .s=txtEnd::GetText()
  FCL_S = FCD_0b5b2_txtEnd__GetText();

  // Name: Calculation, Type: Calculation:
  // .params = .params + "&end_date=" + .s
  FCL_PARAMS = FCL_PARAMS + "&end_date=" + FCL_S;

  // Name: Decision, Type: Decision: .bClearChart == 0?
  if (FCL_BCLEARCHART == 0)
  {
    // Name: Javascript, Type: Code:
    FCL_BCLEARCHART = (FCL_S != FCV_SDATE2)


  // } else {
  }

  // Name: Calculation, Type: Calculation:
  // sDate2 = .s
  FCV_SDATE2 = FCL_S;

  // Name: Calculation, Type: Calculation:
  // .params = .params + "&timezone=GMT"
  FCL_PARAMS = FCL_PARAMS + "&timezone=GMT";

  // Name: Decision, Type: Decision: rdoFahrenheit :: GetState ()?
  if (FCD_035e3_rdoFahrenheit__GetState())
  {
    // Name: Calculation, Type: Calculation:
    // .params = .params + "&temperature_unit=fahrenheit"
    FCL_PARAMS = FCL_PARAMS + "&temperature_unit=fahrenheit";

  } else {
    // Name: Calculation, Type: Calculation:
    // .params = .params + "&temperature_unit=celsius"
    FCL_PARAMS = FCL_PARAMS + "&temperature_unit=celsius";

  }

  // Name: Decision, Type: Decision: rdoMin :: GetState ()?
  if (FCD_035e2_rdoMin__GetState())
  {
    // Name: Calculation, Type: Calculation:
    // sDaily = "temperature_2m_min"
    FCV_SDAILY = "temperature_2m_min";

  } else {
    // Name: Calculation, Type: Calculation:
    // sDaily = "temperature_2m_max"
    FCV_SDAILY = "temperature_2m_max";

  }

  // Name: Calculation, Type: Calculation:
  // .params = .params + "&daily=" + sDaily
  FCL_PARAMS = FCL_PARAMS + "&daily=" + FCV_SDAILY;

  // Name: Component Macro, Type: Component Macro: txtUrl::SetText(.params)
  FCD_0b5b3_txtUrl__SetText(FCL_PARAMS);

  // Name: Decision, Type: Decision: .bClearChart?
  if (FCL_BCLEARCHART)
  {
    // Name: Component Macro, Type: Component Macro: WebChartColumn1::ClearData()
    FCD_0e471_WebChartColumn1__ClearData();

    // Name: Component Macro, Type: Component Macro: WebChartLine1::ClearData()
    FCD_03271_WebChartLine1__ClearData();

  // } else {
  }

  //Comment:
  //Now fetch the data from the url with 
  //the appropriate parameters

  // Name: Component Macro, Type: Component Macro: WebFetch1::Fetch(.params)
  FCD_09881_WebFetch1__Fetch(FCL_PARAMS);

}

/*=----------------------------------------------------------------------=*\
   Use :Parameters for macro PlotPoint:
       :  value : MX_FLOAT
       :  index : MX_SINT32
       :  array : MX_UINT32
\*=----------------------------------------------------------------------=*/
function FCM_PlotPoint(FCL_VALUE, FCL_INDEX, FCL_ARRAY)
{
  const FC_THIS = '00000_panel';
  //Local variable definitions
  let FCL_IDX = 0;  // 

  // Name: Component Macro, Type: Component Macro: .idx=cboLocation::GetSelectedIndex()
  FCL_IDX = FCD_07731_cboLocation__GetSelectedIndex();

  // Name: Component Macro, Type: Component Macro: WebChartLine1::AddPoint(.index, .value, .idx+1)
  FCD_03271_WebChartLine1__AddPoint(FCL_INDEX, FCL_VALUE, FCL_IDX + 1);

}

/*=----------------------------------------------------------------------=*\
   Use :Parameters for macro PlotColumn:
       :  date : MX_CHAR
       :  temperature : MX_FLOAT
\*=----------------------------------------------------------------------=*/
function FCM_PlotColumn(FCL_DATE, FCL_TEMPERATURE)
{
  const FC_THIS = '00000_panel';
  // Name: Component Macro, Type: Component Macro: WebChartColumn1::AddPoint(.date, .temperature, 1)
  FCD_0e471_WebChartColumn1__AddPoint(FCL_DATE, FCL_TEMPERATURE, 1);

}

/*=----------------------------------------------------------------------=*\
   Use :Parameters for macro DrawCharts:
       :  data : MX_UINT32
\*=----------------------------------------------------------------------=*/
function FCM_DrawCharts(FCL_DATA)
{
  const FC_THIS = '00000_panel';
  //Local variable definitions
  let FCL_DAILY = {};  // 
  let FCL_ARRDATA = {};  // 
  let FCL_ARRDATES = {};  // 
  let FCL_LEN = 0;  // 
  let FCL_IDX = 0x0;  // 
  let FCL_OBJ = {};  // 
  let FCL_TEMP = 0.0;  // 
  let FCL_DATE = "";  // 
  let FCL_INFO = "";  // 

  //Comment:
  //Set the text field to the JSON string to 
  //help to understand its structure

  // Name: Component Macro, Type: Component Macro: .info=WebObject1::ObjectToJSON(.data)
  FCL_INFO = FCD_007e1_WebObject1__ObjectToJSON(FCL_DATA);

  // Name: Component Macro, Type: Component Macro: txtUrl::SetText(.info)
  FCD_0b5b3_txtUrl__SetText(FCL_INFO);

  //Comment:
  //The following plots the line chart from the 
  //received data using ArrayParse, which calls 
  //our PlotPoint for each item in the array

  // Name: Component Macro, Type: Component Macro: .Daily=WebObject1::GetValue(.data, "daily")
  FCL_DAILY = FCD_007e1_WebObject1__GetValue(FCL_DATA, "daily");

  // Name: Component Macro, Type: Component Macro: .ArrData=WebObject1::GetValue(.Daily, sDaily)
  FCL_ARRDATA = FCD_007e1_WebObject1__GetValue(FCL_DAILY, FCV_SDAILY);

  // Name: Component Macro, Type: Component Macro: Array1::ArrayParse(.ArrData)
  FCD_0a601_Array1__ArrayParse(FCL_ARRDATA);

  // Name: Component Macro, Type: Component Macro: WebChartLine1::Redraw()
  FCD_03271_WebChartLine1__Redraw();

  //Comment:
  //The following is more long-winded and plots
  //the column chart data

  // Name: Component Macro, Type: Component Macro: .ArrDates=WebObject1::GetValue(.Daily, "time")
  FCL_ARRDATES = FCD_007e1_WebObject1__GetValue(FCL_DAILY, "time");

  // Name: Component Macro, Type: Component Macro: .len=Array1::ArrayGetLength(.ArrDates)
  FCL_LEN = FCD_0a601_Array1__ArrayGetLength(FCL_ARRDATES);

  // Name: Loop, Type: Loop: Loop  .idx: .len times
  for (FCL_IDX=0; (FCL_IDX)<(FCL_LEN); (FCL_IDX)++)
  {
    // Name: Component Macro, Type: Component Macro: .obj=Array1::ArrayGetValue(.ArrDates, .idx)
    FCL_OBJ = FCD_0a601_Array1__ArrayGetValue(FCL_ARRDATES, FCL_IDX);

    // Name: Component Macro, Type: Component Macro: .date=WebObject1::ObjectToString(.obj)
    FCL_DATE = FCD_007e1_WebObject1__ObjectToString(FCL_OBJ);

    // Name: Component Macro, Type: Component Macro: .obj=Array1::ArrayGetValue(.ArrData, .idx)
    FCL_OBJ = FCD_0a601_Array1__ArrayGetValue(FCL_ARRDATA, FCL_IDX);

    // Name: Component Macro, Type: Component Macro: .temp=WebObject1::ObjectToNumber(.obj)
    FCL_TEMP = FCD_007e1_WebObject1__ObjectToNumber(FCL_OBJ);

    // Name: User Macro, Type: User Macro: PlotColumn(.date, .temp)
    FCM_PlotColumn(FCL_DATE, FCL_TEMP);


  }

  // Name: Component Macro, Type: Component Macro: WebChartColumn1::Redraw()
  FCD_0e471_WebChartColumn1__Redraw();

}


</script>

<!---------------------------------------------------------------------------
   Use :Main
---------------------------------------------------------------------------->
<!-- WEBEXP: customise the <main> function here-->
<script>
async function MyMainFunction()
{
	//WEBEXP: init code within <main> can be customised here.


  // Name: Component Macro, Type: Component Macro: WebChartLine1::ClearData()
  FCD_03271_WebChartLine1__ClearData();

  // Name: Component Macro, Type: Component Macro: WebChartColumn1::ClearData()
  FCD_0e471_WebChartColumn1__ClearData();

}
</script>



<!---------------------------------------------------------------------------
   Use :Interrupt
---------------------------------------------------------------------------->

<!-- WEBEXP: put any code at the bottom of the file here-->
<script>
  function StartupCheck(obj)
  {
    let i = MxDelayedObjects.indexOf(obj);
    MxDelayedObjects.splice(i,1);
    if (MxDelayedObjects.length == 0)
    {
      MyMainFunction();
    }
  }

  //Check delay-start objects and start immediately if there are none
  if (MxDelayedObjects.length == 0)
  {
    MyMainFunction();
  }
</script>







</body>
</html>
