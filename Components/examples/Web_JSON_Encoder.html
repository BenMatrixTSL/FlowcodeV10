<!DOCTYPE html>
<html>
<head>
<title>Blank Web - created by Flowcode V10.0</title>

<!----------------------------------------------------------------------------------

Source name:   D:\Dev\Flowcode V10\Components\examples\Web_JSON_Encoder.fcsx
Title:         Blank Web
Description:   A blank Web App Developer project suitable for creating apps that run in a browser
Device:        Web Export

Generated by:  Flowcode v10.0.4.36
Date:          Tuesday, November 28, 2023 10:28:39
Users:         10
Registered to: BenR (BenR)
Licence key: C9TN1M


   NOT FOR COMMERCIAL USE

https://www.flowcode.co.uk

<---------------------------------------------------------------------------------->



<!-- WEBEXP: add any includes, etc, at the start of the file here-->
      <script>
    function sin(a)                 { return Math.sin(a); }
    function cos(a)                 { return Math.cos(a); }
    function tan(a)                 { return Math.tan(a); }
    function asin(a)                { return Math.asin(a); }
    function acos(a)                { return Math.acos(a); }
    function atan(a)                { return Math.atan(a); }
    function atan2(y,x)             { return Math.atan2(y,x); }
    function sinh(a)                { return Math.sinh(a); }
    function cosh(a)                { return Math.cosh(a); }
    function tanh(a)                { return Math.tanh(a); }
    function asinh(a)               { return Math.asinh(a); }
    function acosh(a)               { return Math.acosh(a); }
    function atanh(a)               { return Math.atanh(a); }
    function fact(a)                { TODO; }
    function log(a)                 { return Math.log(a); }
    function log10(a)               { return Math.log10(a); }
    function float32_sqrt(a)        { return Math.sqrt(a); }  //same as float32_sqrt
    function sqrt(a)                { return Math.sqrt(a); }
    function cbrt(a)                { return Math.cbrt(a); }
    function exp(a)                 { return Math.exp(a); }
    function flt_rem(a)             { TODO; }
    function fmod(a)                { TODO; }  //same as flt_rem
    function fabs(a)                { return Math.abs(a); }
    function rand(a)                { return Math.round(65535 * Math.random(a)); }
    function random(a)              { return Math.round(65535 * Math.random(a)); }  //same as rand
    function fround(a)              { return Math.round(a); }
    function pow(x,y)               { return Math.pow(x,y); }
    function ceil(a)                { return Math.ceil(a); }
    function floor(a)               { return Math.floor(a); }
    function round(a)               { return Math.round(a); }
    function flt_add(a,b)           { return (a+b); }
    function flt_sub(a,b)           { return (a-b); }
    function flt_mul(a,b)           { return (a*b); }
    function flt_div(a,b)           { return (a/b); }
    function flt_le(a,b)            { return (a <= b); }
    function flt_lt(a,b)            { return (a < b); }
    function flt_eq(a,b)            { return (a == b); }
    function flt_ge(a,b)            { return (a >= b); }
    function flt_gt(a,b)            { return (a > b); }
    function flt_toi(a)             { return Math.round(a); }
    function flt_fromi(a)           { return (a); }
    function FCI_ARRAYDIMS(a)       { return (a); }
    function FCI_ARRAYSIZE(a)       { return (a); }

    function FCI_GETCHAR(a,b)       { return a.charCodeAt(b); }
    function FCI_GETLENGTH(a)       { return a.length; }
    function FCI_GETUTF8LEN(a)      { return a.length; }
    function FCI_LEFTSTRING(a,b)    { return a.slice(0,b); }
    function FCI_RIGHTSTRING(a,b)   { return a.slice(0-b); }
    function FCI_MIDSTRING(a,b,c)   { return a.slice(b,b+c); }
    function FCI_TOUPPER(a)         { return a.toUpperCase(); }
    function FCI_TOLOWER(a)         { return a.toLowerCase(); }
    
    function FCI_STRING_TO_INT(a)   { return parseInt(a); }
    function FCI_STRING_TO_FLOAT(a) { return parseFloat(a); }
    function FCI_TOSTRING(a)        { return a.toString(10); }
    function FCI_FLOAT2STR(a)       { return a.toString(); }
    function FCI_FLOAT2STR(a,b)     { return a.toPrecision(b).toString(); }
    function FCI_NUMBER_TO_HEX(a)   { return "0x" + a.toString(16); }
    
    function FCI_COMPARE(a,b,c)
    {
      if (c)
      {
        if (a.toUpperCase() == b.toUpperCase())
          return 0;
        else
          if (a.toUpperCase() > b.toUpperCase())
            return 1;
          else
            return -1;
      } else {
        if (a == b)
          return 0;
        else
          if (a > b)
            return 1;
          else
            return -1;
      }
    }

    function FCI_CONTAINS(a,b,c)    { return a.indexOf(b,c); }
    function FCI_SPLITSTRING(a,b,c) { const SSarray = a.split(b); return SSarray[c]; }
    
    function FCI_EXPLODETOINTARRAY(a,b,c)        { return a.split(b).map(Number); }
    function FCI_EXPLODETOFLOATARRAY(a,b,c)      { return a.split(b).map(Number); }
    function FCI_IMPLODEFROMINTARRAY(a,b,c)    	 { let sRetval = ""; for (i=0;i<c;i++) {sRetval = sRetval + a[i].toString(10); if(i<(c - 1)) {sRetval = sRetval + b;} } return sRetval; }
    function FCI_IMPLODEFROMFLOATARRAY(a,b,c,d)  { let sRetval = ""; for (i=0;i<c;i++) {sRetval = sRetval + a[i].toPrecision(d).toString(); if(i<(c - 1)) {sRetval = sRetval + b;} } return sRetval; }
    function FCI_INTTOFORMATTEDSTRING(a,b,c)     { TODO ; }
    function FCI_FLOATTOFORMATTEDSTRING(a,b,c)   { TODO ; }
    function FCI_INSERTSTRING(a,b,c)             { return a.slice(0,c)+b+a.slice(c); }
    function FCI_REMOVEFROMSTRING(a,b,c)         { return a.slice(0,b)+a.slice(b+c); }
    function FCI_SEARCHANDREPLACE(a,b,c)         { let count = a.split(b).length-1; a.replace(b,c); return count;}
   
    
    function resolveAfterMs(val)          { return new Promise((resolve) => { setTimeout(() => { resolve("milli"); }, val); }); }
    async function FCI_DELAYBYTE_US(a)    { await resolveAfterMs(a/1000); }
    async function FCI_DELAYBYTE_MS(a)    { await resolveAfterMs(a); }
    async function FCI_DELAYBYTE_S(a)     { await resolveAfterMs(1000*a); }
    async function FCI_DELAYINT_US(a)     { await resolveAfterMs(a/1000); }
    async function FCI_DELAYINT_MS(a)     { await resolveAfterMs(a); }
    async function FCI_DELAYINT_S(a)      { await resolveAfterMs(1000*a); }

    const MxDelayedObjects = [ ];

   </script>


<!--Script headers for components-->
<script>
//Script header for <052d1_TextBlock1>
</script>
<style>
.obj052d1_TextBlock1 {
  font-size: 12px;
  text-align: left;
  font-family: Arial, sans-serif;
  background-color: transparent;
  color: #000000;
  word-wrap: break-word;
  /*width:inherit;
  height:inherit;/*
}
</style>
<script>


//Script header for <09281_JSONEncoder1>


//Script header for <00011_WebDevLibraryComponent1>


//Script header for <03a71_TempSlider>
</script>
<style>
.obj03a71_TempSlider {
    -webkit-appearance: none;
    width: inherit;
    height: -webkit-fill-available;
    background: transparent;
    accent-color: #3c3c3c;
    cursor: pointer;
}
.obj03a71_TempSlider::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 18.75px;
    height: 18.75px;
    border-radius: 50%;
    cursor: pointer;
    background: #3c3c3c;
    box-shadow: 0px 0px 0px #3c3c3c;
    border: 0px solid #000000;
}
.obj03a71_TempSlider::-moz-range-thumb {
    width: 18.75px;
    height: 18.75px;
    border-radius: 50%;
    cursor: pointer;
    background: #3c3c3c;
    box-shadow: 0px 0px 0px #3c3c3c;
    border: 0px solid #000000;
}
.obj03a71_TempSlider:hover::-webkit-slider-thumb {
    background: #c08000;
}
.obj03a71_TempSlider:focus::-webkit-slider-thumb {
    background: #c08000;
}
.obj03a71_TempSlider:disabled::-webkit-slider-thumb {
    background: #3c3c3c;
    //background: #3b3b3b;
    //border: 0px solid #000000;
    cursor: not-allowed;
}
.obj03a71_TempSlider:disabled {
    cursor: not-allowed;
}
</style>
<script>


//Script header for <035d1_shapeTrack>


//Script header for <03a72_HumSlider>
</script>
<style>
.obj03a72_HumSlider {
    -webkit-appearance: none;
    width: inherit;
    height: -webkit-fill-available;
    background: transparent;
    accent-color: #3c3c3c;
    cursor: pointer;
}
.obj03a72_HumSlider::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 18.75px;
    height: 18.75px;
    border-radius: 50%;
    cursor: pointer;
    background: #3c3c3c;
    box-shadow: 0px 0px 0px #3c3c3c;
    border: 0px solid #000000;
}
.obj03a72_HumSlider::-moz-range-thumb {
    width: 18.75px;
    height: 18.75px;
    border-radius: 50%;
    cursor: pointer;
    background: #3c3c3c;
    box-shadow: 0px 0px 0px #3c3c3c;
    border: 0px solid #000000;
}
.obj03a72_HumSlider:hover::-webkit-slider-thumb {
    background: #5780ff;
}
.obj03a72_HumSlider:focus::-webkit-slider-thumb {
    background: #5780ff;
}
.obj03a72_HumSlider:disabled::-webkit-slider-thumb {
    background: #3c3c3c;
    //background: #3b3b3b;
    //border: 0px solid #000000;
    cursor: not-allowed;
}
.obj03a72_HumSlider:disabled {
    cursor: not-allowed;
}
</style>
<script>


//Script header for <035d2_shapeTrack>


//Script header for <0b5e1_Timer1>
  var FCTMR_0b5e1_Timer1;
  var FCMAC_0b5e1_Timer1 = 'FCM_Timer_ReadSliders';



//Script header for <00012_WebDevLibraryComponent1>


</script>

</head>



<body style='background-color:#f5f5f5;'>

<!--HTML body info for components-->
<div class = 'container minheight'>
  <div style='position: absolute; left: 10px; top: 80px; width: 400px; height: 90px; white-space: normal; overflow: visible;'>
    <div id='052d1_TextBlock1' class='obj052d1_TextBlock1'>Temperature: 0
    <br>Humidity: 0
    </div>
  </div>


  <div style='position: absolute; left: 10px; top: 30px; width: 200px; height: 20px; line-height: 20px; margin: 0 auto; white-space: nowrap;' >
    <svg id = '035d1_shapeTrack' width='200' height='20'>
      <defs>
        <linearGradient id='grad_035d1_shapeTrack' x1='100%' y1='100%' x2='0%' y2='100%'>
          <stop offset='0%' style='stop-color:#969696;stop-opacity:1'/>
          <stop offset='100%' style='stop-color:#ffffff;stop-opacity:1' />
        </linearGradient>
      </defs>
      <rect x='1' y='1' rx='8' ry='8' width='198' height='18' stroke=#000000 stroke-width='1' opacity='1.0' fill='url(#grad_035d1_shapeTrack)'/>
      Sorry, your browser does not support inline SVG.
    </svg>
  </div>
  <div style='position:absolute; left:10px; top:30px; width:200px; height:20px;'>
    <input type='range' id='03a71_TempSlider' name='03a71_TempSlider' class='obj03a71_TempSlider' max='100' min='0' step='1' value='40'>
  </div>
  <div style='position: absolute; left: 240px; top: 30px; width: 200px; height: 20px; line-height: 20px; margin: 0 auto; white-space: nowrap;' >
    <svg id = '035d2_shapeTrack' width='200' height='20'>
      <defs>
        <linearGradient id='grad_035d2_shapeTrack' x1='100%' y1='100%' x2='0%' y2='100%'>
          <stop offset='0%' style='stop-color:#969696;stop-opacity:1'/>
          <stop offset='100%' style='stop-color:#ffffff;stop-opacity:1' />
        </linearGradient>
      </defs>
      <rect x='1' y='1' rx='8' ry='8' width='198' height='18' stroke=#000000 stroke-width='1' opacity='1.0' fill='url(#grad_035d2_shapeTrack)'/>
      Sorry, your browser does not support inline SVG.
    </svg>
  </div>
  <div style='position:absolute; left:240px; top:30px; width:200px; height:20px;'>
    <input type='range' id='03a72_HumSlider' name='03a72_HumSlider' class='obj03a72_HumSlider' max='100' min='0' step='1' value='40'>
  </div>


</div>

<script>
  //NOTE: we can add fixed functions here from within the Flowcode exe if we want.
  function FCAPI_GetHtmlElement(id) { return document.getElementById(id); }
</script>

<script>

/*=----------------------------------------------------------------------=*\
   Use :Timer1
       :GUID: 30f0236a-7777-4c6f-8ceb-a29b8d5294d1
       :Location: D:\Dev\Flowcode V10\Components\temprelease\WebTimer.fcpx
       :Version: 1.0 (0x11e)*
       :Timestamp: 0
       :Variable declarations
       :Macro implementations
\*=----------------------------------------------------------------------=*/
/*=----------------------------------------------------------------------=*\
   Use :Sets the macro to be called when the timer event is triggered
       :
       :Parameters for macro SetMacro:
       :  sMacro : Name of the macro to be called
\*=----------------------------------------------------------------------=*/
function FCD_0b5e1_Timer1__SetMacro(FCL_SMACRO)
{
  const FC_THIS = '0b5e1_Timer1';
  window['FCMAC_' + FC_THIS] = "FCM_" + FCL_SMACRO;

}

/*=----------------------------------------------------------------------=*\
   Use :Stop/cancel the timer
\*=----------------------------------------------------------------------=*/
function FCD_0b5e1_Timer1__Stop()
{
  const FC_THIS = '0b5e1_Timer1';
  //Local variable definitions
  let FCL_ISREPEATING = false;  // 

  // .isRepeating = (bType == 0)
  FCL_ISREPEATING = (1 == 0);

  if (FCL_ISREPEATING)
  {
    clearTimeout(window['FCTMR_' + FC_THIS]);

  } else {
    clearInterval(window['FCTMR_' + FC_THIS]);

  }

}

/*=----------------------------------------------------------------------=*\
   Use :Start the timer
       :
       :Parameters for macro Start:
       :  iInterval : Interval length (in ms)
\*=----------------------------------------------------------------------=*/
function FCD_0b5e1_Timer1__Start(FCL_IINTERVAL)
{
  const FC_THIS = '0b5e1_Timer1';
  //Local variable definitions
  let FCL_ISREPEATING = false;  // 

  let mac = window['FCMAC_' + FC_THIS];

  // .isRepeating = (bType == 0)
  FCL_ISREPEATING = (1 == 0);

  if (FCL_ISREPEATING)
  {
    window['FCTMR_' + FC_THIS] = setTimeout(window[mac], FCL_IINTERVAL);

  } else {
    window['FCTMR_' + FC_THIS] = setInterval(window[mac], FCL_IINTERVAL);

  }

}


/*=----------------------------------------------------------------------=*\
   Use :HumSlider
       :GUID: 7e6b63bd-8cda-4b3d-bf64-ec66e9055a25
       :Location: D:\Dev\Flowcode V10\Components\temprelease\WebSlider.fcpx
       :Version: 1.0 (0x11e)*
       :Timestamp: 0
       :Variable declarations
       :Macro implementations
\*=----------------------------------------------------------------------=*/
/*=----------------------------------------------------------------------=*\
   Use :Returns : MX_SINT16
\*=----------------------------------------------------------------------=*/
function FCD_03a72_HumSlider__GetValue()
{
  const FC_THIS = '03a72_HumSlider';
  //Local variable definitions
  let FCR_RETVAL = 0;  // 

  var obj = document.getElementById(FC_THIS);
  FCR_RETVAL = parseInt(obj.value);


  return (FCR_RETVAL);

}

/*=----------------------------------------------------------------------=*\
   Use :Parameters for macro SetValue:
       :  value : MX_SINT16
\*=----------------------------------------------------------------------=*/
function FCD_03a72_HumSlider__SetValue(FCL_VALUE)
{
  const FC_THIS = '03a72_HumSlider';
  var obj = document.getElementById(FC_THIS);
  obj.value = FCL_VALUE;


}

/*=----------------------------------------------------------------------=*\
   Use :Make this component enabled or disabled
       :
       :Parameters for macro SetEnabled:
       :  Enable : Set false to make this component read-only
\*=----------------------------------------------------------------------=*/
function FCD_03a72_HumSlider__SetEnabled(FCL_ENABLE)
{
  const FC_THIS = '03a72_HumSlider';
  var obj = document.getElementById(FC_THIS);
  if (FCL_ENABLE)
  {
    obj.disabled = false;
  }
  else
  {
    obj.disabled = true;
  }


}


/*=----------------------------------------------------------------------=*\
   Use :TempSlider
       :GUID: 7e6b63bd-8cda-4b3d-bf64-ec66e9055a25
       :Location: D:\Dev\Flowcode V10\Components\temprelease\WebSlider.fcpx
       :Version: 1.0 (0x11e)*
       :Timestamp: 0
       :Variable declarations
       :Macro implementations
\*=----------------------------------------------------------------------=*/
/*=----------------------------------------------------------------------=*\
   Use :Returns : MX_SINT16
\*=----------------------------------------------------------------------=*/
function FCD_03a71_TempSlider__GetValue()
{
  const FC_THIS = '03a71_TempSlider';
  //Local variable definitions
  let FCR_RETVAL = 0;  // 

  var obj = document.getElementById(FC_THIS);
  FCR_RETVAL = parseInt(obj.value);


  return (FCR_RETVAL);

}

/*=----------------------------------------------------------------------=*\
   Use :Parameters for macro SetValue:
       :  value : MX_SINT16
\*=----------------------------------------------------------------------=*/
function FCD_03a71_TempSlider__SetValue(FCL_VALUE)
{
  const FC_THIS = '03a71_TempSlider';
  var obj = document.getElementById(FC_THIS);
  obj.value = FCL_VALUE;


}

/*=----------------------------------------------------------------------=*\
   Use :Make this component enabled or disabled
       :
       :Parameters for macro SetEnabled:
       :  Enable : Set false to make this component read-only
\*=----------------------------------------------------------------------=*/
function FCD_03a71_TempSlider__SetEnabled(FCL_ENABLE)
{
  const FC_THIS = '03a71_TempSlider';
  var obj = document.getElementById(FC_THIS);
  if (FCL_ENABLE)
  {
    obj.disabled = false;
  }
  else
  {
    obj.disabled = true;
  }


}


/*=----------------------------------------------------------------------=*\
   Use :JSONEncoder1
       :GUID: 0e2759dd-5335-4769-bdb4-5ddea30a6236
       :Location: D:\Dev\Flowcode V10\Components\temprelease\WebJSONEncoder.fcpx
       :Version: 1.0 (0x11e)*
       :Timestamp: 0
       :Variable declarations
       :Macro implementations
\*=----------------------------------------------------------------------=*/
let FCV_09281_JSONEncoder1__INITIALISED = false;  // 

/*=----------------------------------------------------------------------=*\
   Use :Generates a JSON data string with the current specified values.
       :
       :Returns : MX_CHAR*
\*=----------------------------------------------------------------------=*/
function FCD_09281_JSONEncoder1__GenerateJSON()
{
  const FC_THIS = '09281_JSONEncoder1';
  //Local variable definitions
  FCR_RETVAL = JSON.stringify(FCV_JSON_DATA);

  return (FCR_RETVAL);

}

/*=----------------------------------------------------------------------=*\
   Use :Assigns a data value as a string
       :
       :Parameters for macro AssignDataAsString:
       :  Key : Key name for the data
       :  Value : Value of the data
\*=----------------------------------------------------------------------=*/
function FCD_09281_JSONEncoder1__AssignDataAsString(FCL_KEY, FCL_VALUE)
{
  const FC_THIS = '09281_JSONEncoder1';
  //Local variable definitions
  let FCL_OBJ = {};  // 

  if (FCV_09281_JSONEncoder1__INITIALISED == 0)
  {
    FCD_09281_JSONEncoder1__ClearAll();

  // } else {
  }

  FCV_JSON_DATA[FCL_KEY] = FCL_VALUE;

}

/*=----------------------------------------------------------------------=*\
   Use :Assigns a data value as a floating point number
       :
       :Parameters for macro AssignDataAsFloat:
       :  Key : Key name for the data
       :  Value : Value of the data
\*=----------------------------------------------------------------------=*/
function FCD_09281_JSONEncoder1__AssignDataAsFloat(FCL_KEY, FCL_VALUE)
{
  const FC_THIS = '09281_JSONEncoder1';
  //Local variable definitions
  let FCL_OBJ = {};  // 

  if (FCV_09281_JSONEncoder1__INITIALISED == 0)
  {
    FCD_09281_JSONEncoder1__ClearAll();

  // } else {
  }

  FCV_JSON_DATA[FCL_KEY] = FCL_VALUE;

}

/*=----------------------------------------------------------------------=*\
   Use :Assigns a data value as a number
       :
       :Parameters for macro AssignDataAsNumber:
       :  Key : Key name for the data
       :  Value : Value of the data
\*=----------------------------------------------------------------------=*/
function FCD_09281_JSONEncoder1__AssignDataAsNumber(FCL_KEY, FCL_VALUE)
{
  const FC_THIS = '09281_JSONEncoder1';
  //Local variable definitions
  let FCL_OBJ = {};  // 

  if (FCV_09281_JSONEncoder1__INITIALISED == 0)
  {
    FCD_09281_JSONEncoder1__ClearAll();

  // } else {
  }

  FCV_JSON_DATA[FCL_KEY] = FCL_VALUE;

}

/*=----------------------------------------------------------------------=*\
   Use :Clears all the names and data values out of the buffer
\*=----------------------------------------------------------------------=*/
function FCD_09281_JSONEncoder1__ClearAll()
{
  const FC_THIS = '09281_JSONEncoder1';
  FCV_JSON_DATA = JSON.parse("{ }");


  // Initialised = 1
  FCV_09281_JSONEncoder1__INITIALISED = 1;

}


/*=----------------------------------------------------------------------=*\
   Use :TextBlock1
       :GUID: 3bd55a33-d9ed-44a0-80d9-76a8d954a335
       :Location: D:\Dev\Flowcode V10\Components\temprelease\WebTextBlock.fcpx
       :Version: 1.0 (0x11e)*
       :Timestamp: 0
       :Variable declarations
       :Macro implementations
\*=----------------------------------------------------------------------=*/
/*=----------------------------------------------------------------------=*\
   Use :Returns a JavaScript reference for a Flowcode component
       :
       :Parameters for macro SetText:
       :  text : MX_CHAR
\*=----------------------------------------------------------------------=*/
function FCD_052d1_TextBlock1__SetText(FCL_TEXT)
{
  const FC_THIS = '052d1_TextBlock1';
  document.getElementById(FC_THIS).innerHTML = FCL_TEXT;

}


/*=----------------------------------------------------------------------=*\
   Use :User Project
       :Variable declarations
       :Macro implementations
\*=----------------------------------------------------------------------=*/
let FCV_FALSE = false;  // 
let FCV_TRUE = true;  // 
let FCV_OUTPUT_STR = "";  // 
let FCV_DATACOUNT = 0;  // 
let FCV_DATAINDEX = 0;  // 
let FCV_TEMPERATURE = 0.0;  // 
let FCV_JS_STR = "";  // 
let FCV_HUMIDITY = 0.0;  // 

/*=----------------------------------------------------------------------=*\
   Use :Called when the timer event is triggered
\*=----------------------------------------------------------------------=*/
function FCM_Timer_ReadSliders()
{
  const FC_THIS = '00000_panel';
  // Name: Read slider and store into variable, Type: Component Macro: temperature=TempSlider::GetValue()
  FCV_TEMPERATURE = FCD_03a71_TempSlider__GetValue();

  // Name: Read slider and store into variable, Type: Component Macro: humidity=HumSlider::GetValue()
  FCV_HUMIDITY = FCD_03a72_HumSlider__GetValue();

  // Name: Update key:value pair to hold temperature, Type: Component Macro: JSONEncoder1::AssignDataAsFloat("temperature", temperature)
  FCD_09281_JSONEncoder1__AssignDataAsFloat("temperature", FCV_TEMPERATURE);

  // Name: Update key:value pair to hold humidity, Type: Component Macro: JSONEncoder1::AssignDataAsFloat("humidity", humidity)
  FCD_09281_JSONEncoder1__AssignDataAsFloat("humidity", FCV_HUMIDITY);

  // Name: Generate JSON encoded string, Type: Component Macro: Output_Str=JSONEncoder1::GenerateJSON()
  FCV_OUTPUT_STR = FCD_09281_JSONEncoder1__GenerateJSON();

  // Name: Output JSON string to text field, Type: Component Macro: TextBlock1::SetText(Output_Str)
  FCD_052d1_TextBlock1__SetText(FCV_OUTPUT_STR);

}


</script>

<!---------------------------------------------------------------------------
   Use :Main
---------------------------------------------------------------------------->
<!-- WEBEXP: customise the <main> function here-->
<script>
async function MyMainFunction()
{
	//WEBEXP: init code within <main> can be customised here.


  // Name: Clear Local JSON data, Type: Component Macro: JSONEncoder1::ClearAll()
  FCD_09281_JSONEncoder1__ClearAll();

  // Name: Create a key:value pair to hold temperature, Type: Component Macro: JSONEncoder1::AssignDataAsFloat("temperature", 0.0)
  FCD_09281_JSONEncoder1__AssignDataAsFloat("temperature", 0.0);

  // Name: Create a key:value pair to hold humidity, Type: Component Macro: JSONEncoder1::AssignDataAsFloat("humidity", 0.0)
  FCD_09281_JSONEncoder1__AssignDataAsFloat("humidity", 0.0);

  //Comment:
  //JSON initialised - now pass over to the timer to call the Timer macro.

  // Name: Fire timer macro every 100ms, Type: Component Macro: Timer1::Start(100)
  FCD_0b5e1_Timer1__Start(100);

}
</script>



<!---------------------------------------------------------------------------
   Use :Interrupt
---------------------------------------------------------------------------->

<!-- WEBEXP: put any code at the bottom of the file here-->
<script>
  function StartupCheck(obj)
  {
    let i = MxDelayedObjects.indexOf(obj);
    MxDelayedObjects.splice(i,1);
    if (MxDelayedObjects.length == 0)
    {
      MyMainFunction();
    }
  }

  //Check delay-start objects and start immediately if there are none
  if (MxDelayedObjects.length == 0)
  {
    MyMainFunction();
  }
</script>







</body>
</html>
