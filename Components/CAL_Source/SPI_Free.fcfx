<root>
<document scada='0' schema='102' license='1,Bubthenib,W7G473' title='' description='' fcversion='0' target='PIC32.32MZ.32MZ2048EFG100' >
	<config data='!0,0!20,0!40,0!60,0!80,0!a0,0!c0,0!e0,0!100,0!120,0!140,0!160,0!180,0!1a0,0!1c0,0!1e0,0!200,0!220,0!240,0!260,0!280,0!2a0,0!2c0,0!2e0,0!300,0!320,0!340,3!360,0!380,0!3a0,0!3c0,0!3e0,0!400,0!420,0!440,0!460,0!480,0!4a0,0!4c0,0!4e0,0!500,1%0,0%20,0%40,0%60,0%80,0%a0,0%c0,0%e0,0%100,0%120,0%140,0%160,0%180,0%1a0,0%1c0,0%1e0,0%200,0%220,0%240,0%260,0%280,0%2a0,0%2c0,0%2e0,0%300,0%320,0%340,3%360,0%380,0%3a0,0%3c0,0%3e0,0%400,0%420,0%440,0%460,0%480,0%4a0,0%4c0,0%4e0,0%500,1' clkspd='200000000' simspd='1' usewdt='0' constif='0' Use3V3='0' />
	<plugins >
		<dll_models enabled='1' />
	</plugins>
	<supplement use='0' head='' body='' />
	<debug />
	<traces />
	<ghost >
		<FK2 >
			<data name='FK2D0' port='4294967295' pin='4294967295' />
			<data name='FK2D1' port='4294967295' pin='4294967295' />
			<data name='FK2D2' port='4294967295' pin='4294967295' />
			<data name='FK2D3' port='4294967295' pin='4294967295' />
			<data name='FK2D4' port='4294967295' pin='4294967295' />
			<data name='FK2D5' port='4294967295' pin='4294967295' />
			<data name='FK2D6' port='4294967295' pin='4294967295' />
			<data name='FK2D7' port='4294967295' pin='4294967295' />
			<data name='FK2D8' port='4294967295' pin='4294967295' />
			<data name='FK2D9' port='4294967295' pin='4294967295' />
			<data name='FK2D10' port='4294967295' pin='4294967295' />
			<data name='FK2D11' port='4294967295' pin='4294967295' />
			<data name='FK2D12' port='4294967295' pin='4294967295' />
			<data name='FK2D13' port='4294967295' pin='4294967295' />
			<data name='FK2D14' port='4294967295' pin='4294967295' />
			<data name='FK2D15' port='4294967295' pin='4294967295' />
			<data name='FK2A0' port='4294967295' pin='4294967295' />
			<data name='FK2A1' port='4294967295' pin='4294967295' />
			<data name='FK2A2' port='4294967295' pin='4294967295' />
			<data name='FK2A3' port='4294967295' pin='4294967295' />
			<data name='FK2A4' port='4294967295' pin='4294967295' />
			<data name='FK2A5' port='4294967295' pin='4294967295' />
		</FK2>
		<ICD >
			<data name='AnalogPrescaleValue' value='19' />
			<data name='DigitalSampleRate' value='100000' />
			<data name='BreakpointCount' value='8' />
			<data name='CallStackDepthCount' value='8' />
			<data name='ClockPort' value='1' />
			<data name='ClockPin' value='1' />
			<data name='DataPort' value='1' />
			<data name='DataPin' value='0' />
			<data name='UseDefaultPins' value='1' />
			<data name='WrapEnabled' value='1' />
			<data name='CommsDelayOverridden' value='0' />
			<data name='CommsDelay' value='1' />
			<data name='CalculatedCommsDelay' value='1' />
			<data name='AnalogEB2PrescaleValue' value='2' />
			<data name='DigitalEB2SampleRate' value='100000' />
		</ICD>
		<pins >
			<digital A='0' B='0' C='0' D='0' E='0' F='0' G='0' H='0' I='0' J='0' K='0' L='0' M='0' N='0' O='0' P='0' Q='0' R='0' S='0' T='0' U='0' V='0' W='0' X='0' Y='0' Z='0' />
			<analog A='0' B='0' C='0' D='0' E='0' F='0' G='0' H='0' I='0' J='0' K='0' L='0' M='0' N='0' O='0' P='0' Q='0' R='0' S='0' T='0' U='0' V='0' W='0' X='0' Y='0' Z='0' />
		</pins>
	</ghost>
	<components >
		<settings autoimg='0' center='1' unitscale='1' fixedscale='0' fixedx='16' fixedy='16' fixedz='16' headcode='0' />
		<definition guid='52a9d654-3e8b-435a-8c60-481069f9a64f' vstate='40' vmin='2' vmaj='1' srcleaf='SPI.fcfx' visiblename='SPI Free' description='A low level implementation giving direct access to the CAL
' category='Peripheral CAL' category2='' category3='' catenable='1' author='Matrix Ltd' manuname='' manucode='' sysinfo='15733527' keywords='' dynamic='0' scadaCompatible='0' embeddedCompatible='1' iconpath='..\icons\components\Chip.png' />
		<component class_type='root' codename='cal_spi_free' x='0' y='0' z='0' xsz='16' ysz='16' zsz='16' xang='0' yang='0' zang='0' xquat='0' yquat='0' zquat='0' wquat='1' visible='1' scadavisible='1' interactive='1' solid='1' layer='0' poslock='0' comp2dType='0' macronames='$(type)_$(module)__$(macro)' >
			<resources />
			<properties >
				<property name='Component Enable' target='ENABLED' typeid='7' hidden='0' locked='0' info='' />
				<property name='REF' target='REF' typeid='14' hidden='1' locked='0' info='' />
				<property name='Channel' target='CHANNEL' typeid='16' hidden='0' locked='0' info='SPI Channel selector' filter='000Software
001Channel 1
002Channel 2
003Channel 3
004Channel 4
005Channel 5
006Channel 6
' expansion='MX_SPI_$(variable:u)_$(instance)' initialiser='($(value))' />
				<property name='MOSI' target='MOSI' typeid='5' hidden='0' locked='1' info='' />
				<property name='MOSI Remap Pin' target='MOSIPins' typeid='16' hidden='0' locked='0' info='' filter='000$PORTE.5
001$PORTC.1
002$PORTC.4
003$PORTG.7
004$PORTG.8
005$PORTB.5
006$PORTB.3
007$PORTB.1
008$PORTB.9
009$PORTB.10
010$PORTD.14
011$PORTD.15
012$PORTF.4
013$PORTF.5
014$PORTA.14
015$PORTA.15
016$PORTD.10
017$PORTD.11
018$PORTC.13
019$PORTC.14
020$PORTD.2
021$PORTD.3
022$PORTF.0
023$PORTF.1
024$PORTG.1
025$PORTG.0' />
				<property name='MISO' target='MISO' typeid='5' hidden='0' locked='1' info='' />
				<property name='MISO Remap Pin' target='MISOPins' typeid='16' hidden='0' locked='0' info='' filter='010$PORTC.1
001$PORTG.8
008$PORTB.5
005$PORTB.9
006$PORTB.10
011$PORTD.14
002$PORTF.4
013$PORTA.14
003$PORTD.10
007$PORTC.14
000$PORTD.2
004$PORTF.1
012$PORTG.1' />
				<property name='CLK' target='CLK' typeid='5' hidden='0' locked='1' info='' />
				<property name='CLK Remap Pin' target='CLKPins' typeid='16' hidden='1' locked='0' info='' />
				<property name='SS' target='SS' typeid='5' hidden='1' locked='1' info='' />
				<property name='Prescale' target='PR_SCALE' typeid='16' hidden='0' locked='0' info='Prescale option selector' filter='000Fosc/2
001Fosc/4
002Fosc/6
003Fosc/8
004Fosc/10
005Fosc/12
006Fosc/14
007Fosc/16
008Fosc/18
009Fosc/20
010Fosc/22
011Fosc/24
012Fosc/26
013Fosc/28
014Fosc/30
015Fosc/32
023Fosc/48
031Fosc/64
047Fosc/96
062Fosc/128
096Fosc/192
127Fosc/256
159Fosc/320
255Fosc/512
' expansion='MX_SPI_$(variable:u)_$(instance)' initialiser='($(value))' />
				<property name='Bus Mode' target='BMODE' typeid='14' hidden='1' locked='0' info='' expansion='MX_SPI_$(variable:u)_$(instance)' initialiser='($(value))' />
				<property name='Clock Polarity' target='CKP' typeid='16' hidden='0' locked='0' info='Clock Polarity setting, inactive (idle) state' filter='000Idle Low
001Idle High' />
				<property name='Clock Phase' target='CKE' typeid='16' hidden='0' locked='0' info='Clock Phase (data change edge) selection' filter='000Leading Edge
001Trailing Edge' />
				<property name='Sample Point' target='SMP' typeid='16' hidden='0' locked='0' info='Data bit read sample point' filter='000Middle
001End' />
				<property name='MOSI_PORT' target='MOSI_PORT' typeid='10' hidden='1' locked='0' info='' expansion='MX_SPI_$(variable:u)_$(instance)' initialiser='port$(value:6-,1,l)' />
				<property name='MOSI_TRIS' target='MOSI_TRIS' typeid='10' hidden='1' locked='0' info='' expansion='MX_SPI_$(variable:u)_$(instance)' initialiser='tris$(value:6-,1,l)' />
				<property name='MOSI_PIN' target='MOSI_PIN' typeid='14' hidden='1' locked='0' info='' expansion='MX_SPI_$(variable:u)_$(instance)' initialiser='($(value))' />
				<property name='MISO_PORT' target='MISO_PORT' typeid='10' hidden='1' locked='0' info='' expansion='MX_SPI_$(variable:u)_$(instance)' initialiser='port$(value:6-,1,l)' />
				<property name='MISO_TRIS' target='MISO_TRIS' typeid='10' hidden='1' locked='0' info='' expansion='MX_SPI_$(variable:u)_$(instance)' initialiser='tris$(value:6-,1,l)' />
				<property name='MISO_PIN' target='MISO_PIN' typeid='14' hidden='1' locked='0' info='' expansion='MX_SPI_$(variable:u)_$(instance)' initialiser='($(value))' />
				<property name='SCK_PORT' target='SCK_PORT' typeid='10' hidden='1' locked='0' info='' expansion='MX_SPI_$(variable:u)_$(instance)' initialiser='port$(value:6-,1,l)' />
				<property name='SCK_TRIS' target='SCK_TRIS' typeid='10' hidden='1' locked='0' info='' expansion='MX_SPI_$(variable:u)_$(instance)' initialiser='tris$(value:6-,1,l)' />
				<property name='SCK_PIN' target='SCK_PIN' typeid='14' hidden='1' locked='0' info='' expansion='MX_SPI_$(variable:u)_$(instance)' initialiser='($(value))' />
				<property name='SS_PORT' target='SS_PORT' typeid='10' hidden='1' locked='0' info='' expansion='MX_SPI_$(variable:u)_$(instance)' initialiser='port$(value:6-,1,l)' />
				<property name='SS_TRIS' target='SS_TRIS' typeid='10' hidden='1' locked='0' info='' expansion='MX_SPI_$(variable:u)_$(instance)' initialiser='tris$(value:6-,1,l)' />
				<property name='SS_PIN' target='SS_PIN' typeid='14' hidden='1' locked='0' info='' expansion='MX_SPI_$(variable:u)_$(instance)' initialiser='($(value))' />
				<property name='REMAPPABLE' target='Remappable' typeid='14' hidden='1' locked='1' info='' />
				<property name='MOSI Reg' target='MOSIReg' typeid='16' hidden='1' locked='0' info='' filter='000RPE5R
001RPC1R
002RPC4R
003RPG7R
004RPG8R
005RPB5R
006RPB3R
007RPB1R
008RPB9R
009RPB10R
010RPD14R
011RPD15R
012RPF4R
013RPF5R
014RPA14R
015RPA15R
016RPD10R
017RPD11R
018RPC13R
019RPC14R
020RPD2R
021RPD3R
022RPF0R
023RPF1R
024RPG1R
025RPG0R
026RPOR12bits.RP25R
027RPOR10bits.RP20R' />
				<property name='CLK Reg' target='CLKREG' typeid='16' hidden='1' locked='0' info='' filter='000RPOR10bits.RP21R
001RPOR13bits.RP26R
002RPOR9bits.RP19R
003RPOR13bits.RP27R
004RPOR9bits.RP18R
005RPOR14bits.RP28R
006RPOR6bits.RP13R
007RPOR0bits.RP1R
008RPOR0bits.RP0R
009RPOR3bits.RP6R
010RPOR3bits.RP7R
011RPOR4bits.RP8R
012RPOR4bits.RP9R
013RPOR7bits.RP14R
014RPOR14bits.RP29R
015RPOR5bits.RP10R
016RPOR8bits.RP17R
017RPOR8bits.RP16R
018RPOR1bits.RP2R
019RPOR2bits.RP4R
020RPOR1bits.RP3R
021RPOR6bits.RP12R
022RPOR5bits.RP11R
023RPOR12bits.RP24R
024RPOR11bits.RP23R
025RPOR11bits.RP22R
026RPOR12bits.RP25R
027RPOR10bits.RP20R' />
				<property name='MOSI RP Num' target='MOSIRPNUM' typeid='21' hidden='1' locked='0' info='' />
				<property name='MOSI Bank' target='MOSIBank' typeid='10' hidden='1' locked='0' info='' />
				<property name='MOSI Bank2' target='MOSIBank2' typeid='10' hidden='1' locked='0' info='' />
				<property name='CLK RP Num' target='CLKRPNUM' typeid='21' hidden='1' locked='0' info='' />
				<property name='CLK Bank' target='CLKBank' typeid='10' hidden='1' locked='0' info='' />
				<property name='MISO RP Reg' target='MISORPREG' typeid='10' hidden='1' locked='0' info='' />
				<property name='MISO Bank' target='MISOBank' typeid='10' hidden='1' locked='0' info='' />
				<property name='CS_PORT' target='CS_PORT' typeid='10' hidden='1' locked='0' info='' />
				<property name='Simulation' folder='property_1' hidden='0' >
					<property name='Scope Traces' target='ScopeTraces' typeid='7' hidden='0' locked='0' info='Selects if the scope traces are automatically generated or not' />
					<property name='Console Data' target='ConsoleData' typeid='7' hidden='0' locked='0' info='Selects if the console data is automatically generated or not' />
				</property>
				<property name='SPI Name' target='SPIName' typeid='10' hidden='1' locked='0' info='' />
				<property name='MISO Reg' target='MISOReg' typeid='16' hidden='1' locked='0' info='' />
				<property name='SPI Clock' target='SPIClock' typeid='10' hidden='1' locked='0' info='' />
			</properties>
			<values >
				<value target='ENABLED' data='1' />
				<value target='REF' data='1' />
				<value target='CHANNEL' data='001' />
				<value target='MOSI' data='$PORTB.9' />
				<value target='MOSIPins' data='008' />
				<value target='MISO' data='$PORTA.14' />
				<value target='MISOPins' data='013' />
				<value target='CLK' data='$PORTD.1' />
				<value target='CLKPins' data='004' />
				<value target='SS' data='' />
				<value target='PR_SCALE' data='004' />
				<value target='BMODE' data='2' />
				<value target='CKP' data='000' />
				<value target='CKE' data='001' />
				<value target='SMP' data='000' />
				<value target='MOSI_PORT' data='$PORTB.9' />
				<value target='MOSI_TRIS' data='$PORTB.9' />
				<value target='MOSI_PIN' data='9' />
				<value target='MISO_PORT' data='$PORTA.14' />
				<value target='MISO_TRIS' data='$PORTA.14' />
				<value target='MISO_PIN' data='14' />
				<value target='SCK_PORT' data='$PORTD.1' />
				<value target='SCK_TRIS' data='$PORTD.1' />
				<value target='SCK_PIN' data='1' />
				<value target='SS_PORT' data='' />
				<value target='SS_TRIS' data='' />
				<value target='SS_PIN' data='0' />
				<value target='Remappable' data='2' />
				<value target='MOSIReg' data='008' />
				<value target='CLKREG' data='004' />
				<value target='MOSIRPNUM' data='5' />
				<value target='MOSIBank' data='a' />
				<value target='MOSIBank2' data='b' />
				<value target='CLKRPNUM' data='8' />
				<value target='CLKBank' data='' />
				<value target='MISORPREG' data='SDI1R' />
				<value target='MISOBank' data='a' />
				<value target='CS_PORT' data='' />
				<value target='ScopeTraces' data='0' />
				<value target='ConsoleData' data='0' />
				<value target='SPIName' data='' />
				<value target='MISOReg' data='000' />
				<value target='SPIClock' data='' />
			</values>
			<events >
				<event class='DataRecorder' event='Decode' target='Ev_DecodeSync' />
				<event class='Components' event='Property' target='Ev_Property_Change' />
				<event class='Compile' event='AddHeader' target='Ev_AddHeader' />
				<event class='Connection' event='FCDChange' target='Ev_ChipChange' />
				<event class='DataRecorder' event='FmtPacket' target='Ev_FmtPacket' />
				<event class='Components' event='Initialise' target='Ev_Initialise' />
				<event class='Connection' event='ChipChange' target='Ev_ChipChange' />
			</events>
			<apis >
				<api name='Slave_Uninit' alt='FC_CAL_SPI_$(macro)_$(instance)' type='5' proto='1' />
				<api name='ChangeMode' alt='' type='2' proto='1' />
				<api name='GetValue' alt='' type='2' proto='1' />
				<api name='Slave_Init' alt='FC_CAL_SPI_$(macro)_$(instance)' type='5' proto='1' />
				<api name='Master_Uninit' alt='FC_CAL_SPI_$(macro)_$(instance)' type='5' proto='1' />
				<api name='Master_Byte' alt='FC_CAL_SPI_$(macro)_$(instance)' type='5' proto='1' />
				<api name='GetConsoleHandle' alt='' type='2' proto='1' />
				<api name='Slave_TxByte' alt='FC_CAL_SPI_$(macro)_$(instance)' type='5' proto='1' />
				<api name='Slave_RxByte' alt='FC_CAL_SPI_$(macro)_$(instance)' type='5' proto='1' />
				<api name='SetValue' alt='' type='2' proto='1' />
				<api name='SetPrescaler' alt='FC_CAL_SPI_$(macro)_$(instance)' type='5' proto='1' />
				<api name='Master_Init' alt='FC_CAL_SPI_$(macro)_$(instance)' type='5' proto='1' />
				<api name='GetList' alt='' type='2' proto='1' />
			</apis>
			<variables >
				<variable public='0' >
					<def class_type='variable' name='b' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
				</variable>
				<variable public='0' >
					<def class_type='variable' name='false' type='b1' description='' isconst='1' isHidden='0' isinit='1' usrinit='0' setinit='0' />
				</variable>
				<variable public='0' >
					<def class_type='variable' name='StrmId_MISO' type='s16' description='The ScopeStream[] of the data' isconst='1' isHidden='0' isinit='1' usrinit='0' setinit='0' />
				</variable>
				<variable public='0' >
					<def class_type='variable' name='StrmId_MOSI' type='s16' description='A ScopeStream[] for the data' isconst='1' isHidden='0' isinit='1' usrinit='1' setinit='1' />
				</variable>
				<variable public='0' >
					<def class_type='variable' name='x' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
				</variable>
				<variable public='0' >
					<def class_type='variable' name='ScopeStream' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' >
						<array size='4' />
					</def>
				</variable>
				<variable public='0' >
					<def class_type='variable' name='console' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
				</variable>
				<variable public='0' >
					<def class_type='variable' name='ScopeGroup' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
				</variable>
				<variable public='0' >
					<def class_type='variable' name='StrmId_Clk' type='s16' description='The ScopeStream[] of the clock' isconst='1' isHidden='0' isinit='1' usrinit='3' setinit='3' />
				</variable>
				<variable public='0' >
					<def class_type='variable' name='true' type='b1' description='' isconst='1' isHidden='0' isinit='1' usrinit='1' setinit='1' />
				</variable>
			</variables>
			<macros >
				<macro >
					<flowline name='LoadPrescalers' description='Match SPI Prescaler options to CAL settings' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<local name='DeviceFamily' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='PrescaleStr' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='FCD.GetItemValue' >
							<return exp='.DeviceFamily' />
							<argument exp='&quot;device&quot;' />
							<argument exp='&quot;product&quot;' />
							<argument exp='&quot;&quot;' />
						</command>
						<command class_type='decision' title='Decision' cmdcolor='16734039' cmdcolor_sec='16734039' exp='(Compare$ (&quot;PIC&quot;, .DeviceFamily,1) == 0)' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
									<exp exp='.PrescaleStr = &quot;004Fosc/4\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;016Fosc/16\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;064Fosc/64&quot;' />
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.SetFilter' >
									<argument exp='this' />
									<argument exp='&quot;PR_SCALE&quot;' />
									<argument exp='.PrescaleStr' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='decision' title='Decision' cmdcolor='16734039' cmdcolor_sec='16734039' exp='(Compare$ (&quot;PIC16&quot;, .DeviceFamily,1) == 0)' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
									<exp exp='.PrescaleStr = &quot;002Fosc/2\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;004Fosc/4\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;006Fosc/6\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;008Fosc/8\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;012Fosc/12\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;016Fosc/16\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;020Fosc/20\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;024Fosc/24\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;028Fosc/28\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;032Fosc/32\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;048Fosc/48\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;064Fosc/64\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;128Fosc/128\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;192Fosc/192\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;256Fosc/256\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;512Fosc/512&quot;' />
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.SetFilter' >
									<argument exp='this' />
									<argument exp='&quot;PR_SCALE&quot;' />
									<argument exp='.PrescaleStr' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='decision' title='Decision' cmdcolor='16734039' cmdcolor_sec='16734039' exp='(Compare$ (&quot;PIC32&quot;, .DeviceFamily,1) == 0)' swap='0' >
							<flowline >
								<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='FCD.GetItemValue' >
									<return exp='.DeviceFamily' />
									<argument exp='&quot;device&quot;' />
									<argument exp='&quot;family&quot;' />
									<argument exp='&quot;&quot;' />
								</command>
								<command class_type='decision' title='Decision' cmdcolor='16734039' cmdcolor_sec='16734039' exp='(Compare$ (&quot;MX&quot;, .DeviceFamily,1) == 0)' swap='0' >
									<flowline />
									<flowline />
								</command>
								<command class_type='decision' title='Decision' cmdcolor='16734039' cmdcolor_sec='16734039' exp='(Compare$ (&quot;MZ&quot;, .DeviceFamily,1) == 0)' swap='0' >
									<flowline />
									<flowline />
								</command>
								<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
									<exp exp='.PrescaleStr = &quot;000Fosc/2\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;001Fosc/4\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;002Fosc/6\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;003Fosc/8\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;004Fosc/10\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;005Fosc/12\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;006Fosc/14\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;007Fosc/16\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;008Fosc/18\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;009Fosc/20\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;010Fosc/22\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;011Fosc/24\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;012Fosc/26\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;013Fosc/28\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;014Fosc/30\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;015Fosc/32\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;023Fosc/48\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;031Fosc/64\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;047Fosc/96\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;062Fosc/128\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;096Fosc/192\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;127Fosc/256\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;159Fosc/320\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;255Fosc/512\n&quot;' />
									<exp exp='' />
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.SetFilter' >
									<argument exp='this' />
									<argument exp='&quot;PR_SCALE&quot;' />
									<argument exp='.PrescaleStr' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='decision' title='Decision' cmdcolor='16734039' cmdcolor_sec='16734039' exp='Compare$ (&quot;AVR&quot;, .DeviceFamily,1) == 0' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
									<exp exp='.PrescaleStr = &quot;002Fosc/2\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;004Fosc/4\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;008Fosc/8\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;016Fosc/16\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;032Fosc/32\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;064Fosc/64\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;128Fosc/128&quot;' />
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.SetFilter' >
									<argument exp='this' />
									<argument exp='&quot;PR_SCALE&quot;' />
									<argument exp='.PrescaleStr' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='decision' title='Decision' cmdcolor='16734039' cmdcolor_sec='16734039' exp='Compare$ (&quot;ARM&quot;, .DeviceFamily,1) == 0' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;002Fosc/2\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;004Fosc/4\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;008Fosc/8\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;016Fosc/16\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;032Fosc/32\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;064Fosc/64\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;128Fosc/128\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;256Fosc/256&quot;' />
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.SetFilter' >
									<argument exp='this' />
									<argument exp='&quot;PR_SCALE&quot;' />
									<argument exp='.PrescaleStr' />
								</command>
							</flowline>
							<flowline />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Slave_Uninit' description='Uninitialise the Slave' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<command class_type='call' title='Call Macro' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Prv_TextConsole' >
							<argument exp='&quot;\nSlave_Uninit()&quot;' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Prv_TextConsole' description='Send text to the SPI console' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<param name='str' type='T8*' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</param>
						<command class_type='sim' title='Call Macro' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Console.WriteText' >
							<argument exp='console' />
							<argument exp='.str' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Ev_Initialise' description='Initialisation routine for the component once the component is linked to its parent' statediag='0' >
						<return name='Return' type='u32' description='Non-zero to prevent initialisation' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='call' title='Call Macro' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Prv_SetupConsole' />
						<command class_type='call' title='Call Macro' cmdcolor='16711808' cmdcolor_sec='16711808' macro='LoadPrescalers' />
						<command class_type='call' title='Call Macro' cmdcolor='16711808' cmdcolor_sec='16711808' macro='LoadChannelList' />
						<command class_type='call' title='Call Macro' cmdcolor='16711808' cmdcolor_sec='16711808' macro='LoadChannelPorts' />
						<command class_type='decision' title='Decision' cmdcolor='16734039' cmdcolor_sec='16734039' exp='ScopeTraces' swap='0' >
							<flowline >
								<command class_type='call' title='Call Macro' cmdcolor='16711808' cmdcolor_sec='16711808' macro='SimSetupScope' />
							</flowline>
							<flowline >
								<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
									<exp exp='ScopeGroup = 0' />
									<exp exp='ScopeStream[0] = 0' />
									<exp exp='ScopeStream[1] = 0' />
									<exp exp='ScopeStream[2] = 0' />
									<exp exp='ScopeStream[3] = 0' />
								</command>
							</flowline>
						</command>
						<command class_type='decision' title='Decision' cmdcolor='16734039' cmdcolor_sec='16734039' exp='ConsoleData' swap='0' >
							<flowline >
								<command class_type='call' title='Call Macro' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Prv_SetupConsole' />
							</flowline>
							<flowline >
								<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
									<exp exp='console = 0' />
								</command>
							</flowline>
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='GetValue' description='Reads Named property Value. 
' statediag='0' >
						<return name='Return' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;\x00&quot;' setinit='' />
						<param name='Name' type='T8*' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</param>
						<command class_type='decision' title='Decision' cmdcolor='16734039' cmdcolor_sec='16734039' exp='(Compare$ (.Name,&quot;ENABLED&quot;,1) = 0) OR (Compare$ (.Name,&quot;CHANNEL&quot;,1) = 0) OR (Compare$ (.Name,&quot;MOSI&quot;,1) = 0) OR (Compare$ (.Name,&quot;MISO&quot;,1) = 0) OR (Compare$ (.Name,&quot;CLK&quot;,1) = 0) OR (Compare$ (.Name,&quot;SS&quot;,1) = 0) OR (Compare$ (.Name,&quot;PR_SCALE&quot;,1) = 0) OR (Compare$ (.Name,&quot;CKP&quot;,1) = 0) OR (Compare$ (.Name,&quot;CKE&quot;,1) = 0) OR (Compare$ (.Name,&quot;SMP&quot;,1) = 0) OR (Compare$ (.Name,&quot;Remappable&quot;,1) = 0)' swap='0' >
							<flowline >
								<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.GetValue' >
									<return exp='.Return' />
									<argument exp='this' />
									<argument exp='.Name' />
								</command>
							</flowline>
							<flowline >
								<command class_type='sim' title='Call Macro' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Debug.PrintLn' >
									<argument exp='&quot;GetValue(&quot; + .Name + &quot;) not valid. Use CHANNEL, MOSI, MISO, CLK, SS, PR_SCALE, CKP, CKE or SMP&quot;' />
								</command>
							</flowline>
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Ev_Property_Change' description='Sent when a property has been changed by the User' statediag='0' >
						<return name='Return' type='u32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='call' title='Call Macro' cmdcolor='16711808' cmdcolor_sec='16711808' macro='LoadChannelPorts' />
						<command class_type='calculation' title='Setup the PORT and PIN info' cmdcolor='49280' cmdcolor_sec='49280' >
							<exp exp='::Component .Property .SetValue (this,&quot;MOSI_PORT&quot;, ::Component .Property .GetValue (this,&quot;MOSI&quot;))' />
							<exp exp='::Component .Property .SetValue (this,&quot;MOSI_TRIS&quot;, ::Component .Property .GetValue (this,&quot;MOSI&quot;))' />
							<exp exp='::Component .Property .SetValue (this,&quot;MOSI_PIN&quot;,ParsePin (::Component .Property .GetValue (this,&quot;MOSI&quot;)))' />
							<exp exp='' />
							<exp exp='::Component .Property .SetValue (this,&quot;MISO_PORT&quot;, ::Component .Property .GetValue (this,&quot;MISO&quot;))' />
							<exp exp='::Component .Property .SetValue (this,&quot;MISO_TRIS&quot;, ::Component .Property .GetValue (this,&quot;MISO&quot;))' />
							<exp exp='::Component .Property .SetValue (this,&quot;MISO_PIN&quot;,ParsePin (::Component .Property .GetValue (this,&quot;MISO&quot;)))' />
							<exp exp='' />
							<exp exp='::Component .Property .SetValue (this,&quot;SCK_PORT&quot;, ::Component .Property .GetValue (this,&quot;CLK&quot;))' />
							<exp exp='::Component .Property .SetValue (this,&quot;SCK_TRIS&quot;, ::Component .Property .GetValue (this,&quot;CLK&quot;))' />
							<exp exp='::Component .Property .SetValue (this,&quot;SCK_PIN&quot;,ParsePin (::Component .Property .GetValue (this,&quot;CLK&quot;)))' />
							<exp exp='' />
							<exp exp='::Component .Property .SetValue (this,&quot;SS_PORT&quot;, ::Component .Property .GetValue (this,&quot;SS&quot;))' />
							<exp exp='::Component .Property .SetValue (this,&quot;SS_TRIS&quot;, ::Component .Property .GetValue (this,&quot;SS&quot;))' />
							<exp exp='::Component .Property .SetValue (this,&quot;SS_PIN&quot;,ParsePin (::Component .Property .GetValue (this,&quot;SS&quot;)))' />
						</command>
						<command class_type='calculation' title='Set the BMODE flags' cmdcolor='49280' cmdcolor_sec='49280' >
							<exp exp='::Component .Property .SetValue (this,&quot;BMODE&quot;, (SMP &lt;&lt; 2) + (CKE &lt;&lt; 1) + CKP)' />
						</command>
						<command class_type='decision' title='Decision' cmdcolor='16734039' cmdcolor_sec='16734039' exp='ScopeTraces' swap='0' >
							<flowline >
								<command class_type='call' title='Call Macro' cmdcolor='16711808' cmdcolor_sec='16711808' macro='SimSetupScope' />
							</flowline>
							<flowline >
								<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
									<exp exp='ScopeGroup = 0' />
									<exp exp='ScopeStream[0] = 0' />
									<exp exp='ScopeStream[1] = 0' />
									<exp exp='ScopeStream[2] = 0' />
									<exp exp='ScopeStream[3] = 0' />
								</command>
							</flowline>
						</command>
						<command class_type='decision' title='Decision' cmdcolor='16734039' cmdcolor_sec='16734039' exp='ConsoleData' swap='0' >
							<flowline >
								<command class_type='call' title='Call Macro' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Prv_SetupConsole' />
							</flowline>
							<flowline >
								<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
									<exp exp='console = 0' />
								</command>
							</flowline>
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='LoadPortString' description='load port string into property from the given name and fcd handle' statediag='0' >
						<return name='Return' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='fcd_h' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='Name' type='T8*' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</param>
						<local name='port_h' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='port' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='pin' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
							<exp exp='.Return = 0' />
						</command>
						<command class_type='sim' title='Get the child' cmdcolor='16711808' cmdcolor_sec='16711808' macro='FCD.GetPathHandle' >
							<return exp='.port_h' />
							<argument exp='.Name' />
							<argument exp='.fcd_h' />
						</command>
						<command class_type='decision' title='If valid' cmdcolor='16734039' cmdcolor_sec='16734039' exp='.port_h != 0' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
									<exp exp='.Return = 1' />
								</command>
								<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
									<exp exp='.port = ::Tree .GetSubValue (.port_h,&quot;port&quot;)' />
									<exp exp='.pin = ::Tree .GetSubValue (.port_h,&quot;pin&quot;)' />
									<exp exp='::Component .Property .SetValue (this, .Name,ConvertPort (.port, .pin))' />
								</command>
							</flowline>
							<flowline />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Prv_SetupConsole' description='Setup a console for the component' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<local name='str' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='inst' type='u32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='sim' title='Call Macro' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.GetInstance' >
							<return exp='.inst' />
							<argument exp='this' />
						</command>
						<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
							<exp exp='.str = &quot;SPI &quot; + ToString$ (.inst)' />
						</command>
						<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Console.AddText' >
							<return exp='console' />
							<argument exp='.str' />
							<argument exp='0' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Slave_Init' description='Initialise the Slave' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<command class_type='call' title='Call Macro' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Prv_TextConsole' >
							<argument exp='&quot;\nSlave_Init()&quot;' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Ev_ChipChange' description='Sent when the target device has changed' statediag='0' >
						<return name='Return' type='u32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='Target' type='T8*' description='The name of the new target device' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</param>
						<command class_type='call' title='Call Macro' cmdcolor='16711808' cmdcolor_sec='16711808' macro='LoadPrescalers' />
						<command class_type='call' title='Call Macro' cmdcolor='16711808' cmdcolor_sec='16711808' macro='LoadChannelList' />
						<command class_type='call' title='Call Macro' cmdcolor='16711808' cmdcolor_sec='16711808' macro='LoadChannelPorts' />
					</flowline>
				</macro>
				<macro >
					<flowline name='LoadChannelList' description='Loads a list of the available channels into the Channel list property' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
							<exp exp='::Component .Property .SetFilter (this,&quot;CHANNEL&quot;,GetChannelList ())' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Master_Uninit' description='Uninitialise the Master' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<command class_type='call' title='Call Macro' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Prv_TextConsole' >
							<argument exp='&quot;\nMaster_Uninit()&quot;' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Master_Byte' description='Sends and receives a data byte' statediag='0' >
						<return name='Return' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='DataOut' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='str' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
							<exp exp='.str = &quot;\nMaster_Byte(&quot; + NumberToHex$ (.DataOut) + &quot;)&quot;' />
						</command>
						<command class_type='call' title='Call Macro' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Prv_TextConsole' >
							<argument exp='.str' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='GetChannelList' description='Retrieves the channel list from the FCD for this device' statediag='0' >
						<return name='Return' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;\x00&quot;' setinit='' />
						<local name='x' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='n' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='s' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='fcd_h' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='SPIName' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<command class_type='sim' title='Set the first item as &quot;Software&quot; channel' cmdcolor='16711808' cmdcolor_sec='16711808' component='fcdhelper' macro='GetIntListItem' >
							<return exp='.Return' />
							<argument exp='0' />
							<argument exp='&quot;Software&quot;' />
						</command>
						<command class_type='comment' title='' comment='Get the hardware channel list, if any' textarea='245,10,774,10' cmdcolor='5751039' cmdcolor_sec='5751039' />
						<command class_type='sim' title='Panel' cmdcolor='16711808' cmdcolor_sec='16711808' macro='FCD.GetPathHandle' >
							<return exp='.fcd_h' />
							<argument exp='&quot;device.spi&quot;' />
							<argument exp='0' />
						</command>
						<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
							<exp exp='.x = 0' />
						</command>
						<command class_type='loop' title='Loop' cmdcolor='16734039' cmdcolor_sec='16734039' type='0' exp='.fcd_h' >
							<flowline >
								<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Tree.GetSubValue' >
									<return exp='.SPIname' />
									<argument exp='.fcd_h' />
									<argument exp='&quot;name&quot;' />
								</command>
								<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
									<exp exp='.n = Length$ (.SPIname)' />
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Tree.GetSubValue' >
									<return exp='.s' />
									<argument exp='.fcd_h' />
									<argument exp='&quot;spacer&quot;' />
								</command>
								<command class_type='decision' title='Decision' cmdcolor='16734039' cmdcolor_sec='16734039' exp='.s[0] = &apos;1&apos;' swap='0' >
									<flowline >
										<command class_type='calculation' title='Spacer present - just increment counter' cmdcolor='49280' cmdcolor_sec='49280' >
											<exp exp='.x = .x + 1' />
										</command>
									</flowline>
									<flowline >
										<command class_type='decision' title='Decision' cmdcolor='16734039' cmdcolor_sec='16734039' exp='.n &gt; 0' swap='0' >
											<flowline >
												<command class_type='calculation' title='Create the displayed channel string' cmdcolor='49280' cmdcolor_sec='49280' >
													<exp exp='.x = .x + 1' />
													<exp exp='.s = &quot;Channel &quot; + ToString$ (.x)' />
													<exp exp='.s = .s + &quot; - &quot;' />
													<exp exp='.s = .s + .SPIName' />
												</command>
											</flowline>
											<flowline >
												<command class_type='calculation' title='Create the displayed channel string' cmdcolor='49280' cmdcolor_sec='49280' >
													<exp exp='.x = .x + 1' />
													<exp exp='.s = &quot;Channel &quot; + ToString$ (.x)' />
												</command>
											</flowline>
										</command>
										<command class_type='sim' title='Construct the list item' cmdcolor='16711808' cmdcolor_sec='16711808' component='fcdhelper' macro='GetIntListItem' >
											<return exp='.s' />
											<argument exp='.x' />
											<argument exp='.s' />
										</command>
										<command class_type='calculation' title='Add to result' cmdcolor='49280' cmdcolor_sec='49280' >
											<exp exp='.Return = .Return + .s' />
										</command>
									</flowline>
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Tree.StepNamedNext' >
									<argument exp='.fcd_h' />
									<argument exp='&quot;spi&quot;' />
								</command>
							</flowline>
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='GetConsoleHandle' description='Returns a handle to the console used by this component' statediag='0' >
						<return name='Return' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
							<exp exp='.Return = console' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Slave_TxByte' description='Sets the data to be transmitted' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<param name='Data' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='str' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
							<exp exp='.str = &quot;\nSlave_TxByte(&quot; + NumberToHex$ (.Data) + &quot;)&quot;' />
						</command>
						<command class_type='call' title='Call Macro' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Prv_TextConsole' >
							<argument exp='.str' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Ev_FmtPacket' description='Sent when a %e is read in a format string when decoding a packet' statediag='0' >
						<return name='Return' type='u32' description='Non-zero to claim the packet, zero for Flowcode to add a packet automatically' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='StreamH' type='h32' description='The scope being decoded' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='TimeOffset' type='s32' description='The time-reference of the start of the overlay packet' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='Duration' type='u32' description='The time duration the packet of the overlay packet' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='Data' type='u8' description='The data packet to be decoded' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</param>
						<param name='Bits' type='u32' description='The number of bits (not bytes) in Data[]' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='EventId' type='u32' description='A event identifier to help distinguish decodes' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='Result' type='T8*' description='The format string to return' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</param>
						<local name='summary' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
							<exp exp='.summary[0] = &apos; &apos;' />
							<exp exp='.summary[1] = &apos; &apos;' />
							<exp exp='.summary[2] = (.Data[0] &gt;= 0x20 &amp;&amp; .Data[0] &lt; 0x7F) * .Data[0] + ! (.Data[0] &gt;= 0x20 &amp;&amp; .Data[0] &lt; 0x7F) * &apos;.&apos;' />
							<exp exp='.summary[3] = &apos;\0&apos;' />
							<exp exp='.summary = .summary + &quot; - &quot; + NumberToHex$ (.Data[0]) + &quot; - &quot; + STRING (.Data[0]) + &quot;\n&quot;' />
						</command>
						<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Console.WriteText' >
							<argument exp='console' />
							<argument exp='.summary' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Slave_RxByte' description='Returns the data received' statediag='0' >
						<return name='Return' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='call' title='Call Macro' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Prv_TextConsole' >
							<argument exp='&quot;\nSlave_RxByte()&quot;' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='SetValue' description='Change Named property to new Value. 
' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<param name='Name' type='T8*' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</param>
						<param name='Value' type='T8*' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</param>
						<command class_type='decision' title='Decision' cmdcolor='16734039' cmdcolor_sec='16734039' exp='(Compare$ (.Name,&quot;ENABLED&quot;,1) = 0) OR (Compare$ (.Name,&quot;MOSI&quot;,1) = 0) OR (Compare$ (.Name,&quot;MISO&quot;,1) = 0) OR (Compare$ (.Name,&quot;CLK&quot;,1) = 0) OR (Compare$ (.Name,&quot;SS&quot;,1) = 0) OR (Compare$ (.Name,&quot;PR_SCALE&quot;,1) = 0) OR (Compare$ (.Name,&quot;CKP&quot;,1) = 0) OR (Compare$ (.Name,&quot;CKE&quot;,1) = 0) OR (Compare$ (.Name,&quot;SMP&quot;,1) = 0) OR (Compare$ (.Name,&quot;MOSIPins&quot;,1) = 0) OR (Compare$ (.Name,&quot;MISOPins&quot;,1) = 0) OR (Compare$ (.Name,&quot;CLKPins&quot;,1) = 0)' swap='0' >
							<flowline >
								<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.SetValue' >
									<argument exp='this' />
									<argument exp='.Name' />
									<argument exp='.Value' />
								</command>
								<command class_type='call' title='Call Macro' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Ev_Property_Change' />
							</flowline>
							<flowline >
								<command class_type='decision' title='Decision' cmdcolor='16734039' cmdcolor_sec='16734039' exp='Compare$ (.Name,&quot;CHANNEL&quot;,1) = 0' swap='0' >
									<flowline >
										<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.SetValue' >
											<argument exp='this' />
											<argument exp='.Name' />
											<argument exp='.Value' />
										</command>
										<command class_type='call' title='Call Macro' cmdcolor='16711808' cmdcolor_sec='16711808' macro='LoadChannelPorts' />
									</flowline>
									<flowline >
										<command class_type='sim' title='Call Macro' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Debug.PrintLn' >
											<argument exp='&quot;SetValue(&quot; + .Name + &quot;) not valid. Use CHANNEL, MOSI, MISO, CLK, SS, PR_SCALE, CKP, CKE or SMP&quot;' />
										</command>
									</flowline>
								</command>
							</flowline>
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='SetPrescaler' description='Sets the prescaler value for the clock divider chain' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<param name='Prescaler' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='str' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
							<exp exp='.str = &quot;\nSetPrescaler(&quot; + ToString$ (.Prescaler) + &quot;)&quot;' />
						</command>
						<command class_type='call' title='Call Macro' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Prv_TextConsole' >
							<argument exp='.str' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Master_Init' description='Initialise the Master' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<command class_type='call' title='Call Macro' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Prv_TextConsole' >
							<argument exp='&quot;\nMaster_Init()&quot;' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='LoadChannelPorts' description='Loads the Port value properties from the FCD for this device' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<local name='x' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='port' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='pin' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='str' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='name' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='fcd_h' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='pinhandle' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='txrx_h' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='str2' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<command class_type='comment' title='' comment='Load the PORTS from the FCD
based on Channel number ' textarea='12,0,487,300' cmdcolor='5751039' cmdcolor_sec='5751039' />
						<command class_type='decision' title='Decision' cmdcolor='16734039' cmdcolor_sec='16734039' exp='CHANNEL &gt; 0' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
									<exp exp='::Component .Property .SetWritable (this,&quot;MOSI&quot;,0)' />
									<exp exp='::Component .Property .SetWritable (this,&quot;MISO&quot;,0)' />
									<exp exp='::Component .Property .SetWritable (this,&quot;CLK&quot;,0)' />
									<exp exp='::Component .Property .SetWritable (this,&quot;SS&quot;,0)' />
									<exp exp='::Component .Property .SetValue (this,&quot;SS&quot;,&quot;&quot;)' />
									<exp exp='.x = 1' />
								</command>
								<command class_type='sim' title='Panel' cmdcolor='16711808' cmdcolor_sec='16711808' macro='FCD.GetPathHandle' >
									<return exp='.fcd_h' />
									<argument exp='&quot;device.spi&quot;' />
									<argument exp='0' />
								</command>
								<command class_type='decision' title='Decision' cmdcolor='16734039' cmdcolor_sec='16734039' exp='.fcd_h' swap='0' >
									<flowline >
										<command class_type='loop' title='Loop' cmdcolor='16734039' cmdcolor_sec='16734039' type='0' exp='.x &lt; CHANNEL' >
											<flowline >
												<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
													<exp exp='.x = .x + 1' />
												</command>
												<command class_type='sim' title='Panel' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Tree.StepNamedNext' >
													<argument exp='.fcd_h' />
													<argument exp='&quot;spi&quot;' />
												</command>
											</flowline>
										</command>
										<command class_type='comment' title='' comment='test for remappable' textarea='12,0,12,0' cmdcolor='5751039' cmdcolor_sec='5751039' />
										<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
											<exp exp='::Component .Property .SetValue (this,&quot;REMAPPABLE&quot;, ::Tree .GetSubValue (.fcd_h,&quot;remappable&quot;))' />
											<exp exp='' />
										</command>
										<command class_type='decision' title='Decision' cmdcolor='16734039' cmdcolor_sec='16734039' exp='Remappable = 1' swap='0' >
											<flowline >
												<command class_type='comment' title='' comment='PIC8/16 Remappable RP Specific
' textarea='63,20,63,20' cmdcolor='5751039' cmdcolor_sec='5751039' />
												<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.SetVisible' >
													<argument exp='this' />
													<argument exp='&quot;MOSIPins&quot;' />
													<argument exp='1' />
												</command>
												<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.SetVisible' >
													<argument exp='this' />
													<argument exp='&quot;MISOPins&quot;' />
													<argument exp='1' />
												</command>
												<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.SetVisible' >
													<argument exp='this' />
													<argument exp='&quot;CLKPins&quot;' />
													<argument exp='1' />
												</command>
												<command class_type='comment' title='' comment='get the rpreg for inputs
' textarea='500,20,500,20' cmdcolor='5751039' cmdcolor_sec='5751039' />
												<command class_type='sim' title='Get the child' cmdcolor='16711808' cmdcolor_sec='16711808' macro='FCD.GetPathHandle' >
													<return exp='.pinhandle' />
													<argument exp='&quot;miso&quot;' />
													<argument exp='.fcd_h' />
												</command>
												<command class_type='decision' title='If valid' cmdcolor='16734039' cmdcolor_sec='16734039' exp='.pinhandle != 0' swap='0' >
													<flowline >
														<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
															<exp exp='.str = ::Tree .GetSubValue (.pinhandle,&quot;rpreg&quot;)' />
														</command>
														<command class_type='sim' title='ConvertPort(.port, .pin)' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.SetValue' >
															<argument exp='this' />
															<argument exp='&quot;MISORPREG&quot;' />
															<argument exp='.str' />
														</command>
														<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
															<exp exp='.str = ::Tree .GetSubValue (.pinhandle,&quot;rpbank&quot;)' />
														</command>
														<command class_type='sim' title='ConvertPort(.port, .pin)' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.SetValue' >
															<argument exp='this' />
															<argument exp='&quot;MISOBank&quot;' />
															<argument exp='.str' />
														</command>
													</flowline>
													<flowline />
												</command>
												<command class_type='comment' title='' comment='get the rpnum for outputs' textarea='500,20,500,20' cmdcolor='5751039' cmdcolor_sec='5751039' />
												<command class_type='sim' title='Get the child' cmdcolor='16711808' cmdcolor_sec='16711808' macro='FCD.GetPathHandle' >
													<return exp='.pinhandle' />
													<argument exp='&quot;mosi&quot;' />
													<argument exp='.fcd_h' />
												</command>
												<command class_type='decision' title='If valid' cmdcolor='16734039' cmdcolor_sec='16734039' exp='.pinhandle != 0' swap='0' >
													<flowline >
														<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
															<exp exp='.str = ::Tree .GetSubValue (.pinhandle,&quot;rpnum&quot;)' />
														</command>
														<command class_type='sim' title='ConvertPort(.port, .pin)' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.SetValue' >
															<argument exp='this' />
															<argument exp='&quot;MOSIRPNUM&quot;' />
															<argument exp='.str' />
														</command>
														<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
															<exp exp='.str = ::Tree .GetSubValue (.pinhandle,&quot;rpbank&quot;)' />
														</command>
														<command class_type='sim' title='ConvertPort(.port, .pin)' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.SetValue' >
															<argument exp='this' />
															<argument exp='&quot;MOSIBank&quot;' />
															<argument exp='.str' />
														</command>
													</flowline>
													<flowline />
												</command>
												<command class_type='sim' title='Get the child' cmdcolor='16711808' cmdcolor_sec='16711808' macro='FCD.GetPathHandle' >
													<return exp='.pinhandle' />
													<argument exp='&quot;clk&quot;' />
													<argument exp='.fcd_h' />
												</command>
												<command class_type='decision' title='If valid' cmdcolor='16734039' cmdcolor_sec='16734039' exp='.pinhandle != 0' swap='0' >
													<flowline >
														<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
															<exp exp='.str = ::Tree .GetSubValue (.pinhandle,&quot;rpnum&quot;)' />
														</command>
														<command class_type='sim' title='ConvertPort(.port, .pin)' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.SetValue' >
															<argument exp='this' />
															<argument exp='&quot;CLKRPNUM&quot;' />
															<argument exp='.str' />
														</command>
														<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
															<exp exp='.str = ::Tree .GetSubValue (.pinhandle,&quot;rpbank&quot;)' />
														</command>
														<command class_type='sim' title='ConvertPort(.port, .pin)' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.SetValue' >
															<argument exp='this' />
															<argument exp='&quot;CLKBank&quot;' />
															<argument exp='.str' />
														</command>
													</flowline>
													<flowline />
												</command>
												<command class_type='call' title='Call Macro' cmdcolor='16711808' cmdcolor_sec='16711808' macro='ParseRemapPins' />
												<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.GetValue' >
													<return exp='.str' />
													<argument exp='this' />
													<argument exp='&quot;MOSIPins&quot;' />
												</command>
												<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.SetValue' >
													<argument exp='this' />
													<argument exp='&quot;MOSIReg&quot;' />
													<argument exp='.str' />
												</command>
												<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.GetListItem' >
													<return exp='.str' />
													<argument exp='this' />
													<argument exp='&quot;MOSIPins&quot;' />
													<argument exp='.str' />
												</command>
												<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.SetValue' >
													<argument exp='this' />
													<argument exp='&quot;MOSI&quot;' />
													<argument exp='.str' />
												</command>
												<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.GetValue' >
													<return exp='.str' />
													<argument exp='this' />
													<argument exp='&quot;CLKPins&quot;' />
												</command>
												<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.SetValue' >
													<argument exp='this' />
													<argument exp='&quot;CLKReg&quot;' />
													<argument exp='.str' />
												</command>
												<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.GetListItem' >
													<return exp='.str' />
													<argument exp='this' />
													<argument exp='&quot;CLKPins&quot;' />
													<argument exp='.str' />
												</command>
												<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.SetValue' >
													<argument exp='this' />
													<argument exp='&quot;CLK&quot;' />
													<argument exp='.str' />
												</command>
												<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.GetValue' >
													<return exp='.str' />
													<argument exp='this' />
													<argument exp='&quot;MISOPins&quot;' />
												</command>
												<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.GetListItem' >
													<return exp='.str' />
													<argument exp='this' />
													<argument exp='&quot;MISOPins&quot;' />
													<argument exp='.str' />
												</command>
												<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.SetValue' >
													<argument exp='this' />
													<argument exp='&quot;MISO&quot;' />
													<argument exp='.str' />
												</command>
											</flowline>
											<flowline >
												<command class_type='decision' title='Decision' cmdcolor='16734039' cmdcolor_sec='16734039' exp='Remappable = 2' swap='0' >
													<flowline >
														<command class_type='comment' title='' comment='PIC32 Remappable RP Specific
' textarea='63,20,63,20' cmdcolor='5751039' cmdcolor_sec='5751039' />
														<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.SetVisible' >
															<argument exp='this' />
															<argument exp='&quot;MOSIPins&quot;' />
															<argument exp='1' />
														</command>
														<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.SetVisible' >
															<argument exp='this' />
															<argument exp='&quot;MISOPins&quot;' />
															<argument exp='1' />
														</command>
														<command class_type='call' title='Call Macro' textarea='103,21,103,21' cmdcolor='16711808' cmdcolor_sec='16711808' macro='LoadPortString' >
															<argument exp='.fcd_h' />
															<argument exp='&quot;clk&quot;' />
														</command>
														<command class_type='comment' title='' comment='get the rpreg for inputs
' textarea='500,20,500,20' cmdcolor='5751039' cmdcolor_sec='5751039' />
														<command class_type='sim' title='Get the child' cmdcolor='16711808' cmdcolor_sec='16711808' macro='FCD.GetPathHandle' >
															<return exp='.pinhandle' />
															<argument exp='&quot;miso&quot;' />
															<argument exp='.fcd_h' />
														</command>
														<command class_type='decision' title='If valid' cmdcolor='16734039' cmdcolor_sec='16734039' exp='.pinhandle != 0' swap='0' >
															<flowline >
																<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
																	<exp exp='.str = ::Tree .GetSubValue (.pinhandle,&quot;rpreg&quot;)' />
																</command>
																<command class_type='sim' title='ConvertPort(.port, .pin)' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.SetValue' >
																	<argument exp='this' />
																	<argument exp='&quot;MISORPREG&quot;' />
																	<argument exp='.str' />
																</command>
																<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
																	<exp exp='.str = ::Tree .GetSubValue (.pinhandle,&quot;rpbank&quot;)' />
																</command>
																<command class_type='sim' title='ConvertPort(.port, .pin)' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.SetValue' >
																	<argument exp='this' />
																	<argument exp='&quot;MISOBank&quot;' />
																	<argument exp='.str' />
																</command>
															</flowline>
															<flowline />
														</command>
														<command class_type='comment' title='' comment='get the rpnum for outputs' textarea='500,20,500,20' cmdcolor='5751039' cmdcolor_sec='5751039' />
														<command class_type='sim' title='Get the child' cmdcolor='16711808' cmdcolor_sec='16711808' macro='FCD.GetPathHandle' >
															<return exp='.pinhandle' />
															<argument exp='&quot;mosi&quot;' />
															<argument exp='.fcd_h' />
														</command>
														<command class_type='decision' title='If valid' cmdcolor='16734039' cmdcolor_sec='16734039' exp='.pinhandle != 0' swap='0' >
															<flowline >
																<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
																	<exp exp='.str2 = ::Tree .GetSubValue (.pinhandle,&quot;rpnum&quot;)' />
																</command>
																<command class_type='sim' title='ConvertPort(.port, .pin)' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.SetValue' >
																	<argument exp='this' />
																	<argument exp='&quot;MOSIRPNUM&quot;' />
																	<argument exp='.str2' />
																</command>
																<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
																	<exp exp='.str = ::Tree .GetSubValue (.pinhandle,&quot;rpbank&quot;)' />
																</command>
																<command class_type='sim' title='ConvertPort(.port, .pin)' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.SetValue' >
																	<argument exp='this' />
																	<argument exp='&quot;MOSIBank&quot;' />
																	<argument exp='.str' />
																</command>
																<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
																	<exp exp='.str = ::Tree .GetSubValue (.pinhandle,&quot;arpnum&quot;)' />
																</command>
																<command class_type='decision' title='Decision' cmdcolor='16734039' cmdcolor_sec='16734039' exp='Compare$ (.str, .str2,0) == 0' swap='0' >
																	<flowline >
																		<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
																			<exp exp='.str = ::Tree .GetSubValue (.pinhandle,&quot;arpbank&quot;)' />
																		</command>
																		<command class_type='sim' title='ConvertPort(.port, .pin)' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.SetValue' >
																			<argument exp='this' />
																			<argument exp='&quot;MOSIBank2&quot;' />
																			<argument exp='.str' />
																		</command>
																	</flowline>
																	<flowline />
																</command>
															</flowline>
															<flowline />
														</command>
														<command class_type='call' title='Call Macro' cmdcolor='16711808' cmdcolor_sec='16711808' macro='ParseRemapPins' />
														<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.GetValue' >
															<return exp='.str' />
															<argument exp='this' />
															<argument exp='&quot;MOSIPins&quot;' />
														</command>
														<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.SetValue' >
															<argument exp='this' />
															<argument exp='&quot;MOSIReg&quot;' />
															<argument exp='.str' />
														</command>
														<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.GetListItem' >
															<return exp='.str' />
															<argument exp='this' />
															<argument exp='&quot;MOSIPins&quot;' />
															<argument exp='.str' />
														</command>
														<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.SetValue' >
															<argument exp='this' />
															<argument exp='&quot;MOSI&quot;' />
															<argument exp='.str' />
														</command>
														<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.GetValue' >
															<return exp='.str' />
															<argument exp='this' />
															<argument exp='&quot;MISOPins&quot;' />
														</command>
														<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.GetListItem' >
															<return exp='.str' />
															<argument exp='this' />
															<argument exp='&quot;MISOPins&quot;' />
															<argument exp='.str' />
														</command>
														<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.SetValue' >
															<argument exp='this' />
															<argument exp='&quot;MISO&quot;' />
															<argument exp='.str' />
														</command>
													</flowline>
													<flowline >
														<command class_type='decision' title='Decision' cmdcolor='16734039' cmdcolor_sec='16734039' exp='Remappable = 3' swap='0' >
															<flowline >
																<command class_type='comment' title='' comment='STARM Remappable RP Specific
' textarea='63,20,63,20' cmdcolor='5751039' cmdcolor_sec='5751039' />
																<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
																	<exp exp='::Component .Property .SetValue (this,&quot;SPIName&quot;, ::Tree .GetSubValue (.fcd_h,&quot;name&quot;))' />
																	<exp exp='' />
																</command>
																<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.SetVisible' >
																	<argument exp='this' />
																	<argument exp='&quot;MOSIPins&quot;' />
																	<argument exp='1' />
																</command>
																<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.SetVisible' >
																	<argument exp='this' />
																	<argument exp='&quot;MISOPins&quot;' />
																	<argument exp='1' />
																</command>
																<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.SetVisible' >
																	<argument exp='this' />
																	<argument exp='&quot;CLKPins&quot;' />
																	<argument exp='1' />
																</command>
																<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.SetFilter' >
																	<argument exp='this' />
																	<argument exp='&quot;MOSIPins&quot;' />
																	<argument exp='&quot;&quot;' />
																</command>
																<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.SetFilter' >
																	<argument exp='this' />
																	<argument exp='&quot;MISOPins&quot;' />
																	<argument exp='&quot;&quot;' />
																</command>
																<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.SetFilter' >
																	<argument exp='this' />
																	<argument exp='&quot;CLKPins&quot;' />
																	<argument exp='&quot;&quot;' />
																</command>
																<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.SetFilter' >
																	<argument exp='this' />
																	<argument exp='&quot;MOSIReg&quot;' />
																	<argument exp='&quot;&quot;' />
																</command>
																<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.SetFilter' >
																	<argument exp='this' />
																	<argument exp='&quot;MISOReg&quot;' />
																	<argument exp='&quot;&quot;' />
																</command>
																<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.SetFilter' >
																	<argument exp='this' />
																	<argument exp='&quot;CLKREG&quot;' />
																	<argument exp='&quot;&quot;' />
																</command>
																<command class_type='comment' title='' comment='get the remap pins for MISO' textarea='57,13,57,13' cmdcolor='5751039' cmdcolor_sec='5751039' />
																<command class_type='sim' title='Get the child' cmdcolor='16711808' cmdcolor_sec='16711808' macro='FCD.GetPathHandle' >
																	<return exp='.txrx_h' />
																	<argument exp='&quot;miso&quot;' />
																	<argument exp='.fcd_h' />
																</command>
																<command class_type='decision' title='If valid' cmdcolor='16734039' cmdcolor_sec='16734039' exp='.txrx_h != 0' swap='0' >
																	<flowline >
																		<command class_type='call' title='Call Macro' cmdcolor='16711808' cmdcolor_sec='16711808' macro='ParseSTRemapPins' >
																			<argument exp='.txrx_h' />
																			<argument exp='1' />
																		</command>
																	</flowline>
																	<flowline />
																</command>
																<command class_type='comment' title='' comment='get the remap pins for MOSI' textarea='103,23,103,23' cmdcolor='5751039' cmdcolor_sec='5751039' />
																<command class_type='sim' title='Get the child' cmdcolor='16711808' cmdcolor_sec='16711808' macro='FCD.GetPathHandle' >
																	<return exp='.txrx_h' />
																	<argument exp='&quot;mosi&quot;' />
																	<argument exp='.fcd_h' />
																</command>
																<command class_type='decision' title='If valid' cmdcolor='16734039' cmdcolor_sec='16734039' exp='.txrx_h != 0' swap='0' >
																	<flowline >
																		<command class_type='call' title='Call Macro' cmdcolor='16711808' cmdcolor_sec='16711808' macro='ParseSTRemapPins' >
																			<argument exp='.txrx_h' />
																			<argument exp='0' />
																		</command>
																	</flowline>
																	<flowline />
																</command>
																<command class_type='comment' title='' comment='get the remap pins for CLK' textarea='103,23,103,23' cmdcolor='5751039' cmdcolor_sec='5751039' />
																<command class_type='sim' title='Get the child' cmdcolor='16711808' cmdcolor_sec='16711808' macro='FCD.GetPathHandle' >
																	<return exp='.txrx_h' />
																	<argument exp='&quot;clk&quot;' />
																	<argument exp='.fcd_h' />
																</command>
																<command class_type='decision' title='If valid' cmdcolor='16734039' cmdcolor_sec='16734039' exp='.txrx_h != 0' swap='0' >
																	<flowline >
																		<command class_type='call' title='Call Macro' cmdcolor='16711808' cmdcolor_sec='16711808' macro='ParseSTRemapPins' >
																			<argument exp='.txrx_h' />
																			<argument exp='2' />
																		</command>
																	</flowline>
																	<flowline />
																</command>
																<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.GetValue' >
																	<return exp='.str' />
																	<argument exp='this' />
																	<argument exp='&quot;MOSIPins&quot;' />
																</command>
																<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.SetValue' >
																	<argument exp='this' />
																	<argument exp='&quot;MOSIReg&quot;' />
																	<argument exp='.str' />
																</command>
																<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.GetListItem' >
																	<return exp='.str' />
																	<argument exp='this' />
																	<argument exp='&quot;MOSIPins&quot;' />
																	<argument exp='.str' />
																</command>
																<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.SetValue' >
																	<argument exp='this' />
																	<argument exp='&quot;MOSI&quot;' />
																	<argument exp='.str' />
																</command>
																<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.GetValue' >
																	<return exp='.str' />
																	<argument exp='this' />
																	<argument exp='&quot;CLKPins&quot;' />
																</command>
																<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.SetValue' >
																	<argument exp='this' />
																	<argument exp='&quot;CLKReg&quot;' />
																	<argument exp='.str' />
																</command>
																<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.GetListItem' >
																	<return exp='.str' />
																	<argument exp='this' />
																	<argument exp='&quot;CLKPins&quot;' />
																	<argument exp='.str' />
																</command>
																<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.SetValue' >
																	<argument exp='this' />
																	<argument exp='&quot;CLK&quot;' />
																	<argument exp='.str' />
																</command>
																<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.GetValue' >
																	<return exp='.str' />
																	<argument exp='this' />
																	<argument exp='&quot;MISOPins&quot;' />
																</command>
																<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.GetListItem' >
																	<return exp='.str' />
																	<argument exp='this' />
																	<argument exp='&quot;MISOPins&quot;' />
																	<argument exp='.str' />
																</command>
																<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.SetValue' >
																	<argument exp='this' />
																	<argument exp='&quot;MISO&quot;' />
																	<argument exp='.str' />
																</command>
															</flowline>
															<flowline >
																<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.SetVisible' >
																	<argument exp='this' />
																	<argument exp='&quot;MOSIPins&quot;' />
																	<argument exp='0' />
																</command>
																<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.SetVisible' >
																	<argument exp='this' />
																	<argument exp='&quot;MISOPins&quot;' />
																	<argument exp='0' />
																</command>
																<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.SetVisible' >
																	<argument exp='this' />
																	<argument exp='&quot;CLKPins&quot;' />
																	<argument exp='0' />
																</command>
																<command class_type='comment' title='' comment='get the port and pin for miso mosi clk' textarea='103,21,103,21' cmdcolor='5751039' cmdcolor_sec='5751039' />
																<command class_type='call' title='Call Macro' textarea='103,21,103,21' cmdcolor='16711808' cmdcolor_sec='16711808' macro='LoadPortString' >
																	<argument exp='.fcd_h' />
																	<argument exp='&quot;miso&quot;' />
																</command>
																<command class_type='call' title='Call Macro' textarea='103,21,103,21' cmdcolor='16711808' cmdcolor_sec='16711808' macro='LoadPortString' >
																	<argument exp='.fcd_h' />
																	<argument exp='&quot;mosi&quot;' />
																</command>
																<command class_type='call' title='Call Macro' textarea='103,21,103,21' cmdcolor='16711808' cmdcolor_sec='16711808' macro='LoadPortString' >
																	<argument exp='.fcd_h' />
																	<argument exp='&quot;clk&quot;' />
																</command>
																<command class_type='call' title='Call Macro' textarea='103,21,103,21' cmdcolor='16711808' cmdcolor_sec='16711808' macro='LoadPortString' >
																	<return exp='.x' />
																	<argument exp='.fcd_h' />
																	<argument exp='&quot;ss&quot;' />
																</command>
																<command class_type='sim' title='Simulation' textarea='103,21,103,21' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.SetVisible' >
																	<argument exp='this' />
																	<argument exp='&quot;SS&quot;' />
																	<argument exp='.x' />
																</command>
															</flowline>
														</command>
													</flowline>
												</command>
											</flowline>
										</command>
									</flowline>
									<flowline />
								</command>
							</flowline>
							<flowline >
								<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
									<exp exp='::Component .Property .SetWritable (this,&quot;MOSI&quot;,1)' />
									<exp exp='::Component .Property .SetWritable (this,&quot;MISO&quot;,1)' />
									<exp exp='::Component .Property .SetWritable (this,&quot;CLK&quot;,1)' />
									<exp exp='::Component .Property .SetWritable (this,&quot;SS&quot;,1)' />
									<exp exp='::Component .Property .SetVisible (this,&quot;SS&quot;,1)' />
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.SetVisible' >
									<argument exp='this' />
									<argument exp='&quot;MOSIPins&quot;' />
									<argument exp='0' />
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.SetVisible' >
									<argument exp='this' />
									<argument exp='&quot;MISOPins&quot;' />
									<argument exp='0' />
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.SetVisible' >
									<argument exp='this' />
									<argument exp='&quot;CLKPins&quot;' />
									<argument exp='0' />
								</command>
							</flowline>
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='ParseRemapPins' description='' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<local name='fcd' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='temp_str' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='port' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='bit' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='MOSIcount' type='u16' description='' isconst='0' isHidden='0' isinit='1' usrinit='0' setinit='0' />
						<local name='bank' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='CLKcount' type='u16' description='' isconst='0' isHidden='0' isinit='1' usrinit='0' setinit='0' />
						<local name='temp_str2' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<command class_type='sim' title='Get the SPI' cmdcolor='16711808' cmdcolor_sec='16711808' macro='FCD.GetPathHandle' >
							<return exp='.fcd' />
							<argument exp='&quot;device.pins.pin&quot;' />
							<argument exp='0' />
						</command>
						<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.SetFilter' >
							<argument exp='this' />
							<argument exp='&quot;MOSIPins&quot;' />
							<argument exp='&quot;&quot;' />
						</command>
						<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.SetFilter' >
							<argument exp='this' />
							<argument exp='&quot;MISOPins&quot;' />
							<argument exp='&quot;&quot;' />
						</command>
						<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.SetFilter' >
							<argument exp='this' />
							<argument exp='&quot;CLKPins&quot;' />
							<argument exp='&quot;&quot;' />
						</command>
						<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.SetFilter' >
							<argument exp='this' />
							<argument exp='&quot;OutputReg&quot;' />
							<argument exp='&quot;&quot;' />
						</command>
						<command class_type='loop' title='Loop' cmdcolor='16734039' cmdcolor_sec='16734039' type='0' exp='.fcd &gt; 0' >
							<flowline >
								<command class_type='sim' title='Panel' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Tree.GetSubValue' >
									<return exp='.temp_str' />
									<argument exp='.fcd' />
									<argument exp='&quot;rpreg&quot;' />
								</command>
								<command class_type='decision' title='Decision' cmdcolor='16734039' cmdcolor_sec='16734039' exp='Length$ (.temp_str) &gt; 0' swap='0' >
									<flowline >
										<command class_type='sim' title='Panel' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Tree.GetSubValue' >
											<return exp='.port' />
											<argument exp='.fcd' />
											<argument exp='&quot;port&quot;' />
										</command>
										<command class_type='sim' title='Panel' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Tree.GetSubValue' >
											<return exp='.bit' />
											<argument exp='.fcd' />
											<argument exp='&quot;bit&quot;' />
										</command>
										<command class_type='sim' title='Panel' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Tree.GetSubValue' >
											<return exp='.bank' />
											<argument exp='.fcd' />
											<argument exp='&quot;rpbank&quot;' />
										</command>
										<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
											<exp exp='.port[0] = .port[0] - &apos;0&apos;' />
											<exp exp='.port[0] = .port[0] + &apos;A&apos;' />
										</command>
										<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
											<exp exp='.port = .port[0] + &quot;.&quot; + .bit' />
										</command>
										<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
											<exp exp='.port = &quot;$PORT&quot; + .port' />
										</command>
										<command class_type='decision' title='Decision' cmdcolor='16734039' cmdcolor_sec='16734039' exp='Compare$ (.bank,MOSIBank,1) == 0' swap='0' >
											<flowline >
												<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.AddListItem' >
													<argument exp='this' />
													<argument exp='&quot;MOSIPins&quot;' />
													<argument exp='.MOSIcount' />
													<argument exp='.port' />
												</command>
												<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.AddListItem' >
													<argument exp='this' />
													<argument exp='&quot;MOSIReg&quot;' />
													<argument exp='.MOSIcount' />
													<argument exp='.temp_str' />
												</command>
												<command class_type='sim' title='Simulation' disable='1' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Debug.PrintLn' >
													<argument exp='&quot;Output - Port &quot; + .port + &quot; Reg &quot; + .temp_str' />
												</command>
												<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
													<exp exp='.MOSIcount = .MOSIcount + 1' />
												</command>
											</flowline>
											<flowline >
												<command class_type='decision' title='Decision' cmdcolor='16734039' cmdcolor_sec='16734039' exp='Compare$ (.bank,MOSIBank2,1) == 0' swap='0' >
													<flowline >
														<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.AddListItem' >
															<argument exp='this' />
															<argument exp='&quot;MOSIPins&quot;' />
															<argument exp='.MOSIcount' />
															<argument exp='.port' />
														</command>
														<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.AddListItem' >
															<argument exp='this' />
															<argument exp='&quot;MOSIReg&quot;' />
															<argument exp='.MOSIcount' />
															<argument exp='.temp_str' />
														</command>
														<command class_type='sim' title='Simulation' disable='1' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Debug.PrintLn' >
															<argument exp='&quot;Output - Port &quot; + .port + &quot; Reg &quot; + .temp_str' />
														</command>
														<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
															<exp exp='.MOSIcount = .MOSIcount + 1' />
														</command>
													</flowline>
													<flowline />
												</command>
											</flowline>
										</command>
										<command class_type='decision' title='Decision' cmdcolor='16734039' cmdcolor_sec='16734039' exp='Compare$ (.bank,CLKBank,1) == 0' swap='0' >
											<flowline >
												<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.AddListItem' >
													<argument exp='this' />
													<argument exp='&quot;CLKPins&quot;' />
													<argument exp='.CLKcount' />
													<argument exp='.port' />
												</command>
												<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.AddListItem' >
													<argument exp='this' />
													<argument exp='&quot;CLKReg&quot;' />
													<argument exp='.CLKcount' />
													<argument exp='.temp_str' />
												</command>
												<command class_type='sim' title='Simulation' disable='1' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Debug.PrintLn' >
													<argument exp='&quot;Output - Port &quot; + .port + &quot; Reg &quot; + .temp_str' />
												</command>
												<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
													<exp exp='.CLKcount = .CLKcount + 1' />
												</command>
											</flowline>
											<flowline />
										</command>
									</flowline>
									<flowline />
								</command>
								<command class_type='sim' title='Panel' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Tree.GetSubValue' >
									<return exp='.temp_str' />
									<argument exp='.fcd' />
									<argument exp='&quot;rpnum&quot;' />
								</command>
								<command class_type='decision' title='Decision' cmdcolor='16734039' cmdcolor_sec='16734039' exp='Length$ (.temp_str) &gt; 0' swap='0' >
									<flowline >
										<command class_type='sim' title='Panel' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Tree.GetSubValue' >
											<return exp='.port' />
											<argument exp='.fcd' />
											<argument exp='&quot;port&quot;' />
										</command>
										<command class_type='sim' title='Panel' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Tree.GetSubValue' >
											<return exp='.bit' />
											<argument exp='.fcd' />
											<argument exp='&quot;bit&quot;' />
										</command>
										<command class_type='sim' title='Panel' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Tree.GetSubValue' >
											<return exp='.bank' />
											<argument exp='.fcd' />
											<argument exp='&quot;rpbank&quot;' />
										</command>
										<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
											<exp exp='.port[0] = .port[0] - &apos;0&apos;' />
											<exp exp='.port[0] = .port[0] + &apos;A&apos;' />
										</command>
										<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
											<exp exp='.port = .port[0] + &quot;.&quot; + .bit' />
										</command>
										<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
											<exp exp='.port = &quot;$PORT&quot; + .port' />
										</command>
										<command class_type='decision' title='Decision' cmdcolor='16734039' cmdcolor_sec='16734039' exp='Compare$ (.bank,MISOBank,1) == 0' swap='0' >
											<flowline >
												<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.AddListItem' >
													<argument exp='this' />
													<argument exp='&quot;MISOPins&quot;' />
													<argument exp='.temp_str' />
													<argument exp='.port' />
												</command>
												<command class_type='sim' title='Simulation' disable='1' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Debug.PrintLn' >
													<argument exp='&quot;Input - Port &quot; + .port + &quot; Num &quot; + .temp_str' />
												</command>
											</flowline>
											<flowline />
										</command>
									</flowline>
									<flowline />
								</command>
								<command class_type='sim' title='Panel' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Tree.StepNamedNext' >
									<argument exp='.fcd' />
									<argument exp='&quot;pin&quot;' />
								</command>
							</flowline>
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='SimSetupScope' description='' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<local name='ObjectHandle' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='ParentName' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='Port' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='Bit' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='calculation' title='Initialise values' cmdcolor='49280' cmdcolor_sec='49280' >
							<exp exp='.ObjectHandle = this' />
							<exp exp='ScopeGroup = 0' />
							<exp exp='ScopeStream[0] = 0' />
							<exp exp='ScopeStream[1] = 0' />
							<exp exp='ScopeStream[2] = 0' />
							<exp exp='ScopeStream[3] = 0' />
						</command>
						<command class_type='sim' title='Step away from UART CAL' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Tree.StepParent' >
							<argument exp='.ObjectHandle' />
						</command>
						<command class_type='sim' title='Get Name Of Current Position' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Tree.GetName' >
							<return exp='.ParentName' />
							<argument exp='.ObjectHandle' />
						</command>
						<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
							<exp exp='.ParentName = .ParentName + &quot; - SPI &quot; + STRING CHANNEL' />
						</command>
						<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='DataRecorder.AddGroup' >
							<return exp='ScopeGroup' />
							<argument exp='.ParentName' />
						</command>
						<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='DataRecorder.AddStream' >
							<return exp='ScopeStream[1]' />
							<argument exp='ScopeGroup' />
							<argument exp='&quot;MOSI &quot; + MOSI_PORT' />
						</command>
						<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
							<exp exp='.Port = Char$ (MOSI_PORT,5) - &apos;A&apos;' />
						</command>
						<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
							<exp exp='.Bit = Char$ (MOSI_PORT,7) - &apos;0&apos;' />
						</command>
						<command class_type='decision' title='Decision' cmdcolor='16734039' cmdcolor_sec='16734039' exp='Char$ (MOSI_PORT,8) &gt; 0' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
									<exp exp='.Bit = (.Bit * 10) + (Char$ (MOSI_PORT,8) - &apos;0&apos;)' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='DataRecorder.AddPort' >
							<argument exp='ScopeStream[1]' />
							<argument exp='.Port' />
							<argument exp='(1 &lt;&lt; .Bit)' />
							<argument exp='1' />
							<argument exp='0' />
						</command>
						<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='DataRecorder.AddStream' >
							<return exp='ScopeStream[0]' />
							<argument exp='ScopeGroup' />
							<argument exp='&quot;MISO &quot; + MISO_PORT' />
						</command>
						<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
							<exp exp='.Port = Char$ (MISO_PORT,5) - &apos;A&apos;' />
						</command>
						<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
							<exp exp='.Bit = Char$ (MISO_PORT,7) - &apos;0&apos;' />
						</command>
						<command class_type='decision' title='Decision' cmdcolor='16734039' cmdcolor_sec='16734039' exp='Char$ (MISO_PORT,8) &gt; 0' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
									<exp exp='.Bit = (.Bit * 10) + (Char$ (MISO_PORT,8) - &apos;0&apos;)' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='DataRecorder.AddPort' >
							<argument exp='ScopeStream[0]' />
							<argument exp='.Port' />
							<argument exp='(1 &lt;&lt; .Bit)' />
							<argument exp='1' />
							<argument exp='0' />
						</command>
						<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='DataRecorder.AddStream' >
							<return exp='ScopeStream[3]' />
							<argument exp='ScopeGroup' />
							<argument exp='&quot;SCK &quot; + SCK_PORT' />
						</command>
						<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='DataRecorder.SetDecodable' >
							<argument exp='ScopeStream[3]' />
							<argument exp='0' />
						</command>
						<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
							<exp exp='.Port = Char$ (SCK_PORT,5) - &apos;A&apos;' />
						</command>
						<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
							<exp exp='.Bit = Char$ (SCK_PORT,7) - &apos;0&apos;' />
						</command>
						<command class_type='decision' title='Decision' cmdcolor='16734039' cmdcolor_sec='16734039' exp='Char$ (SCK_PORT,8) &gt; 0' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
									<exp exp='.Bit = (.Bit * 10) + (Char$ (SCK_PORT,8) - &apos;0&apos;)' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='DataRecorder.AddPort' >
							<argument exp='ScopeStream[3]' />
							<argument exp='.Port' />
							<argument exp='(1 &lt;&lt; .Bit)' />
							<argument exp='1' />
							<argument exp='0' />
						</command>
						<command class_type='decision' title='Decision' cmdcolor='16734039' cmdcolor_sec='16734039' exp='Length$ (CS_PORT) &gt; 0' swap='0' >
							<flowline >
								<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='DataRecorder.AddStream' >
									<return exp='ScopeStream[2]' />
									<argument exp='ScopeGroup' />
									<argument exp='&quot;CS &quot; + CS_PORT' />
								</command>
								<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
									<exp exp='.Port = Char$ (CS_PORT,5) - &apos;A&apos;' />
								</command>
								<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
									<exp exp='.Bit = Char$ (CS_PORT,7) - &apos;0&apos;' />
								</command>
								<command class_type='decision' title='Decision' cmdcolor='16734039' cmdcolor_sec='16734039' exp='Char$ (CS_PORT,8) &gt; 0' swap='0' >
									<flowline >
										<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
											<exp exp='.Bit = (.Bit * 10) + (Char$ (CS_PORT,8) - &apos;0&apos;)' />
										</command>
									</flowline>
									<flowline />
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='DataRecorder.AddPort' >
									<argument exp='ScopeStream[2]' />
									<argument exp='.Port' />
									<argument exp='(1 &lt;&lt; .Bit)' />
									<argument exp='1' />
									<argument exp='0' />
								</command>
							</flowline>
							<flowline />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Ev_DecodeSync' description='Sent when a block of the stream is to be decoded into packets' statediag='0' >
						<return name='Return' type='u32' description='Non-zero if the data could be decoded' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='StreamH' type='h32' description='The stream handle' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='TimeOffset' type='s32' description='The -ve offset from now of the earliest time to be decoded, in microseconds' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='PacketSize' type='u32' description='The number of microseconds of the decoded packet from its start' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='baud' type='u32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='step' type='u32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='SearchFlags' type='u32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='PacketFlags' type='u32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='sim' title='Set Packet format' cmdcolor='16711808' cmdcolor_sec='16711808' macro='DataRecorder.SetPacketFmt' >
							<argument exp='.StreamH' />
							<argument exp='&quot;%c[%.2x]%e&quot;' />
							<argument exp='0xffffff' />
							<argument exp='0xd0FFE0a0' />
						</command>
						<command class_type='sim' title='Clear Packets from the area' cmdcolor='16711808' cmdcolor_sec='16711808' macro='DataRecorder.ClearPackets' >
							<argument exp='.StreamH' />
							<argument exp='.TimeOffset' />
							<argument exp='.PacketSize' />
						</command>
						<command class_type='comment' title='' comment='setup the Packet flags based on CKE and CKP' textarea='12,0,12,0' cmdcolor='5751039' cmdcolor_sec='5751039' />
						<command class_type='decision' title='Clock Phase selection' cmdcolor='16734039' cmdcolor_sec='16734039' exp='CKP = 0' swap='0' >
							<flowline >
								<command class_type='decision' title='' cmdcolor='16734039' cmdcolor_sec='16734039' exp='CKE = 0' swap='0' >
									<flowline >
										<command class_type='comment' title='' comment='Idle low clock
CKP = 0, CKE = 0
Data changes on Leading Edge 
Read the data on High to Low transition' textarea='12,0,12,0' cmdcolor='5751039' cmdcolor_sec='5751039' />
										<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
											<exp exp='.PacketFlags = 0 * ::DataRecorder .Packet_ResyncHiLo' />
											<exp exp='.SearchFlags = ::DataRecorder .Find_HighLow' />
											<exp exp='' />
										</command>
									</flowline>
									<flowline >
										<command class_type='comment' title='' comment='Idle low clock
CKP = 0, CKE = 1
Data Changes on Trailing edge
Read the data on Low to High transition
Same as CKP = 1, CKE = 0' textarea='36,12,36,12' cmdcolor='5751039' cmdcolor_sec='5751039' />
										<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
											<exp exp='.PacketFlags = 0 * ::DataRecorder .Packet_ResyncLoHi' />
											<exp exp='.SearchFlags = ::DataRecorder .Find_LowHigh' />
										</command>
									</flowline>
								</command>
							</flowline>
							<flowline >
								<command class_type='decision' title='' cmdcolor='16734039' cmdcolor_sec='16734039' exp='CKE = 0' swap='0' >
									<flowline >
										<command class_type='comment' title='' comment='Idle High Clock
CKP = 1, CKE = 0
Data changes on Leading Edge 
Read the data on Low to High transition' textarea='12,0,12,0' cmdcolor='5751039' cmdcolor_sec='5751039' />
										<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
											<exp exp='.PacketFlags = 0 * ::DataRecorder .Packet_ResyncLoHi' />
											<exp exp='.SearchFlags = ::DataRecorder .Find_LowHigh' />
										</command>
									</flowline>
									<flowline >
										<command class_type='comment' title='' comment='Idle High Clock
CKP = 1, CKE = 1
Data Changes on Trailing edge
Read the data on High to Low transition' textarea='36,12,36,12' cmdcolor='5751039' cmdcolor_sec='5751039' />
										<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
											<exp exp='.PacketFlags = 0 * ::DataRecorder .Packet_ResyncHiLo' />
											<exp exp='.SearchFlags = ::DataRecorder .Find_HighLow' />
											<exp exp='' />
										</command>
									</flowline>
								</command>
							</flowline>
						</command>
						<command class_type='comment' title='' comment='Find initial pulse value between .TimeUS and the .PacketSize max
' textarea='273,-14,273,-14' cmdcolor='5751039' cmdcolor_sec='5751039' />
						<command class_type='sim' title='Find the next transition' cmdcolor='16711808' cmdcolor_sec='16711808' macro='DataRecorder.FindOutput' >
							<return exp='.step' />
							<argument exp='ScopeStream[StrmId_Clk]' />
							<argument exp='.TimeOffset' />
							<argument exp='.PacketSize' />
							<argument exp='0.5' />
							<argument exp='.SearchFlags' />
						</command>
						<command class_type='comment' title='' comment='Decode the data starting at the first clock pulse
' textarea='273,-14,273,-14' cmdcolor='5751039' cmdcolor_sec='5751039' />
						<command class_type='decision' title='If found a valid clock pulse' cmdcolor='16734039' cmdcolor_sec='16734039' exp='.step != 0' swap='0' >
							<flowline >
								<command class_type='calculation' title='Move to start of clock pulse' cmdcolor='49280' cmdcolor_sec='49280' >
									<exp exp='.TimeOffset = .TimeOffset + .step' />
									<exp exp='.PacketSize = .PacketSize - .step' />
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='DataRecorder.AddSyncPackets' >
									<argument exp='.StreamH' />
									<argument exp='.TimeOffset' />
									<argument exp='.PacketSize' />
									<argument exp='ScopeStream[StrmId_Clk]' />
									<argument exp='.SearchFlags' />
									<argument exp='0xff' />
									<argument exp='8' />
									<argument exp='.PacketFlags' />
									<argument exp='-1' />
								</command>
							</flowline>
							<flowline />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Ev_AddHeader' description='Sent to a component to allow dynamic amendment of header code' statediag='0' >
						<return name='Return' type='u32' description='Non-zero to block header code insertion' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='HeadCode' type='T8*' description='Text to amend for header' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</param>
						<local name='temp_str' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='temp_ul' type='u32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='Instance' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.GetInstance' >
							<return exp='.temp_ul' />
							<argument exp='this' />
						</command>
						<command class_type='decision' title='Decision' cmdcolor='16734039' cmdcolor_sec='16734039' exp='ENABLED' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
									<exp exp='.HeadCode = .HeadCode + &quot;#define MX_SPI_REF&quot; + STRING .temp_ul + &quot;\n&quot;' />
								</command>
								<command class_type='decision' title='Decision' cmdcolor='16734039' cmdcolor_sec='16734039' exp='(Remappable &gt; 0) &amp;&amp; (CHANNEL &gt; 0)' swap='0' >
									<flowline >
										<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
											<exp exp='.HeadCode = .HeadCode + &quot;#define MX_SPI_REMAPPABLE_&quot; + ToString$ (.temp_ul) + &quot; 1\n&quot;' />
										</command>
										<command class_type='decision' title='Decision' cmdcolor='16734039' cmdcolor_sec='16734039' exp='Remappable = 3' swap='0' >
											<flowline >
												<command class_type='comment' title='' comment='STARM Remap Specific' textarea='53,17,53,17' cmdcolor='5751039' cmdcolor_sec='5751039' />
												<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.GetInstance' >
													<return exp='.Instance' />
													<argument exp='this' />
												</command>
												<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.GetListItem' >
													<return exp='.temp_str' />
													<argument exp='this' />
													<argument exp='&quot;MOSIReg&quot;' />
													<argument exp='MOSIPins' />
												</command>
												<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
													<exp exp='.HeadCode = .HeadCode + &quot;#define MX_SPI_MOSI_AF_&quot; + STRING .Instance + &quot; &quot; + .temp_str + &quot;\n&quot;' />
												</command>
												<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.GetListItem' >
													<return exp='.temp_str' />
													<argument exp='this' />
													<argument exp='&quot;CLKReg&quot;' />
													<argument exp='CLKPins' />
												</command>
												<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
													<exp exp='.HeadCode = .HeadCode + &quot;#define MX_SPI_CLK_AF_&quot; + STRING .Instance + &quot; &quot; + .temp_str + &quot;\n&quot;' />
												</command>
												<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.GetListItem' >
													<return exp='.temp_str' />
													<argument exp='this' />
													<argument exp='&quot;MISOReg&quot;' />
													<argument exp='MISOPins' />
												</command>
												<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
													<exp exp='.HeadCode = .HeadCode + &quot;#define MX_SPI_MISO_AF_&quot; + STRING .Instance + &quot; &quot; + .temp_str + &quot;\n&quot;' />
												</command>
												<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
													<exp exp='.HeadCode = .HeadCode + &quot;#define MX_SPI_NAME_&quot; + STRING .Instance + &quot; &quot; + SPIName + &quot;\n&quot;' />
												</command>
												<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.SetValue' >
													<argument exp='this' />
													<argument exp='&quot;SPIClock&quot;' />
													<argument exp='&quot;__HAL_RCC_&quot; + SPIName + &quot;_CLK_ENABLE&quot;' />
												</command>
												<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
													<exp exp='.HeadCode = .HeadCode + &quot;#define MX_SPI_CLOCK_&quot; + STRING .Instance + &quot; &quot; + SPIClock + &quot;\n&quot;' />
												</command>
											</flowline>
											<flowline >
												<command class_type='decision' title='Decision' cmdcolor='16734039' cmdcolor_sec='16734039' exp='Remappable = 2' swap='0' >
													<flowline >
														<command class_type='comment' title='' comment='Mode 2 has no control over clock pin SCK' textarea='12,0,12,0' cmdcolor='5751039' cmdcolor_sec='5751039' />
														<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
															<exp exp='.HeadCode = .HeadCode + &quot;#define MX_SPI_REMAPPABLE_SCK_&quot; + ToString$ (.temp_ul) + &quot; 1\n&quot;' />
														</command>
													</flowline>
													<flowline />
												</command>
												<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.GetListItem' >
													<return exp='.temp_str' />
													<argument exp='this' />
													<argument exp='&quot;MOSIReg&quot;' />
													<argument exp='MOSIPins' />
												</command>
												<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
													<exp exp='.HeadCode = .HeadCode + &quot;#define MX_SPI_MOSI_RPOR_&quot; + STRING (.temp_ul) + &quot; &quot; + .temp_str + &quot;\n&quot;' />
												</command>
												<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
													<exp exp='.HeadCode = .HeadCode + &quot;#define MX_SPI_MOSI_SDO_&quot; + STRING (.temp_ul) + &quot; &quot; + STRING MOSIRPNUM + &quot;\n&quot;' />
												</command>
												<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.GetListItem' >
													<return exp='.temp_str' />
													<argument exp='this' />
													<argument exp='&quot;CLKReg&quot;' />
													<argument exp='CLKPins' />
												</command>
												<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
													<exp exp='.HeadCode = .HeadCode + &quot;#define MX_SPI_CLK_RPOR_&quot; + STRING (.temp_ul) + &quot; &quot; + .temp_str + &quot;\n&quot;' />
												</command>
												<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
													<exp exp='.HeadCode = .HeadCode + &quot;#define MX_SPI_CLK_SCK_&quot; + STRING (.temp_ul) + &quot; &quot; + STRING CLKRPNUM + &quot;\n&quot;' />
												</command>
												<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
													<exp exp='.HeadCode = .HeadCode + &quot;#define MX_SPI_MISO_RPINR_&quot; + STRING (.temp_ul) + &quot; &quot; + MISORPREG + &quot;\n&quot;' />
												</command>
												<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
													<exp exp='.HeadCode = .HeadCode + &quot;#define MX_SPI_MISO_RP_&quot; + STRING (.temp_ul) + &quot; &quot; + STRING MISOPins + &quot;\n&quot;' />
												</command>
											</flowline>
										</command>
									</flowline>
									<flowline />
								</command>
							</flowline>
							<flowline >
								<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
									<exp exp='.HeadCode = &quot;\n// CAL SPI &quot; + STRING .temp_ul + &quot; disabled\n&quot;' />
								</command>
							</flowline>
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='ConvertPort' description='' statediag='0' >
						<return name='Return' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;\x00&quot;' setinit='' />
						<param name='port' type='T8*' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</param>
						<param name='pin' type='T8*' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</param>
						<local name='n' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='p' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
							<exp exp='.n = StringToInt$ (.port)' />
						</command>
						<command class_type='switch' title='Switch' textarea='36,25,36,25' cmdcolor='16734039' cmdcolor_sec='16734039' exp='.n' >
							<case >
								<flowline >
									<command class_type='block' title='' hide='1' cmdcolor='5724159' cmdcolor_sec='5724159' start='1' />
									<command class_type='block' title='' hide='1' cmdcolor='5724159' cmdcolor_sec='5724159' start='0' />
									<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
										<exp exp='.p = &quot;A&quot;' />
									</command>
								</flowline>
							</case>
							<case exp='1' >
								<flowline >
									<command class_type='block' title='' hide='1' cmdcolor='5724159' cmdcolor_sec='5724159' start='1' />
									<command class_type='block' title='' hide='1' cmdcolor='5724159' cmdcolor_sec='5724159' start='0' />
									<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
										<exp exp='.p = &quot;B&quot;' />
									</command>
								</flowline>
							</case>
							<case exp='2' >
								<flowline >
									<command class_type='block' title='' hide='1' cmdcolor='5724159' cmdcolor_sec='5724159' start='1' />
									<command class_type='block' title='' hide='1' cmdcolor='5724159' cmdcolor_sec='5724159' start='0' />
									<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
										<exp exp='.p = &quot;C&quot;' />
									</command>
								</flowline>
							</case>
							<case exp='3' >
								<flowline >
									<command class_type='block' title='' hide='1' cmdcolor='5724159' cmdcolor_sec='5724159' start='1' />
									<command class_type='block' title='' hide='1' cmdcolor='5724159' cmdcolor_sec='5724159' start='0' />
									<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
										<exp exp='.p = &quot;D&quot;' />
									</command>
								</flowline>
							</case>
							<case exp='4' >
								<flowline >
									<command class_type='block' title='' hide='1' cmdcolor='5724159' cmdcolor_sec='5724159' start='1' />
									<command class_type='block' title='' hide='1' cmdcolor='5724159' cmdcolor_sec='5724159' start='0' />
									<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
										<exp exp='.p = &quot;E&quot;' />
									</command>
								</flowline>
							</case>
							<case exp='5' >
								<flowline >
									<command class_type='block' title='' hide='1' cmdcolor='5724159' cmdcolor_sec='5724159' start='1' />
									<command class_type='block' title='' hide='1' cmdcolor='5724159' cmdcolor_sec='5724159' start='0' />
									<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
										<exp exp='.p = &quot;F&quot;' />
									</command>
								</flowline>
							</case>
							<case exp='6' >
								<flowline >
									<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
										<exp exp='.p = &quot;G&quot;' />
									</command>
								</flowline>
							</case>
							<case exp='7' >
								<flowline >
									<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
										<exp exp='.p = &quot;H&quot;' />
									</command>
								</flowline>
							</case>
							<case exp='8' >
								<flowline >
									<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
										<exp exp='.p = &quot;J&quot;' />
									</command>
								</flowline>
							</case>
							<case exp='9' >
								<flowline >
									<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
										<exp exp='.p = &quot;K&quot;' />
									</command>
								</flowline>
							</case>
						</command>
						<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
							<exp exp='.Return = &quot;$PORT&quot; + .p + &quot;.&quot; + .pin' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='ParseSTRemapPins' description='' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<param name='FCDHandle' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='TX' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='AFStr' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='PinStr' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='PortStr' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='XMLStr' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='StrLen' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='count' type='u16' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='fcd' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
							<exp exp='.count = 0' />
						</command>
						<command class_type='loop' title='Loop' cmdcolor='16734039' cmdcolor_sec='16734039' type='0' exp='1' >
							<flowline >
								<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
									<exp exp='.XMLStr = &quot;af&quot; + STRING .count' />
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Tree.GetSubValue' >
									<return exp='.AFStr' />
									<argument exp='.FCDHandle' />
									<argument exp='.XMLStr' />
								</command>
								<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
									<exp exp='.XMLStr = &quot;port&quot; + STRING .count' />
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Tree.GetSubValue' >
									<return exp='.PortStr' />
									<argument exp='.FCDHandle' />
									<argument exp='.XMLStr' />
								</command>
								<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
									<exp exp='.XMLStr = &quot;pin&quot; + STRING .count' />
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Tree.GetSubValue' >
									<return exp='.PinStr' />
									<argument exp='.FCDHandle' />
									<argument exp='.XMLStr' />
								</command>
								<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
									<exp exp='.StrLen = Length$ (.AFStr)' />
								</command>
								<command class_type='decision' title='Decision' cmdcolor='16734039' cmdcolor_sec='16734039' exp='.StrLen = 0' swap='0' >
									<flowline >
										<command class_type='goto' title='Goto Connection Point' cmdcolor='16734039' cmdcolor_sec='16734039' labelid='0' labelname='' />
									</flowline>
									<flowline />
								</command>
								<command class_type='calculation' title='Calculation' disable='1' cmdcolor='49280' cmdcolor_sec='49280' >
									<exp exp='.AFStr[0] = .AFStr[0] - &apos;0&apos;' />
								</command>
								<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
									<exp exp='.PortStr[0] = .PortStr[0] - &apos;0&apos;' />
									<exp exp='.PortStr[0] = .PortStr[0] + &apos;A&apos;' />
								</command>
								<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
									<exp exp='.PortStr = .PortStr[0] + &quot;.&quot; + .PinStr' />
								</command>
								<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
									<exp exp='.PortStr = &quot;$PORT&quot; + .PortStr' />
								</command>
								<command class_type='switch' title='Switch' textarea='36,25,36,25' cmdcolor='16734039' cmdcolor_sec='16734039' exp='.TX' >
									<case >
										<flowline >
											<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.AddListItem' >
												<argument exp='this' />
												<argument exp='&quot;MOSIPins&quot;' />
												<argument exp='.count' />
												<argument exp='.PortStr' />
											</command>
											<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.AddListItem' >
												<argument exp='this' />
												<argument exp='&quot;MOSIReg&quot;' />
												<argument exp='.count' />
												<argument exp='.AFStr' />
											</command>
										</flowline>
									</case>
									<case exp='1' >
										<flowline >
											<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.AddListItem' >
												<argument exp='this' />
												<argument exp='&quot;MISOPins&quot;' />
												<argument exp='.count' />
												<argument exp='.PortStr' />
											</command>
											<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.AddListItem' >
												<argument exp='this' />
												<argument exp='&quot;MISOReg&quot;' />
												<argument exp='.count' />
												<argument exp='.AFStr' />
											</command>
										</flowline>
									</case>
									<case exp='2' >
										<flowline >
											<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.AddListItem' >
												<argument exp='this' />
												<argument exp='&quot;CLKPins&quot;' />
												<argument exp='.count' />
												<argument exp='.PortStr' />
											</command>
											<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.AddListItem' >
												<argument exp='this' />
												<argument exp='&quot;CLKReg&quot;' />
												<argument exp='.count' />
												<argument exp='.AFStr' />
											</command>
										</flowline>
									</case>
								</command>
								<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
									<exp exp='.count = .count + 1' />
								</command>
							</flowline>
						</command>
						<command class_type='label' title='Connection Point' cmdcolor='16734039' cmdcolor_sec='16734039' labelid='0' labelname='A' />
					</flowline>
				</macro>
				<macro >
					<flowline name='GetList' description='returns Named property list' statediag='0' >
						<return name='Return' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;\x00&quot;' setinit='' />
						<param name='Name' type='T8*' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</param>
						<command class_type='decision' title='Decision' cmdcolor='16734039' cmdcolor_sec='16734039' exp='(Compare$ (.Name,&quot;PR_SCALE&quot;,1) = 0) OR (Compare$ (.Name,&quot;CKP&quot;,1) = 0) OR (Compare$ (.Name,&quot;CKE&quot;,1) = 0) OR (Compare$ (.Name,&quot;SMP&quot;,1) = 0)' swap='0' >
							<flowline >
								<command class_type='sim' title='Simulation' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Component.Property.GetFilter' >
									<return exp='.Return' />
									<argument exp='this' />
									<argument exp='.Name' />
								</command>
							</flowline>
							<flowline >
								<command class_type='decision' title='Decision' cmdcolor='16734039' cmdcolor_sec='16734039' exp='Compare$ (.Name,&quot;CHANNEL&quot;,1) = 0' swap='0' >
									<flowline >
										<command class_type='call' title='Call Macro' cmdcolor='16711808' cmdcolor_sec='16711808' macro='GetChannelList' >
											<return exp='.Return' />
										</command>
										<command class_type='calculation' title='Update the internal property too' cmdcolor='49280' cmdcolor_sec='49280' >
											<exp exp='::Component .Property .SetFilter (this,&quot;CHANNEL&quot;, .Return)' />
										</command>
									</flowline>
									<flowline >
										<command class_type='sim' title='Call Macro' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Debug.PrintLn' >
											<argument exp='&quot;GetList(&quot; + .Name + &quot;) not valid. Use CHANNEL, PR_SCALE, CKP, CKE or SMP&quot;' />
										</command>
									</flowline>
								</command>
							</flowline>
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Main' description='' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<command class_type='call' title='Call Macro' cmdcolor='16711808' cmdcolor_sec='16711808' macro='Ev_Initialise' />
						<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
							<exp exp='x = 0' />
						</command>
						<command class_type='loop' title='Loop' cmdcolor='16734039' cmdcolor_sec='16734039' type='0' exp='x &lt; 11' >
							<flowline >
								<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
									<exp exp='b = x + &apos;A&apos;' />
									<exp exp='x = x + 1' />
								</command>
								<command class_type='loop' title='Loop' cmdcolor='16734039' cmdcolor_sec='16734039' type='2' exp='10' >
									<flowline />
								</command>
								<command class_type='loop' title='Loop' cmdcolor='16734039' cmdcolor_sec='16734039' type='2' exp='8' >
									<flowline >
										<command class_type='decision' title='Decision' cmdcolor='16734039' cmdcolor_sec='16734039' exp='CKE = 0' swap='0' >
											<flowline >
												<command class_type='comment' title='' comment='data change on leading edge' textarea='12,0,12,0' cmdcolor='5751039' cmdcolor_sec='5751039' />
												<command class_type='output' title='Output' cmdcolor='8453975' cmdcolor_sec='8453975' mode='1' port='1048578' mask='8' exp='!CKP' usechipref='1' />
												<command class_type='output' title='Output' cmdcolor='8453975' cmdcolor_sec='8453975' mode='1' port='1048578' mask='32' exp='b &amp; 0x80' usechipref='1' />
												<command class_type='output' title='Output' cmdcolor='8453975' cmdcolor_sec='8453975' mode='1' port='1048578' mask='8' exp='CKP' usechipref='1' />
											</flowline>
											<flowline >
												<command class_type='comment' title='' comment='data change on trailing edge' textarea='12,0,12,0' cmdcolor='5751039' cmdcolor_sec='5751039' />
												<command class_type='output' title='Output' cmdcolor='8453975' cmdcolor_sec='8453975' mode='1' port='1048578' mask='32' exp='b &amp; 0x80' usechipref='1' />
												<command class_type='output' title='Output' cmdcolor='8453975' cmdcolor_sec='8453975' mode='1' port='1048578' mask='8' exp='!CKP' usechipref='1' />
												<command class_type='output' title='Output' cmdcolor='8453975' cmdcolor_sec='8453975' mode='1' port='1048578' mask='8' exp='CKP' usechipref='1' />
											</flowline>
										</command>
										<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
											<exp exp='b = b &lt;&lt; 1' />
										</command>
									</flowline>
								</command>
							</flowline>
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='ParsePin' description='Get the Port PIN number from the Port String' statediag='0' >
						<return name='Return' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='Port' type='T8*' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</param>
						<local name='n' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
							<exp exp='.n = 0' />
							<exp exp='.Return = 0' />
						</command>
						<command class_type='loop' title='Find the dot' cmdcolor='16734039' cmdcolor_sec='16734039' type='0' exp='(.Port[.n] != &apos;.&apos;) AND (.Port[.n] != 0)' >
							<flowline >
								<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
									<exp exp='.n = .n + 1' />
								</command>
							</flowline>
						</command>
						<command class_type='decision' title='have we found the dot?' cmdcolor='16734039' cmdcolor_sec='16734039' exp='.Port[.n] = 0' swap='1' >
							<flowline >
								<command class_type='decision' title='check for high byte' cmdcolor='16734039' cmdcolor_sec='16734039' exp='.Port[.n - 1] = &apos;1&apos;' swap='0' >
									<flowline >
										<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
											<exp exp='.Return = 8' />
											<exp exp='.n = .n + 1' />
										</command>
										<command class_type='decision' title='Decision' cmdcolor='16734039' cmdcolor_sec='16734039' exp='(.Port[.n] &gt; &apos;0&apos;) AND (.Port[.n] &lt; &apos;8&apos;)' swap='0' >
											<flowline >
												<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
													<exp exp='.Return = .Return + .Port[.n] - &apos;0&apos;' />
												</command>
											</flowline>
											<flowline />
										</command>
									</flowline>
									<flowline >
										<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
											<exp exp='.n = .n + 1' />
										</command>
										<command class_type='loop' title='Loop' cmdcolor='16734039' cmdcolor_sec='16734039' type='0' exp='(.Port[.n] &gt;= &apos;0&apos;) AND (.Port[.n] &lt;= &apos;9&apos;)' >
											<flowline >
												<command class_type='calculation' title='Calculation' cmdcolor='49280' cmdcolor_sec='49280' >
													<exp exp='.Return = (.Return * 10) + .Port[.n] - &apos;0&apos;' />
													<exp exp='.n = .n + 1' />
												</command>
											</flowline>
										</command>
									</flowline>
								</command>
							</flowline>
							<flowline />
						</command>
					</flowline>
				</macro>
			</macros>
			<component class_type='ref' guid='fc3c670c-502a-418f-a123-649179752383' vmin='0' vmaj='1' codename='fcdhelper' x='0' y='0' z='0' xsz='1' ysz='1' zsz='1' xang='0' yang='0' zang='0' xquat='0' yquat='0' zquat='0' wquat='1' visible='1' scadavisible='1' interactive='1' solid='1' layer='0' poslock='0' comp2dType='0' >
				<resources />
				<properties />
				<values />
				<events />
				<apis />
				<variables />
				<macros />
			</component>
		</component>
	</components>
	<scadaresourcelookup />
	<keymap />
	<panel2d shadows='2' lighting='0' brightness='0' >
		<background rgb='9737364' img='' style='0' />
		<camera xe='0' ye='0' ze='300' xt='0' yt='0' zt='0' xquat='0' yquat='0' zquat='0' wquat='1' />
		<viewport dx='128' dy='128' zoom='51.6267' fixtopleft='1' />
		<page x='1000' y='1000' />
	</panel2d>
	<panel3d shadows='0' lighting='2' brightness='0' perspective='1' >
		<background rgb='32768' img='' style='0' />
		<table rgb='8404224' img='' style='0' size='0' />
		<camera xe='0' ye='0' ze='300' xt='0' yt='0' zt='0' xquat='0' yquat='0' zquat='0' wquat='1' />
		<camerakey0 xe='0' ye='0' ze='300' xt='0' yt='0' zt='0' xquat='0' yquat='0' zquat='0' wquat='1' />
		<camerakey1 xe='-3.67394e-14' ye='0' ze='-300' xt='0' yt='0' zt='0' xquat='0' yquat='1' zquat='0' wquat='6.12323e-17' />
		<camerakey2 xe='0' ye='-300' ze='6.66134e-14' xt='0' yt='0' zt='0' xquat='-0.707107' yquat='0' zquat='0' wquat='0.707107' />
		<camerakey3 xe='-3.67394e-14' ye='300' ze='6.66134e-14' xt='0' yt='0' zt='0' xquat='-4.32978e-17' yquat='0.707107' zquat='0.707107' wquat='4.32978e-17' />
		<camerakey4 xe='-300' ye='-6.66134e-14' ze='6.66134e-14' xt='0' yt='0' zt='0' xquat='-0.5' yquat='0.5' zquat='0.5' wquat='0.5' />
		<camerakey5 xe='300' ye='-6.66134e-14' ze='6.66134e-14' xt='0' yt='0' zt='0' xquat='-0.5' yquat='-0.5' zquat='-0.5' wquat='0.5' />
		<camerakey6 xe='-173.205' ye='-173.205' ze='173.205' xt='0' yt='0' zt='0' xquat='-0.424708' yquat='0.17592' zquat='0.339851' wquat='0.820473' />
	</panel3d>
	<layout >
		<view type='0' name='Main' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAAUQYAAH8DAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Ev_ChipChange' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAAUQYAAH8DAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Ev_DecodeSync' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAAUQYAAH8DAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Ev_Property_Change' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAAUQYAAH8DAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Ev_AddHeader' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAAUQYAAH8DAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='GetChannelList' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAAUQYAAH8DAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='LoadChannelList' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAAUQYAAH8DAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='ParseSTRemapPins' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAAUQYAAH8DAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Ev_Initialise' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAAUQYAAH8DAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='LoadPrescalers' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAAUQYAAH8DAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='ParsePin' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAAUQYAAH8DAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='LoadChannelPorts' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAAUQYAAH8DAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='ParseRemapPins' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAAUQYAAH8DAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
	</layout>
</document>
</root>
